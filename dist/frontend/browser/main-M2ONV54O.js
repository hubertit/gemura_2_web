import{a as w,b as $,c as jn}from"./chunk-2VMXMS7J.js";var pp;function ec(){return pp}function zn(n){let t=pp;return pp=n,t}var a0=Symbol("NotFound");function tr(n){return n===a0||n?.name==="\u0275NotFound"}function rc(n,t){return Object.is(n,t)}var kt=null,tc=!1,mp=1,rM=null,Ct=Symbol("SIGNAL");function me(n){let t=kt;return kt=n,t}function ac(){return kt}var nr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function or(n){if(tc)throw new Error("");if(kt===null)return;kt.consumerOnSignalRead(n);let t=kt.producersTail;if(t!==void 0&&t.producer===n)return;let e,o=kt.recomputing;if(o&&(e=t!==void 0?t.nextProducer:kt.producers,e!==void 0&&e.producer===n)){kt.producersTail=e,e.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===kt&&(!o||sM(i,kt)))return;let r=rr(kt),s={producer:n,consumer:kt,nextProducer:e,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};kt.producersTail=s,t!==void 0?t.nextProducer=s:kt.producers=s,r&&c0(n,s)}function s0(){mp++}function sc(n){if(!(rr(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===mp)){if(!n.producerMustRecompute(n)&&!Ma(n)){ic(n);return}n.producerRecomputeValue(n),ic(n)}}function gp(n){if(n.consumers===void 0)return;let t=tc;tc=!0;try{for(let e=n.consumers;e!==void 0;e=e.nextConsumer){let o=e.consumer;o.dirty||aM(o)}}finally{tc=t}}function fp(){return kt?.consumerAllowSignalWrites!==!1}function aM(n){n.dirty=!0,gp(n),n.consumerMarkedDirty?.(n)}function ic(n){n.dirty=!1,n.lastCleanEpoch=mp}function ir(n){return n&&(n.producersTail=void 0,n.recomputing=!0),me(n)}function ba(n,t){if(me(t),!n)return;n.recomputing=!1;let e=n.producersTail,o=e!==void 0?e.nextProducer:n.producers;if(o!==void 0){if(rr(n))do o=hp(o);while(o!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Ma(n){for(let t=n.producers;t!==void 0;t=t.nextProducer){let e=t.producer,o=t.lastReadVersion;if(o!==e.version||(sc(e),o!==e.version))return!0}return!1}function xa(n){if(rr(n)){let t=n.producers;for(;t!==void 0;)t=hp(t)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function c0(n,t){let e=n.consumersTail,o=rr(n);if(e!==void 0?(t.nextConsumer=e.nextConsumer,e.nextConsumer=t):(t.nextConsumer=void 0,n.consumers=t),t.prevConsumer=e,n.consumersTail=t,!o)for(let i=n.producers;i!==void 0;i=i.nextProducer)c0(i.producer,i)}function hp(n){let t=n.producer,e=n.nextProducer,o=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,o!==void 0?o.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=o;else if(t.consumers=o,!rr(t)){let r=t.producers;for(;r!==void 0;)r=hp(r)}return e}function rr(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function cc(n){rM?.(n)}function sM(n,t){let e=t.producersTail;if(e!==void 0){let o=t.producers;do{if(o===n)return!0;if(o===e)break;o=o.nextProducer}while(o!==void 0)}return!1}function Pa(n,t){let e=Object.create(cM);e.computation=n,t!==void 0&&(e.equal=t);let o=()=>{if(sc(e),or(e),e.value===ya)throw e.error;return e.value};return o[Ct]=e,cc(e),o}var nc=Symbol("UNSET"),oc=Symbol("COMPUTING"),ya=Symbol("ERRORED"),cM=$(w({},nr),{value:nc,dirty:!0,error:null,equal:rc,kind:"computed",producerMustRecompute(n){return n.value===nc||n.value===oc},producerRecomputeValue(n){if(n.value===oc)throw new Error("");let t=n.value;n.value=oc;let e=ir(n),o,i=!1;try{o=n.computation(),me(null),i=t!==nc&&t!==ya&&o!==ya&&n.equal(t,o)}catch(r){o=ya,n.error=r}finally{ba(n,e)}if(i){n.value=t;return}n.value=o,n.version++}});function lM(){throw new Error}var l0=lM;function d0(n){l0(n)}function _p(n){l0=n}var dM=null;function Cp(n,t){let e=Object.create(lc);e.value=n,t!==void 0&&(e.equal=t);let o=()=>u0(e);return o[Ct]=e,cc(e),[o,s=>ar(e,s),s=>vp(e,s)]}function u0(n){return or(n),n.value}function ar(n,t){fp()||d0(n),n.equal(n.value,t)||(n.value=t,uM(n))}function vp(n,t){fp()||d0(n),ar(n,t(n.value))}var lc=$(w({},nr),{equal:rc,value:void 0,kind:"signal"});function uM(n){n.version++,s0(),gp(n),dM?.(n)}function oe(n){return typeof n=="function"}function sr(n){let e=n(o=>{Error.call(o),o.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var dc=sr(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((o,i)=>`${i+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function ii(n,t){if(n){let e=n.indexOf(t);0<=e&&n.splice(e,1)}}var Ze=class n{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let r of e)r.remove(this);else e.remove(this);let{initialTeardown:o}=this;if(oe(o))try{o()}catch(r){t=r instanceof dc?r.errors:[r]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let r of i)try{p0(r)}catch(s){t=t??[],s instanceof dc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new dc(t)}}add(t){var e;if(t&&t!==this)if(this.closed)p0(t);else{if(t instanceof n){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}}_hasParent(t){let{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){let{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ii(e,t)}remove(t){let{_finalizers:e}=this;e&&ii(e,t),t instanceof n&&t._removeParent(this)}};Ze.EMPTY=(()=>{let n=new Ze;return n.closed=!0,n})();var yp=Ze.EMPTY;function uc(n){return n instanceof Ze||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function p0(n){oe(n)?n():n.unsubscribe()}var wn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var cr={setTimeout(n,t,...e){let{delegate:o}=cr;return o?.setTimeout?o.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){let{delegate:t}=cr;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function pc(n){cr.setTimeout(()=>{let{onUnhandledError:t}=wn;if(t)t(n);else throw n})}function ri(){}var m0=bp("C",void 0,void 0);function g0(n){return bp("E",void 0,n)}function f0(n){return bp("N",n,void 0)}function bp(n,t,e){return{kind:n,value:t,error:e}}var ai=null;function lr(n){if(wn.useDeprecatedSynchronousErrorHandling){let t=!ai;if(t&&(ai={errorThrown:!1,error:null}),n(),t){let{errorThrown:e,error:o}=ai;if(ai=null,e)throw o}}else n()}function h0(n){wn.useDeprecatedSynchronousErrorHandling&&ai&&(ai.errorThrown=!0,ai.error=n)}var si=class extends Ze{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,uc(t)&&t.add(this)):this.destination=gM}static create(t,e,o){return new dr(t,e,o)}next(t){this.isStopped?xp(f0(t),this):this._next(t)}error(t){this.isStopped?xp(g0(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?xp(m0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},pM=Function.prototype.bind;function Mp(n,t){return pM.call(n,t)}var Pp=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(o){mc(o)}}error(t){let{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(o){mc(o)}else mc(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){mc(e)}}},dr=class extends si{constructor(t,e,o){super();let i;if(oe(t)||!t)i={next:t??void 0,error:e??void 0,complete:o??void 0};else{let r;this&&wn.useDeprecatedNextContext?(r=Object.create(t),r.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Mp(t.next,r),error:t.error&&Mp(t.error,r),complete:t.complete&&Mp(t.complete,r)}):i=t}this.destination=new Pp(i)}};function mc(n){wn.useDeprecatedSynchronousErrorHandling?h0(n):pc(n)}function mM(n){throw n}function xp(n,t){let{onStoppedNotification:e}=wn;e&&cr.setTimeout(()=>e(n,t))}var gM={closed:!0,next:ri,error:mM,complete:ri};var ur=typeof Symbol=="function"&&Symbol.observable||"@@observable";function sn(n){return n}function Op(...n){return wp(n)}function wp(n){return n.length===0?sn:n.length===1?n[0]:function(e){return n.reduce((o,i)=>i(o),e)}}var ye=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){let o=new n;return o.source=this,o.operator=e,o}subscribe(e,o,i){let r=hM(e)?e:new dr(e,o,i);return lr(()=>{let{operator:s,source:u}=this;r.add(s?s.call(r,u):u?this._subscribe(r):this._trySubscribe(r))}),r}_trySubscribe(e){try{return this._subscribe(e)}catch(o){e.error(o)}}forEach(e,o){return o=_0(o),new o((i,r)=>{let s=new dr({next:u=>{try{e(u)}catch(p){r(p),s.unsubscribe()}},error:r,complete:i});this.subscribe(s)})}_subscribe(e){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(e)}[ur](){return this}pipe(...e){return wp(e)(this)}toPromise(e){return e=_0(e),new e((o,i)=>{let r;this.subscribe(s=>r=s,s=>i(s),()=>o(r))})}}return n.create=t=>new n(t),n})();function _0(n){var t;return(t=n??wn.Promise)!==null&&t!==void 0?t:Promise}function fM(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function hM(n){return n&&n instanceof si||fM(n)&&uc(n)}function Sp(n){return oe(n?.lift)}function Me(n){return t=>{if(Sp(t))return t.lift(function(e){try{return n(e,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(n,t,e,o,i){return new Ep(n,t,e,o,i)}var Ep=class extends si{constructor(t,e,o,i,r,s){super(t),this.onFinalize=r,this.shouldUnsubscribe=s,this._next=e?function(u){try{e(u)}catch(p){t.error(p)}}:super._next,this._error=i?function(u){try{i(u)}catch(p){t.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function pr(){return Me((n,t)=>{let e=null;n._refCount++;let o=ge(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){e=null;return}let i=n._connection,r=e;e=null,i&&(!r||i===r)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(o),o.closed||(e=n.connect())})}var mr=class extends ye{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Sp(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ze;let e=this.getSubject();t.add(this.source.subscribe(ge(e,void 0,()=>{this._teardown(),e.complete()},o=>{this._teardown(),e.error(o)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ze.EMPTY)}return t}refCount(){return pr()(this)}};var C0=sr(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ve=(()=>{class n extends ye{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let o=new gc(this,this);return o.operator=e,o}_throwIfClosed(){if(this.closed)throw new C0}next(e){lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let o of this.currentObservers)o.next(e)}})}error(e){lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:o}=this;for(;o.length;)o.shift().error(e)}})}complete(){lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:o,isStopped:i,observers:r}=this;return o||i?yp:(this.currentObservers=null,r.push(e),new Ze(()=>{this.currentObservers=null,ii(r,e)}))}_checkFinalizedStatuses(e){let{hasError:o,thrownError:i,isStopped:r}=this;o?e.error(i):r&&e.complete()}asObservable(){let e=new ye;return e.source=this,e}}return n.create=(t,e)=>new gc(t,e),n})(),gc=class extends Ve{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,o;(o=(e=this.destination)===null||e===void 0?void 0:e.next)===null||o===void 0||o.call(e,t)}error(t){var e,o;(o=(e=this.destination)===null||e===void 0?void 0:e.error)===null||o===void 0||o.call(e,t)}complete(){var t,e;(e=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||e===void 0||e.call(t)}_subscribe(t){var e,o;return(o=(e=this.source)===null||e===void 0?void 0:e.subscribe(t))!==null&&o!==void 0?o:yp}};var Ne=class extends Ve{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){let{hasError:t,thrownError:e,_value:o}=this;if(t)throw e;return this._throwIfClosed(),o}next(t){super.next(this._value=t)}};var Ip={now(){return(Ip.delegate||Date).now()},delegate:void 0};var fc=class extends Ze{constructor(t,e){super()}schedule(t,e=0){return this}};var Oa={setInterval(n,t,...e){let{delegate:o}=Oa;return o?.setInterval?o.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){let{delegate:t}=Oa;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var gr=class extends fc{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var o;if(this.closed)return this;this.state=t;let i=this.id,r=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,o=0){return Oa.setInterval(t.flush.bind(t,this),o)}recycleAsyncId(t,e,o=0){if(o!=null&&this.delay===o&&this.pending===!1)return e;e!=null&&Oa.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let o=this._execute(t,e);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let o=!1,i;try{this.work(t)}catch(r){o=!0,i=r||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:e}=this,{actions:o}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ii(o,this),t!=null&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}};var _M=1,Dp,kp={};function v0(n){return n in kp?(delete kp[n],!0):!1}var y0={setImmediate(n){let t=_M++;return kp[t]=!0,Dp||(Dp=Promise.resolve()),Dp.then(()=>v0(t)&&n()),t},clearImmediate(n){v0(n)}};var{setImmediate:CM,clearImmediate:vM}=y0,wa={setImmediate(...n){let{delegate:t}=wa;return(t?.setImmediate||CM)(...n)},clearImmediate(n){let{delegate:t}=wa;return(t?.clearImmediate||vM)(n)},delegate:void 0};var hc=class extends gr{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,o=0){return o!==null&&o>0?super.requestAsyncId(t,e,o):(t.actions.push(this),t._scheduled||(t._scheduled=wa.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,o=0){var i;if(o!=null?o>0:this.delay>0)return super.recycleAsyncId(t,e,o);let{actions:r}=t;e!=null&&((i=r[r.length-1])===null||i===void 0?void 0:i.id)!==e&&(wa.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}};var fr=class n{constructor(t,e=n.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,o){return new this.schedulerActionCtor(this,t).schedule(o,e)}};fr.now=Ip.now;var hr=class extends fr{constructor(t,e=fr.now){super(t,e),this.actions=[],this._active=!1}flush(t){let{actions:e}=this;if(this._active){e.push(t);return}let o;this._active=!0;do if(o=t.execute(t.state,t.delay))break;while(t=e.shift());if(this._active=!1,o){for(;t=e.shift();)t.unsubscribe();throw o}}};var _c=class extends hr{flush(t){this._active=!0;let e=this._scheduled;this._scheduled=void 0;let{actions:o}=this,i;t=t||o.shift();do if(i=t.execute(t.state,t.delay))break;while((t=o[0])&&t.id===e&&o.shift());if(this._active=!1,i){for(;(t=o[0])&&t.id===e&&o.shift();)t.unsubscribe();throw i}}};var Tp=new _c(hc);var ci=new hr(gr),b0=ci;var Tt=new ye(n=>n.complete());function Cc(n){return n&&oe(n.schedule)}function Ap(n){return n[n.length-1]}function vc(n){return oe(Ap(n))?n.pop():void 0}function Bn(n){return Cc(Ap(n))?n.pop():void 0}function M0(n,t){return typeof Ap(n)=="number"?n.pop():t}function P0(n,t,e,o){function i(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function u(y){try{C(o.next(y))}catch(x){s(x)}}function p(y){try{C(o.throw(y))}catch(x){s(x)}}function C(y){y.done?r(y.value):i(y.value).then(u,p)}C((o=o.apply(n,t||[])).next())})}function x0(n){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&n[t],o=0;if(e)return e.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function li(n){return this instanceof li?(this.v=n,this):new li(n)}function O0(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=e.apply(n,t||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(P){return function(F){return Promise.resolve(F).then(P,x)}}function u(P,F){o[P]&&(i[P]=function(Z){return new Promise(function(Q,X){r.push([P,Z,Q,X])>1||p(P,Z)})},F&&(i[P]=F(i[P])))}function p(P,F){try{C(o[P](F))}catch(Z){O(r[0][3],Z)}}function C(P){P.value instanceof li?Promise.resolve(P.value.v).then(y,x):O(r[0][2],P)}function y(P){p("next",P)}function x(P){p("throw",P)}function O(P,F){P(F),r.shift(),r.length&&p(r[0][0],r[0][1])}}function w0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],e;return t?t.call(n):(n=typeof x0=="function"?x0(n):n[Symbol.iterator](),e={},o("next"),o("throw"),o("return"),e[Symbol.asyncIterator]=function(){return this},e);function o(r){e[r]=n[r]&&function(s){return new Promise(function(u,p){s=n[r](s),i(u,p,s.done,s.value)})}}function i(r,s,u,p){Promise.resolve(p).then(function(C){r({value:C,done:u})},s)}}var _r=n=>n&&typeof n.length=="number"&&typeof n!="function";function yc(n){return oe(n?.then)}function bc(n){return oe(n[ur])}function Mc(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function xc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function yM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Pc=yM();function Oc(n){return oe(n?.[Pc])}function wc(n){return O0(this,arguments,function*(){let e=n.getReader();try{for(;;){let{value:o,done:i}=yield li(e.read());if(i)return yield li(void 0);yield yield li(o)}}finally{e.releaseLock()}})}function Sc(n){return oe(n?.getReader)}function Be(n){if(n instanceof ye)return n;if(n!=null){if(bc(n))return bM(n);if(_r(n))return MM(n);if(yc(n))return xM(n);if(Mc(n))return S0(n);if(Oc(n))return PM(n);if(Sc(n))return OM(n)}throw xc(n)}function bM(n){return new ye(t=>{let e=n[ur]();if(oe(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function MM(n){return new ye(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}function xM(n){return new ye(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,pc)})}function PM(n){return new ye(t=>{for(let e of n)if(t.next(e),t.closed)return;t.complete()})}function S0(n){return new ye(t=>{wM(n,t).catch(e=>t.error(e))})}function OM(n){return S0(wc(n))}function wM(n,t){var e,o,i,r;return P0(this,void 0,void 0,function*(){try{for(e=w0(n);o=yield e.next(),!o.done;){let s=o.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{o&&!o.done&&(r=e.return)&&(yield r.call(e))}finally{if(i)throw i.error}}t.complete()})}function Xt(n,t,e,o=0,i=!1){let r=t.schedule(function(){e(),i?n.add(this.schedule(null,o)):this.unsubscribe()},o);if(n.add(r),!i)return r}function Ec(n,t=0){return Me((e,o)=>{e.subscribe(ge(o,i=>Xt(o,n,()=>o.next(i),t),()=>Xt(o,n,()=>o.complete(),t),i=>Xt(o,n,()=>o.error(i),t)))})}function Ic(n,t=0){return Me((e,o)=>{o.add(n.schedule(()=>e.subscribe(o),t))})}function E0(n,t){return Be(n).pipe(Ic(t),Ec(t))}function I0(n,t){return Be(n).pipe(Ic(t),Ec(t))}function D0(n,t){return new ye(e=>{let o=0;return t.schedule(function(){o===n.length?e.complete():(e.next(n[o++]),e.closed||this.schedule())})})}function k0(n,t){return new ye(e=>{let o;return Xt(e,t,()=>{o=n[Pc](),Xt(e,t,()=>{let i,r;try{({value:i,done:r}=o.next())}catch(s){e.error(s);return}r?e.complete():e.next(i)},0,!0)}),()=>oe(o?.return)&&o.return()})}function Dc(n,t){if(!n)throw new Error("Iterable cannot be null");return new ye(e=>{Xt(e,t,()=>{let o=n[Symbol.asyncIterator]();Xt(e,t,()=>{o.next().then(i=>{i.done?e.complete():e.next(i.value)})},0,!0)})})}function T0(n,t){return Dc(wc(n),t)}function A0(n,t){if(n!=null){if(bc(n))return E0(n,t);if(_r(n))return D0(n,t);if(yc(n))return I0(n,t);if(Mc(n))return Dc(n,t);if(Oc(n))return k0(n,t);if(Sc(n))return T0(n,t)}throw xc(n)}function je(n,t){return t?A0(n,t):Be(n)}function Y(...n){let t=Bn(n);return je(n,t)}function Se(n,t){let e=oe(n)?n:()=>n,o=i=>i.error(e());return new ye(t?i=>t.schedule(o,0,i):o)}function Np(n){return!!n&&(n instanceof ye||oe(n.lift)&&oe(n.subscribe))}var fo=sr(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function N0(n){return n instanceof Date&&!isNaN(n)}function J(n,t){return Me((e,o)=>{let i=0;e.subscribe(ge(o,r=>{o.next(n.call(t,r,i++))}))})}var{isArray:SM}=Array;function EM(n,t){return SM(t)?n(...t):n(t)}function Cr(n){return J(t=>EM(n,t))}var{isArray:IM}=Array,{getPrototypeOf:DM,prototype:kM,keys:TM}=Object;function kc(n){if(n.length===1){let t=n[0];if(IM(t))return{args:t,keys:null};if(AM(t)){let e=TM(t);return{args:e.map(o=>t[o]),keys:e}}}return{args:n,keys:null}}function AM(n){return n&&typeof n=="object"&&DM(n)===kM}function Tc(n,t){return n.reduce((e,o,i)=>(e[o]=t[i],e),{})}function Sa(...n){let t=Bn(n),e=vc(n),{args:o,keys:i}=kc(n);if(o.length===0)return je([],t);let r=new ye(NM(o,t,i?s=>Tc(i,s):sn));return e?r.pipe(Cr(e)):r}function NM(n,t,e=sn){return o=>{R0(t,()=>{let{length:i}=n,r=new Array(i),s=i,u=i;for(let p=0;p<i;p++)R0(t,()=>{let C=je(n[p],t),y=!1;C.subscribe(ge(o,x=>{r[p]=x,y||(y=!0,u--),u||o.next(e(r.slice()))},()=>{--s||o.complete()}))},o)},o)}}function R0(n,t,e){n?Xt(e,n,t):t()}function F0(n,t,e,o,i,r,s,u){let p=[],C=0,y=0,x=!1,O=()=>{x&&!p.length&&!C&&t.complete()},P=Z=>C<o?F(Z):p.push(Z),F=Z=>{r&&t.next(Z),C++;let Q=!1;Be(e(Z,y++)).subscribe(ge(t,X=>{i?.(X),r?P(X):t.next(X)},()=>{Q=!0},void 0,()=>{if(Q)try{for(C--;p.length&&C<o;){let X=p.shift();s?Xt(t,s,()=>F(X)):F(X)}O()}catch(X){t.error(X)}}))};return n.subscribe(ge(t,P,()=>{x=!0,O()})),()=>{u?.()}}function Ge(n,t,e=1/0){return oe(t)?Ge((o,i)=>J((r,s)=>t(o,r,i,s))(Be(n(o,i))),e):(typeof t=="number"&&(e=t),Me((o,i)=>F0(o,i,n,e)))}function Un(n=1/0){return Ge(sn,n)}function L0(){return Un(1)}function ko(...n){return L0()(je(n,Bn(n)))}function Ea(n){return new ye(t=>{Be(n()).subscribe(t)})}function Rp(...n){let t=vc(n),{args:e,keys:o}=kc(n),i=new ye(r=>{let{length:s}=e;if(!s){r.complete();return}let u=new Array(s),p=s,C=s;for(let y=0;y<s;y++){let x=!1;Be(e[y]).subscribe(ge(r,O=>{x||(x=!0,C--),u[y]=O},()=>p--,void 0,()=>{(!p||!x)&&(C||r.next(o?Tc(o,u):u),r.complete())}))}});return t?i.pipe(Cr(t)):i}var RM=["addListener","removeListener"],FM=["addEventListener","removeEventListener"],LM=["on","off"];function ho(n,t,e,o){if(oe(e)&&(o=e,e=void 0),o)return ho(n,t,e).pipe(Cr(o));let[i,r]=zM(n)?FM.map(s=>u=>n[s](t,u,e)):VM(n)?RM.map(V0(n,t)):jM(n)?LM.map(V0(n,t)):[];if(!i&&_r(n))return Ge(s=>ho(s,t,e))(Be(n));if(!i)throw new TypeError("Invalid event target");return new ye(s=>{let u=(...p)=>s.next(1<p.length?p:p[0]);return i(u),()=>r(u)})}function V0(n,t){return e=>o=>n[e](t,o)}function VM(n){return oe(n.addListener)&&oe(n.removeListener)}function jM(n){return oe(n.on)&&oe(n.off)}function zM(n){return oe(n.addEventListener)&&oe(n.removeEventListener)}function di(n=0,t,e=b0){let o=-1;return t!=null&&(Cc(t)?e=t:o=t),new ye(i=>{let r=N0(n)?+n-e.now():n;r<0&&(r=0);let s=0;return e.schedule(function(){i.closed||(i.next(s++),0<=o?this.schedule(void 0,o):i.complete())},r)})}function Fp(n=0,t=ci){return n<0&&(n=0),di(n,n,t)}function Lp(...n){let t=Bn(n),e=M0(n,1/0),o=n;return o.length?o.length===1?Be(o[0]):Un(e)(je(o,t)):Tt}function vt(n,t){return Me((e,o)=>{let i=0;e.subscribe(ge(o,r=>n.call(t,r,i++)&&o.next(r)))})}function ae(n){return Me((t,e)=>{let o=null,i=!1,r;o=t.subscribe(ge(e,void 0,void 0,s=>{r=Be(n(s,ae(n)(t))),o?(o.unsubscribe(),o=null,r.subscribe(e)):i=!0})),i&&(o.unsubscribe(),o=null,r.subscribe(e))})}function j0(n,t,e,o,i){return(r,s)=>{let u=e,p=t,C=0;r.subscribe(ge(s,y=>{let x=C++;p=u?n(p,y,x):(u=!0,y),o&&s.next(p)},i&&(()=>{u&&s.next(p),s.complete()})))}}function Hn(n,t){return oe(t)?Ge(n,t,1):Ge(n,1)}function Vp(n,t=ci){return Me((e,o)=>{let i=null,r=null,s=null,u=()=>{if(i){i.unsubscribe(),i=null;let C=r;r=null,o.next(C)}};function p(){let C=s+n,y=t.now();if(y<C){i=this.schedule(void 0,C-y),o.add(i);return}u()}e.subscribe(ge(o,C=>{r=C,s=t.now(),i||(i=t.schedule(p,n),o.add(i))},()=>{u(),o.complete()},void 0,()=>{r=i=null}))})}function To(n){return Me((t,e)=>{let o=!1;t.subscribe(ge(e,i=>{o=!0,e.next(i)},()=>{o||e.next(n),e.complete()}))})}function gn(n){return n<=0?()=>Tt:Me((t,e)=>{let o=0;t.subscribe(ge(e,i=>{++o<=n&&(e.next(i),n<=o&&e.complete())}))})}function z0(){return Me((n,t)=>{n.subscribe(ge(t,ri))})}function B0(n){return J(()=>n)}function jp(n,t){return t?e=>ko(t.pipe(gn(1),z0()),e.pipe(jp(n))):Ge((e,o)=>Be(n(e,o)).pipe(gn(1),B0(e)))}function fn(n,t=ci){let e=di(n,t);return jp(()=>e)}function Ac(n=BM){return Me((t,e)=>{let o=!1;t.subscribe(ge(e,i=>{o=!0,e.next(i)},()=>o?e.complete():e.error(n())))})}function BM(){return new fo}function Ao(n){return Me((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}function _o(n,t){let e=arguments.length>=2;return o=>o.pipe(n?vt((i,r)=>n(i,r,o)):sn,gn(1),e?To(t):Ac(()=>new fo))}function vr(n){return n<=0?()=>Tt:Me((t,e)=>{let o=[];t.subscribe(ge(e,i=>{o.push(i),n<o.length&&o.shift()},()=>{for(let i of o)e.next(i);e.complete()},void 0,()=>{o=null}))})}function zp(n,t){let e=arguments.length>=2;return o=>o.pipe(n?vt((i,r)=>n(i,r,o)):sn,vr(1),e?To(t):Ac(()=>new fo))}function Bp(n){return Me((t,e)=>{let o,i=!1,r,s=()=>{o=t.subscribe(ge(e,void 0,void 0,u=>{r||(r=new Ve,Be(n(r)).subscribe(ge(e,()=>o?s():i=!0))),r&&r.next(u)})),i&&(o.unsubscribe(),o=null,i=!1,s())};s()})}function Up(n,t){return Me(j0(n,t,arguments.length>=2,!0))}function Hp(...n){let t=Bn(n);return Me((e,o)=>{(t?ko(n,e,t):ko(n,e)).subscribe(o)})}function mt(n,t){return Me((e,o)=>{let i=null,r=0,s=!1,u=()=>s&&!i&&o.complete();e.subscribe(ge(o,p=>{i?.unsubscribe();let C=0,y=r++;Be(n(p,y)).subscribe(i=ge(o,x=>o.next(t?t(p,x,y,C++):x),()=>{i=null,u()}))},()=>{s=!0,u()}))})}function St(n){return Me((t,e)=>{Be(n).subscribe(ge(e,()=>e.complete(),ri)),!e.closed&&t.subscribe(e)})}function yt(n,t,e){let o=oe(n)||t||e?{next:n,error:t,complete:e}:n;return o?Me((i,r)=>{var s;(s=o.subscribe)===null||s===void 0||s.call(o);let u=!0;i.subscribe(ge(r,p=>{var C;(C=o.next)===null||C===void 0||C.call(o,p),r.next(p)},()=>{var p;u=!1,(p=o.complete)===null||p===void 0||p.call(o),r.complete()},p=>{var C;u=!1,(C=o.error)===null||C===void 0||C.call(o,p),r.error(p)},()=>{var p,C;u&&((p=o.unsubscribe)===null||p===void 0||p.call(o)),(C=o.finalize)===null||C===void 0||C.call(o)}))}):sn}function U0(n){let t=me(null);try{return n()}finally{me(t)}}var jc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",U=class extends Error{code;constructor(t,e){super(Wn(t,e)),this.code=t}};function UM(n){return`NG0${Math.abs(n)}`}function Wn(n,t){return`${UM(n)}${t?": "+t:""}`}var Sn=globalThis;function Re(n){for(let t in n)if(n[t]===Re)return t;throw Error("")}function W0(n,t){for(let e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function vo(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(vo).join(", ")}]`;if(n==null)return""+n;let t=n.overriddenName||n.name;if(t)return`${t}`;let e=n.toString();if(e==null)return""+e;let o=e.indexOf(`
`);return o>=0?e.slice(0,o):e}function zc(n,t){return n?t?`${n} ${t}`:n:t||""}var HM=Re({__forward_ref__:Re});function gt(n){return n.__forward_ref__=gt,n.toString=function(){return vo(this())},n}function Et(n){return em(n)?n():n}function em(n){return typeof n=="function"&&n.hasOwnProperty(HM)&&n.__forward_ref__===gt}function q0(n,t){n==null&&tm(t,n,null,"!=")}function tm(n,t,e,o){throw new Error(`ASSERTION ERROR: ${n}`+(o==null?"":` [Expected=> ${e} ${o} ${t} <=Actual]`))}function L(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Nt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Aa(n){return $M(n,Bc)}function nm(n){return Aa(n)!==null}function $M(n,t){return n.hasOwnProperty(t)&&n[t]||null}function WM(n){let t=n?.[Bc]??null;return t||null}function Wp(n){return n&&n.hasOwnProperty(Rc)?n[Rc]:null}var Bc=Re({\u0275prov:Re}),Rc=Re({\u0275inj:Re}),K=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,e){this._desc=t,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=L({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function om(n){return n&&!!n.\u0275providers}var im=Re({\u0275cmp:Re}),rm=Re({\u0275dir:Re}),am=Re({\u0275pipe:Re}),sm=Re({\u0275mod:Re}),ka=Re({\u0275fac:Re}),fi=Re({__NG_ELEMENT_ID__:Re}),H0=Re({__NG_ENV_ID__:Re});function En(n){return typeof n=="string"?n:n==null?"":String(n)}function Fc(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():En(n)}var cm=Re({ngErrorCode:Re}),G0=Re({ngErrorMessage:Re}),Da=Re({ngTokenPath:Re});function lm(n,t){return Y0("",-200,t)}function Uc(n,t){throw new U(-201,!1)}function qM(n,t){n[Da]??=[];let e=n[Da],o;typeof t=="object"&&"multi"in t&&t?.multi===!0?(q0(t.provide,"Token with multi: true should have a provide property"),o=Fc(t.provide)):o=Fc(t),e[0]!==o&&n[Da].unshift(o)}function GM(n,t){let e=n[Da],o=n[cm],i=n[G0]||n.message;return n.message=ZM(i,o,e,t),n}function Y0(n,t,e){let o=new U(t,n);return o[cm]=t,o[G0]=n,e&&(o[Da]=e),o}function YM(n){return n[cm]}function ZM(n,t,e=[],o=null){let i="";e&&e.length>1&&(i=` Path: ${e.join(" -> ")}.`);let r=o?` Source: ${o}.`:"";return Wn(t,`${n}${r}${i}`)}var qp;function Z0(){return qp}function Bt(n){let t=qp;return qp=n,t}function dm(n,t,e){let o=Aa(n);if(o&&o.providedIn=="root")return o.value===void 0?o.value=o.factory():o.value;if(e&8)return null;if(t!==void 0)return t;Uc(n,"Injector")}var KM={},ui=KM,QM="__NG_DI_FLAG__",Gp=class{injector;constructor(t){this.injector=t}retrieve(t,e){let o=pi(e)||0;try{return this.injector.get(t,o&8?null:ui,o)}catch(i){if(tr(i))return i;throw i}}};function JM(n,t=0){let e=ec();if(e===void 0)throw new U(-203,!1);if(e===null)return dm(n,void 0,t);{let o=XM(t),i=e.retrieve(n,o);if(tr(i)){if(o.optional)return null;throw i}return i}}function j(n,t=0){return(Z0()||JM)(Et(n),t)}function A(n,t){return j(n,pi(t))}function pi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function XM(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Yp(n){let t=[];for(let e=0;e<n.length;e++){let o=Et(n[e]);if(Array.isArray(o)){if(o.length===0)throw new U(900,!1);let i,r=0;for(let s=0;s<o.length;s++){let u=o[s],p=ex(u);typeof p=="number"?p===-1?i=u.token:r|=p:i=u}t.push(j(i,r))}else t.push(j(o))}return t}function ex(n){return n[QM]}function No(n,t){let e=n.hasOwnProperty(ka);return e?n[ka]:null}function K0(n,t,e){if(n.length!==t.length)return!1;for(let o=0;o<n.length;o++){let i=n[o],r=t[o];if(e&&(i=e(i),r=e(r)),r!==i)return!1}return!0}function Q0(n){return n.flat(Number.POSITIVE_INFINITY)}function Hc(n,t){n.forEach(e=>Array.isArray(e)?Hc(e,t):t(e))}function um(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Na(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function J0(n,t){let e=[];for(let o=0;o<n;o++)e.push(t);return e}function X0(n,t,e,o){let i=n.length;if(i==t)n.push(e,o);else if(i===1)n.push(o,n[0]),n[0]=e;else{for(i--,n.push(n[i-1],n[i]);i>t;){let r=i-2;n[i]=n[r],i--}n[t]=e,n[t+1]=o}}function $c(n,t,e){let o=br(n,t);return o>=0?n[o|1]=e:(o=~o,X0(n,o,t,e)),o}function Wc(n,t){let e=br(n,t);if(e>=0)return n[e|1]}function br(n,t){return tx(n,t,1)}function tx(n,t,e){let o=0,i=n.length>>e;for(;i!==o;){let r=o+(i-o>>1),s=n[r<<e];if(t===s)return r<<e;s>t?i=r:o=r+1}return~(i<<e)}var Fo={},At=[],Lo=new K(""),pm=new K("",-1),mm=new K(""),Ta=class{get(t,e=ui){if(e===ui){let i=Y0("",-201);throw i.name="\u0275NotFound",i}return e}};function gm(n){return n[sm]||null}function yo(n){return n[im]||null}function fm(n){return n[rm]||null}function e_(n){return n[am]||null}function Vo(n){return{\u0275providers:n}}function t_(...n){return{\u0275providers:hm(!0,n),\u0275fromNgModule:!0}}function hm(n,...t){let e=[],o=new Set,i,r=s=>{e.push(s)};return Hc(t,s=>{let u=s;Lc(u,r,[],o)&&(i||=[],i.push(u))}),i!==void 0&&n_(i,r),e}function n_(n,t){for(let e=0;e<n.length;e++){let{ngModule:o,providers:i}=n[e];_m(i,r=>{t(r,o)})}}function Lc(n,t,e,o){if(n=Et(n),!n)return!1;let i=null,r=Wp(n),s=!r&&yo(n);if(!r&&!s){let p=n.ngModule;if(r=Wp(p),r)i=p;else return!1}else{if(s&&!s.standalone)return!1;i=n}let u=o.has(i);if(s){if(u)return!1;if(o.add(i),s.dependencies){let p=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let C of p)Lc(C,t,e,o)}}else if(r){if(r.imports!=null&&!u){o.add(i);let C;try{Hc(r.imports,y=>{Lc(y,t,e,o)&&(C||=[],C.push(y))})}finally{}C!==void 0&&n_(C,t)}if(!u){let C=No(i)||(()=>new i);t({provide:i,useFactory:C,deps:At},i),t({provide:mm,useValue:i,multi:!0},i),t({provide:Lo,useValue:()=>j(i),multi:!0},i)}let p=r.providers;if(p!=null&&!u){let C=n;_m(p,y=>{t(y,C)})}}else return!1;return i!==n&&n.providers!==void 0}function _m(n,t){for(let e of n)om(e)&&(e=e.\u0275providers),Array.isArray(e)?_m(e,t):t(e)}var nx=Re({provide:String,useValue:Re});function o_(n){return n!==null&&typeof n=="object"&&nx in n}function ox(n){return!!(n&&n.useExisting)}function ix(n){return!!(n&&n.useFactory)}function mi(n){return typeof n=="function"}function i_(n){return!!n.useClass}var Ra=new K(""),Nc={},$0={},$p;function Fa(){return $p===void 0&&($p=new Ta),$p}var rt=class{},gi=class extends rt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,e,o,i){super(),this.parent=e,this.source=o,this.scopes=i,Kp(t,s=>this.processProvider(s)),this.records.set(pm,yr(void 0,this)),i.has("environment")&&this.records.set(rt,yr(void 0,this));let r=this.records.get(Ra);r!=null&&typeof r.value=="string"&&this.scopes.add(r.value),this.injectorDefTypes=new Set(this.get(mm,At,{self:!0}))}retrieve(t,e){let o=pi(e)||0;try{return this.get(t,ui,o)}catch(i){if(tr(i))return i;throw i}}destroy(){Ia(this),this._destroyed=!0;let t=me(null);try{for(let o of this._ngOnDestroyHooks)o.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let o of e)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(t)}}onDestroy(t){return Ia(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Ia(this);let e=zn(this),o=Bt(void 0),i;try{return t()}finally{zn(e),Bt(o)}}get(t,e=ui,o){if(Ia(this),t.hasOwnProperty(H0))return t[H0](this);let i=pi(o),r,s=zn(this),u=Bt(void 0);try{if(!(i&4)){let C=this.records.get(t);if(C===void 0){let y=lx(t)&&Aa(t);y&&this.injectableDefInScope(y)?C=yr(Zp(t),Nc):C=null,this.records.set(t,C)}if(C!=null)return this.hydrate(t,C,i)}let p=i&2?Fa():this.parent;return e=i&8&&e===ui?null:e,p.get(t,e)}catch(p){let C=YM(p);throw C===-200||C===-201?new U(C,null):p}finally{Bt(u),zn(s)}}resolveInjectorInitializers(){let t=me(null),e=zn(this),o=Bt(void 0),i;try{let r=this.get(Lo,At,{self:!0});for(let s of r)s()}finally{zn(e),Bt(o),me(t)}}toString(){let t=[],e=this.records;for(let o of e.keys())t.push(vo(o));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Et(t);let e=mi(t)?t:Et(t&&t.provide),o=ax(t);if(!mi(t)&&t.multi===!0){let i=this.records.get(e);i||(i=yr(void 0,Nc,!0),i.factory=()=>Yp(i.multi),this.records.set(e,i)),e=t,i.multi.push(t)}this.records.set(e,o)}hydrate(t,e,o){let i=me(null);try{if(e.value===$0)throw lm(vo(t));return e.value===Nc&&(e.value=$0,e.value=e.factory(void 0,o)),typeof e.value=="object"&&e.value&&cx(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{me(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let e=Et(t.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){let e=this._onDestroyHooks.indexOf(t);e!==-1&&this._onDestroyHooks.splice(e,1)}};function Zp(n){let t=Aa(n),e=t!==null?t.factory:No(n);if(e!==null)return e;if(n instanceof K)throw new U(204,!1);if(n instanceof Function)return rx(n);throw new U(204,!1)}function rx(n){if(n.length>0)throw new U(204,!1);let e=WM(n);return e!==null?()=>e.factory(n):()=>new n}function ax(n){if(o_(n))return yr(void 0,n.useValue);{let t=Cm(n);return yr(t,Nc)}}function Cm(n,t,e){let o;if(mi(n)){let i=Et(n);return No(i)||Zp(i)}else if(o_(n))o=()=>Et(n.useValue);else if(ix(n))o=()=>n.useFactory(...Yp(n.deps||[]));else if(ox(n))o=(i,r)=>j(Et(n.useExisting),r!==void 0&&r&8?8:void 0);else{let i=Et(n&&(n.useClass||n.provide));if(sx(n))o=()=>new i(...Yp(n.deps));else return No(i)||Zp(i)}return o}function Ia(n){if(n.destroyed)throw new U(205,!1)}function yr(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function sx(n){return!!n.deps}function cx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function lx(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function Kp(n,t){for(let e of n)Array.isArray(e)?Kp(e,t):e&&om(e)?Kp(e.\u0275providers,t):t(e)}function Mt(n,t){let e;n instanceof gi?(Ia(n),e=n):e=new Gp(n);let o,i=zn(e),r=Bt(void 0);try{return t()}finally{zn(i),Bt(r)}}function r_(){return Z0()!==void 0||ec()!=null}var In=0,re=1,ce=2,bt=3,hn=4,Ht=5,Mr=6,xr=7,Rt=8,hi=9,qn=10,Ye=11,Pr=12,vm=13,_i=14,en=15,jo=16,Ci=17,Gn=18,La=19,ym=20,Co=21,qc=22,Or=23,ln=24,vi=25,et=26,a_=1;var zo=7,Va=8,yi=9,$t=10;function Yn(n){return Array.isArray(n)&&typeof n[a_]=="object"}function Dn(n){return Array.isArray(n)&&n[a_]===!0}function bm(n){return(n.flags&4)!==0}function Bo(n){return n.componentOffset>-1}function wr(n){return(n.flags&1)===1}function Zn(n){return!!n.template}function Sr(n){return(n[ce]&512)!==0}function bi(n){return(n[ce]&256)===256}var Mm="svg",s_="math";function _n(n){for(;Array.isArray(n);)n=n[In];return n}function xm(n,t){return _n(t[n])}function kn(n,t){return _n(t[n.index])}function Gc(n,t){return n.data[t]}function Yc(n,t){return n[t]}function Pm(n,t,e,o){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=o}function Cn(n,t){let e=t[n];return Yn(e)?e:e[In]}function c_(n){return(n[ce]&4)===4}function Zc(n){return(n[ce]&128)===128}function l_(n){return Dn(n[bt])}function Uo(n,t){return t==null?null:n[t]}function Om(n){n[Ci]=0}function wm(n){n[ce]&1024||(n[ce]|=1024,Zc(n)&&Mi(n))}function d_(n,t){for(;n>0;)t=t[_i],n--;return t}function ja(n){return!!(n[ce]&9216||n[ln]?.dirty)}function Kc(n){n[qn].changeDetectionScheduler?.notify(8),n[ce]&64&&(n[ce]|=1024),ja(n)&&Mi(n)}function Mi(n){n[qn].changeDetectionScheduler?.notify(0);let t=Ro(n);for(;t!==null&&!(t[ce]&8192||(t[ce]|=8192,!Zc(t)));)t=Ro(t)}function Sm(n,t){if(bi(n))throw new U(911,!1);n[Co]===null&&(n[Co]=[]),n[Co].push(t)}function u_(n,t){if(n[Co]===null)return;let e=n[Co].indexOf(t);e!==-1&&n[Co].splice(e,1)}function Ro(n){let t=n[bt];return Dn(t)?t[bt]:t}function Em(n){return n[xr]??=[]}function Im(n){return n.cleanup??=[]}function p_(n,t,e,o){let i=Em(t);i.push(e),n.firstCreatePass&&Im(n).push(o,i.length-1)}var be={lFrame:x_(null),bindingsEnabled:!0,skipHydrationRootTNode:null},za=(function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n})(za||{}),dx=0,Qp=!1;function m_(){return be.lFrame.elementDepthCount}function g_(){be.lFrame.elementDepthCount++}function Dm(){be.lFrame.elementDepthCount--}function Qc(){return be.bindingsEnabled}function km(){return be.skipHydrationRootTNode!==null}function Tm(n){return be.skipHydrationRootTNode===n}function Am(){be.skipHydrationRootTNode=null}function de(){return be.lFrame.lView}function dt(){return be.lFrame.tView}function h(n){return be.lFrame.contextLView=n,n[Rt]}function _(n){return be.lFrame.contextLView=null,n}function ft(){let n=Nm();for(;n!==null&&n.type===64;)n=n.parent;return n}function Nm(){return be.lFrame.currentTNode}function f_(){let n=be.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Er(n,t){let e=be.lFrame;e.currentTNode=n,e.isParent=t}function Rm(){return be.lFrame.isParent}function Fm(){be.lFrame.isParent=!1}function h_(){return be.lFrame.contextLView}function Lm(n){tm("Must never be called in production mode"),dx=n}function Vm(){return Qp}function Jc(n){let t=Qp;return Qp=n,t}function Ba(){let n=be.lFrame,t=n.bindingRootIndex;return t===-1&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function jm(){return be.lFrame.bindingIndex}function __(n){return be.lFrame.bindingIndex=n}function Ua(){return be.lFrame.bindingIndex++}function Ha(n){let t=be.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function C_(){return be.lFrame.inI18n}function v_(n,t){let e=be.lFrame;e.bindingIndex=e.bindingRootIndex=n,Xc(t)}function y_(){return be.lFrame.currentDirectiveIndex}function Xc(n){be.lFrame.currentDirectiveIndex=n}function b_(n){let t=be.lFrame.currentDirectiveIndex;return t===-1?null:n[t]}function el(){return be.lFrame.currentQueryIndex}function $a(n){be.lFrame.currentQueryIndex=n}function ux(n){let t=n[re];return t.type===2?t.declTNode:t.type===1?n[Ht]:null}function zm(n,t,e){if(e&4){let i=t,r=n;for(;i=i.parent,i===null&&!(e&1);)if(i=ux(r),i===null||(r=r[_i],i.type&10))break;if(i===null)return!1;t=i,n=r}let o=be.lFrame=M_();return o.currentTNode=t,o.lView=n,!0}function tl(n){let t=M_(),e=n[re];be.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function M_(){let n=be.lFrame,t=n===null?null:n.child;return t===null?x_(n):t}function x_(n){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=t),t}function P_(){let n=be.lFrame;return be.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Bm=P_;function nl(){let n=P_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function O_(n){return(be.lFrame.contextLView=d_(n,be.lFrame.contextLView))[Rt]}function Kn(){return be.lFrame.selectedIndex}function Ho(n){be.lFrame.selectedIndex=n}function ol(){let n=be.lFrame;return Gc(n.tView,n.selectedIndex)}function B(){be.lFrame.currentNamespace=Mm}function w_(){return be.lFrame.currentNamespace}var S_=!0;function il(){return S_}function Wa(n){S_=n}var px={elements:void 0};function rl(){return px}function Jp(n,t=null,e=null,o){let i=Um(n,t,e,o);return i.resolveInjectorInitializers(),i}function Um(n,t=null,e=null,o,i=new Set){let r=[e||At,t_(n)];return o=o||(typeof n=="object"?void 0:vo(n)),new gi(r,t||Fa(),o||null,i)}var Ut=class n{static THROW_IF_NOT_FOUND=ui;static NULL=new Ta;static create(t,e){if(Array.isArray(t))return Jp({name:""},e,t,"");{let o=t.name??"";return Jp({name:o},t.parent,t.providers,o)}}static \u0275prov=L({token:n,providedIn:"any",factory:()=>j(pm)});static __NG_ELEMENT_ID__=-1},tt=new K(""),vn=(()=>{class n{static __NG_ELEMENT_ID__=mx;static __NG_ENV_ID__=e=>e}return n})(),Vc=class extends vn{_lView;constructor(t){super(),this._lView=t}get destroyed(){return bi(this._lView)}onDestroy(t){let e=this._lView;return Sm(e,t),()=>u_(e,t)}};function mx(){return new Vc(de())}var cn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Wt=new K("",{providedIn:"root",factory:()=>{let n=A(rt),t;return e=>{n.destroyed&&!t?setTimeout(()=>{throw e}):(t??=n.get(cn),t.handleError(e))}}}),E_={provide:Lo,useValue:()=>void A(cn),multi:!0};function Hm(n){return typeof n=="function"&&n[Ct]!==void 0}function Ft(n,t){let[e,o,i]=Cp(n,t?.equal),r=e,s=r[Ct];return r.set=o,r.update=i,r.asReadonly=$m.bind(r),r}function $m(){let n=this[Ct];if(n.readonlyFn===void 0){let t=()=>this();t[Ct]=n,n.readonlyFn=t}return n.readonlyFn}function Wm(n){return Hm(n)&&typeof n.set=="function"}var $n=class{},qa=new K("",{providedIn:"root",factory:()=>!1});var qm=new K(""),Gm=new K("");var Ga=(()=>{class n{view;node;constructor(e,o){this.view=e,this.node=o}static __NG_ELEMENT_ID__=gx}return n})();function gx(){return new Ga(de(),ft())}var Qn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ne(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ye(e=>{e.next(!1),e.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),Ir=(()=>{class n{internalPendingTasks=A(Qn);scheduler=A($n);errorHandler=A(Wt);add(){let e=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(e)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(e))}}run(e){let o=this.add();e().catch(this.errorHandler).finally(o)}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})();function Dr(...n){}var al=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new Xp})}return n})(),Xp=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let e=t.zone,o=this.queues.get(e);o.has(t)&&(o.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let e=t.zone;this.queues.has(e)||this.queues.set(e,new Set);let o=this.queues.get(e);o.has(t)||o.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[e,o]of this.queues)e===null?t||=this.flushQueue(o):t||=e.run(()=>this.flushQueue(o));t||(this.dirtyEffectCount=0)}}flushQueue(t){let e=!1;for(let o of t)o.dirty&&(this.dirtyEffectCount--,e=!0,o.run());return e}};function es(n){return{toString:n}.toString()}function bx(n){return typeof n=="function"}var fl=class{previousValue;currentValue;firstChange;constructor(t,e,o){this.previousValue=t,this.currentValue=e,this.firstChange=o}isFirstChange(){return this.firstChange}};function sC(n,t,e,o){t!==null?t.applyValueToInputSignal(t,o):n[e]=o}var It=(()=>{let n=()=>cC;return n.ngInherit=!0,n})();function cC(n){return n.type.prototype.ngOnChanges&&(n.setInput=xx),Mx}function Mx(){let n=dC(this),t=n?.current;if(t){let e=n.previous;if(e===Fo)n.previous=t;else for(let o in t)e[o]=t[o];n.current=null,this.ngOnChanges(t)}}function xx(n,t,e,o,i){let r=this.declaredInputs[o],s=dC(n)||Px(n,{previous:Fo,current:null}),u=s.current||(s.current={}),p=s.previous,C=p[r];u[r]=new fl(C&&C.currentValue,e,p===Fo),sC(n,t,i,e)}var lC="__ngSimpleChanges__";function dC(n){return n[lC]||null}function Px(n,t){return n[lC]=t}var I_=[];var ze=function(n,t=null,e){for(let o=0;o<I_.length;o++){let i=I_[o];i(n,t,e)}};function Ox(n,t,e){let{ngOnChanges:o,ngOnInit:i,ngDoCheck:r}=t.type.prototype;if(o){let s=cC(t);(e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s)}i&&(e.preOrderHooks??=[]).push(0-n,i),r&&((e.preOrderHooks??=[]).push(n,r),(e.preOrderCheckHooks??=[]).push(n,r))}function uC(n,t){for(let e=t.directiveStart,o=t.directiveEnd;e<o;e++){let r=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:u,ngAfterViewInit:p,ngAfterViewChecked:C,ngOnDestroy:y}=r;s&&(n.contentHooks??=[]).push(-e,s),u&&((n.contentHooks??=[]).push(e,u),(n.contentCheckHooks??=[]).push(e,u)),p&&(n.viewHooks??=[]).push(-e,p),C&&((n.viewHooks??=[]).push(e,C),(n.viewCheckHooks??=[]).push(e,C)),y!=null&&(n.destroyHooks??=[]).push(e,y)}}function ul(n,t,e){pC(n,t,3,e)}function pl(n,t,e,o){(n[ce]&3)===e&&pC(n,t,e,o)}function Ym(n,t){let e=n[ce];(e&3)===t&&(e&=16383,e+=1,n[ce]=e)}function pC(n,t,e,o){let i=o!==void 0?n[Ci]&65535:0,r=o??-1,s=t.length-1,u=0;for(let p=i;p<s;p++)if(typeof t[p+1]=="number"){if(u=t[p],o!=null&&u>=o)break}else t[p]<0&&(n[Ci]+=65536),(u<r||r==-1)&&(wx(n,e,t,p),n[Ci]=(n[Ci]&4294901760)+p+2),p++}function D_(n,t){ze(4,n,t);let e=me(null);try{t.call(n)}finally{me(e),ze(5,n,t)}}function wx(n,t,e,o){let i=e[o]<0,r=e[o+1],s=i?-e[o]:e[o],u=n[s];i?n[ce]>>14<n[Ci]>>16&&(n[ce]&3)===t&&(n[ce]+=16384,D_(u,r)):D_(u,r)}var Tr=-1,Oi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,e,o,i){this.factory=t,this.name=i,this.canSeeViewProviders=e,this.injectImpl=o}};function Sx(n){return(n.flags&8)!==0}function Ex(n){return(n.flags&16)!==0}function Ix(n,t,e){let o=0;for(;o<e.length;){let i=e[o];if(typeof i=="number"){if(i!==0)break;o++;let r=e[o++],s=e[o++],u=e[o++];n.setAttribute(t,s,u,r)}else{let r=i,s=e[++o];Dx(r)?n.setProperty(t,r,s):n.setAttribute(t,r,s),o++}}return o}function mC(n){return n===3||n===4||n===6}function Dx(n){return n.charCodeAt(0)===64}function Ar(n,t){if(!(t===null||t.length===0))if(n===null||n.length===0)n=t.slice();else{let e=-1;for(let o=0;o<t.length;o++){let i=t[o];typeof i=="number"?e=i:e===0||(e===-1||e===2?k_(n,e,i,null,t[++o]):k_(n,e,i,null,null))}}return n}function k_(n,t,e,o,i){let r=0,s=n.length;if(t===-1)s=-1;else for(;r<n.length;){let u=n[r++];if(typeof u=="number"){if(u===t){s=-1;break}else if(u>t){s=r-1;break}}}for(;r<n.length;){let u=n[r];if(typeof u=="number")break;if(u===e){i!==null&&(n[r+1]=i);return}r++,i!==null&&r++}s!==-1&&(n.splice(s,0,t),r=s+1),n.splice(r++,0,e),i!==null&&n.splice(r++,0,i)}function gC(n){return n!==Tr}function hl(n){return n&32767}function kx(n){return n>>16}function _l(n,t){let e=kx(n),o=t;for(;e>0;)o=o[_i],e--;return o}var rg=!0;function Cl(n){let t=rg;return rg=n,t}var Tx=256,fC=Tx-1,hC=5,Ax=0,Jn={};function Nx(n,t,e){let o;typeof e=="string"?o=e.charCodeAt(0)||0:e.hasOwnProperty(fi)&&(o=e[fi]),o==null&&(o=e[fi]=Ax++);let i=o&fC,r=1<<i;t.data[n+(i>>hC)]|=r}function vl(n,t){let e=_C(n,t);if(e!==-1)return e;let o=t[re];o.firstCreatePass&&(n.injectorIndex=t.length,Zm(o.data,n),Zm(t,null),Zm(o.blueprint,null));let i=Rg(n,t),r=n.injectorIndex;if(gC(i)){let s=hl(i),u=_l(i,t),p=u[re].data;for(let C=0;C<8;C++)t[r+C]=u[s+C]|p[s+C]}return t[r+8]=i,r}function Zm(n,t){n.push(0,0,0,0,0,0,0,0,t)}function _C(n,t){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||t[n.injectorIndex+8]===null?-1:n.injectorIndex}function Rg(n,t){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let e=0,o=null,i=t;for(;i!==null;){if(o=MC(i),o===null)return Tr;if(e++,i=i[_i],o.injectorIndex!==-1)return o.injectorIndex|e<<16}return Tr}function ag(n,t,e){Nx(n,t,e)}function Rx(n,t){if(t==="class")return n.classes;if(t==="style")return n.styles;let e=n.attrs;if(e){let o=e.length,i=0;for(;i<o;){let r=e[i];if(mC(r))break;if(r===0)i=i+2;else if(typeof r=="number")for(i++;i<o&&typeof e[i]=="string";)i++;else{if(r===t)return e[i+1];i=i+2}}}return null}function CC(n,t,e){if(e&8||n!==void 0)return n;Uc(t,"NodeInjector")}function vC(n,t,e,o){if(e&8&&o===void 0&&(o=null),(e&3)===0){let i=n[hi],r=Bt(void 0);try{return i?i.get(t,o,e&8):dm(t,o,e&8)}finally{Bt(r)}}return CC(o,t,e)}function yC(n,t,e,o=0,i){if(n!==null){if(t[ce]&2048&&!(o&2)){let s=jx(n,t,e,o,Jn);if(s!==Jn)return s}let r=bC(n,t,e,o,Jn);if(r!==Jn)return r}return vC(t,e,o,i)}function bC(n,t,e,o,i){let r=Lx(e);if(typeof r=="function"){if(!zm(t,n,o))return o&1?CC(i,e,o):vC(t,e,o,i);try{let s;if(s=r(o),s==null&&!(o&8))Uc(e);else return s}finally{Bm()}}else if(typeof r=="number"){let s=null,u=_C(n,t),p=Tr,C=o&1?t[en][Ht]:null;for((u===-1||o&4)&&(p=u===-1?Rg(n,t):t[u+8],p===Tr||!A_(o,!1)?u=-1:(s=t[re],u=hl(p),t=_l(p,t)));u!==-1;){let y=t[re];if(T_(r,u,y.data)){let x=Fx(u,t,e,s,o,C);if(x!==Jn)return x}p=t[u+8],p!==Tr&&A_(o,t[re].data[u+8]===C)&&T_(r,u,t)?(s=y,u=hl(p),t=_l(p,t)):u=-1}}return i}function Fx(n,t,e,o,i,r){let s=t[re],u=s.data[n+8],p=o==null?Bo(u)&&rg:o!=s&&(u.type&3)!==0,C=i&1&&r===u,y=ml(u,s,e,p,C);return y!==null?Ka(t,s,y,u,i):Jn}function ml(n,t,e,o,i){let r=n.providerIndexes,s=t.data,u=r&1048575,p=n.directiveStart,C=n.directiveEnd,y=r>>20,x=o?u:u+y,O=i?u+y:C;for(let P=x;P<O;P++){let F=s[P];if(P<p&&e===F||P>=p&&F.type===e)return P}if(i){let P=s[p];if(P&&Zn(P)&&P.type===e)return p}return null}function Ka(n,t,e,o,i){let r=n[e],s=t.data;if(r instanceof Oi){let u=r;if(u.resolving){let P=Fc(s[e]);throw lm(P)}let p=Cl(u.canSeeViewProviders);u.resolving=!0;let C=s[e].type||s[e],y,x=u.injectImpl?Bt(u.injectImpl):null,O=zm(n,o,0);try{r=n[e]=u.factory(void 0,i,s,n,o),t.firstCreatePass&&e>=o.directiveStart&&Ox(e,s[e],t)}finally{x!==null&&Bt(x),Cl(p),u.resolving=!1,Bm()}}return r}function Lx(n){if(typeof n=="string")return n.charCodeAt(0)||0;let t=n.hasOwnProperty(fi)?n[fi]:void 0;return typeof t=="number"?t>=0?t&fC:Vx:t}function T_(n,t,e){let o=1<<n;return!!(e[t+(n>>hC)]&o)}function A_(n,t){return!(n&2)&&!(n&1&&t)}var Pi=class{_tNode;_lView;constructor(t,e){this._tNode=t,this._lView=e}get(t,e,o){return yC(this._tNode,this._lView,t,pi(o),e)}};function Vx(){return new Pi(ft(),de())}function dn(n){return es(()=>{let t=n.prototype.constructor,e=t[ka]||sg(t),o=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==o;){let r=i[ka]||sg(i);if(r&&r!==e)return r;i=Object.getPrototypeOf(i)}return r=>new r})}function sg(n){return em(n)?()=>{let t=sg(Et(n));return t&&t()}:No(n)}function jx(n,t,e,o,i){let r=n,s=t;for(;r!==null&&s!==null&&s[ce]&2048&&!Sr(s);){let u=bC(r,s,e,o|2,Jn);if(u!==Jn)return u;let p=r.parent;if(!p){let C=s[ym];if(C){let y=C.get(e,Jn,o);if(y!==Jn)return y}p=MC(s),s=s[_i]}r=p}return i}function MC(n){let t=n[re],e=t.type;return e===2?t.declTNode:e===1?n[Ht]:null}function ts(n){return Rx(ft(),n)}function zx(){return Fr(ft(),de())}function Fr(n,t){return new Lt(kn(n,t))}var Lt=(()=>{class n{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=zx}return n})();function xC(n){return n instanceof Lt?n.nativeElement:n}function Bx(){return this._results[Symbol.iterator]()}var yl=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ve}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;let o=Q0(t);(this._changesDetected=!K0(this._results,o,e))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Bx};function PC(n){return(n.flags&128)===128}var Fg=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Fg||{}),OC=new Map,Ux=0;function Hx(){return Ux++}function $x(n){OC.set(n[La],n)}function cg(n){OC.delete(n[La])}var N_="__ngContext__";function Nr(n,t){Yn(t)?(n[N_]=t[La],$x(t)):n[N_]=t}function wC(n){return EC(n[Pr])}function SC(n){return EC(n[hn])}function EC(n){for(;n!==null&&!Dn(n);)n=n[hn];return n}var lg;function Lg(n){lg=n}function Vg(){if(lg!==void 0)return lg;if(typeof document<"u")return document;throw new U(210,!1)}var Nl=new K("",{providedIn:"root",factory:()=>Wx}),Wx="ng",Rl=new K(""),Wo=new K("",{providedIn:"platform",factory:()=>"unknown"});var Fl=new K("",{providedIn:"root",factory:()=>Vg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var qx="h",Gx="b";var IC=!1,DC=new K("",{providedIn:"root",factory:()=>IC});var jg=new K("");var Yx=(n,t,e,o)=>{};function Zx(n,t,e,o){Yx(n,t,e,o)}function Ll(n){return(n.flags&32)===32}var Kx=()=>null;function kC(n,t,e=!1){return Kx(n,t,e)}function TC(n,t){let e=n.contentQueries;if(e!==null){let o=me(null);try{for(let i=0;i<e.length;i+=2){let r=e[i],s=e[i+1];if(s!==-1){let u=n.data[s];$a(r),u.contentQueries(2,t[s],s)}}}finally{me(o)}}}function dg(n,t,e){$a(0);let o=me(null);try{t(n,e)}finally{me(o)}}function zg(n,t,e){if(bm(t)){let o=me(null);try{let i=t.directiveStart,r=t.directiveEnd;for(let s=i;s<r;s++){let u=n.data[s];if(u.contentQueries){let p=e[s];u.contentQueries(1,p,s)}}}finally{me(o)}}}var bo=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(bo||{}),sl;function Qx(){if(sl===void 0&&(sl=null,Sn.trustedTypes))try{sl=Sn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return sl}function Vl(n){return Qx()?.createHTML(n)||n}var cl;function AC(){if(cl===void 0&&(cl=null,Sn.trustedTypes))try{cl=Sn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return cl}function R_(n){return AC()?.createHTML(n)||n}function F_(n){return AC()?.createScriptURL(n)||n}var bl=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jc})`}};function Di(n){return n instanceof bl?n.changingThisBreaksApplicationSecurity:n}function jl(n,t){let e=NC(n);if(e!=null&&e!==t){if(e==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${jc})`)}return e===t}function NC(n){return n instanceof bl&&n.getTypeName()||null}function Jx(n){let t=new pg(n);return Xx()?new ug(t):t}var ug=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let e=new window.DOMParser().parseFromString(Vl(t),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(t):(e.firstChild?.remove(),e)}catch{return null}}},pg=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let e=this.inertDocument.createElement("template");return e.innerHTML=Vl(t),e}};function Xx(){try{return!!new window.DOMParser().parseFromString(Vl(""),"text/html")}catch{return!1}}var eP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bg(n){return n=String(n),n.match(eP)?n:"unsafe:"+n}function Mo(n){let t={};for(let e of n.split(","))t[e]=!0;return t}function ns(...n){let t={};for(let e of n)for(let o in e)e.hasOwnProperty(o)&&(t[o]=!0);return t}var RC=Mo("area,br,col,hr,img,wbr"),FC=Mo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),LC=Mo("rp,rt"),tP=ns(LC,FC),nP=ns(FC,Mo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),oP=ns(LC,Mo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),L_=ns(RC,nP,oP,tP),VC=Mo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),iP=Mo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rP=Mo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),aP=ns(VC,iP,rP),sP=Mo("script,style,template"),mg=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let e=t.firstChild,o=!0,i=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?o=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,o&&e.firstChild){i.push(e),e=dP(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=lP(e);if(r){e=r;break}e=i.pop()}}return this.buf.join("")}startElement(t){let e=V_(t).toLowerCase();if(!L_.hasOwnProperty(e))return this.sanitizedSomething=!0,!sP.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let o=t.attributes;for(let i=0;i<o.length;i++){let r=o.item(i),s=r.name,u=s.toLowerCase();if(!aP.hasOwnProperty(u)){this.sanitizedSomething=!0;continue}let p=r.value;VC[u]&&(p=Bg(p)),this.buf.push(" ",s,'="',j_(p),'"')}return this.buf.push(">"),!0}endElement(t){let e=V_(t).toLowerCase();L_.hasOwnProperty(e)&&!RC.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(j_(t))}};function cP(n,t){return(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function lP(n){let t=n.nextSibling;if(t&&n!==t.previousSibling)throw jC(t);return t}function dP(n){let t=n.firstChild;if(t&&cP(n,t))throw jC(t);return t}function V_(n){let t=n.nodeName;return typeof t=="string"?t:"FORM"}function jC(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var uP=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pP=/([^\#-~ |!])/g;function j_(n){return n.replace(/&/g,"&amp;").replace(uP,function(t){let e=t.charCodeAt(0),o=t.charCodeAt(1);return"&#"+((e-55296)*1024+(o-56320)+65536)+";"}).replace(pP,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ll;function zC(n,t){let e=null;try{ll=ll||Jx(n);let o=t?String(t):"";e=ll.getInertBodyElement(o);let i=5,r=o;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,o=r,r=e.innerHTML,e=ll.getInertBodyElement(o)}while(o!==r);let u=new mg().sanitizeChildren(z_(e)||e);return Vl(u)}finally{if(e){let o=z_(e)||e;for(;o.firstChild;)o.firstChild.remove()}}}function z_(n){return"content"in n&&mP(n)?n.content:null}function mP(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var os=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(os||{});function Ug(n){let t=$g();return t?R_(t.sanitize(os.HTML,n)||""):jl(n,"HTML")?R_(Di(n)):zC(Vg(),En(n))}function Ke(n){let t=$g();return t?t.sanitize(os.URL,n)||"":jl(n,"URL")?Di(n):Bg(En(n))}function BC(n){let t=$g();if(t)return F_(t.sanitize(os.RESOURCE_URL,n)||"");if(jl(n,"ResourceURL"))return F_(Di(n));throw new U(904,!1)}function gP(n,t){return t==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||t==="href"&&(n==="base"||n==="link")?BC:Ke}function Hg(n,t,e){return gP(t,e)(n)}function $g(){let n=de();return n&&n[qn].sanitizer}var fP=/^>|^->|<!--|-->|--!>|<!-$/g,hP=/(<|>)/g,_P="\u200B$1\u200B";function CP(n){return n.replace(fP,t=>t.replace(hP,_P))}function Wg(n){return n.ownerDocument.defaultView}function UC(n){return n instanceof Function?n():n}function vP(n,t,e){let o=n.length;for(;;){let i=n.indexOf(t,e);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let r=t.length;if(i+r===o||n.charCodeAt(i+r)<=32)return i}e=i+1}}var HC="ng-template";function yP(n,t,e,o){let i=0;if(o){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&vP(t[i+1].toLowerCase(),e,0)!==-1)return!0}else if(qg(n))return!1;if(i=t.indexOf(1,i),i>-1){let r;for(;++i<t.length&&typeof(r=t[i])=="string";)if(r.toLowerCase()===e)return!0}return!1}function qg(n){return n.type===4&&n.value!==HC}function bP(n,t,e){let o=n.type===4&&!e?HC:n.value;return t===o}function MP(n,t,e){let o=4,i=n.attrs,r=i!==null?OP(i):0,s=!1;for(let u=0;u<t.length;u++){let p=t[u];if(typeof p=="number"){if(!s&&!Tn(o)&&!Tn(p))return!1;if(s&&Tn(p))continue;s=!1,o=p|o&1;continue}if(!s)if(o&4){if(o=2|o&1,p!==""&&!bP(n,p,e)||p===""&&t.length===1){if(Tn(o))return!1;s=!0}}else if(o&8){if(i===null||!yP(n,i,p,e)){if(Tn(o))return!1;s=!0}}else{let C=t[++u],y=xP(p,i,qg(n),e);if(y===-1){if(Tn(o))return!1;s=!0;continue}if(C!==""){let x;if(y>r?x="":x=i[y+1].toLowerCase(),o&2&&C!==x){if(Tn(o))return!1;s=!0}}}}return Tn(o)||s}function Tn(n){return(n&1)===0}function xP(n,t,e,o){if(t===null)return-1;let i=0;if(o||!e){let r=!1;for(;i<t.length;){let s=t[i];if(s===n)return i;if(s===3||s===6)r=!0;else if(s===1||s===2){let u=t[++i];for(;typeof u=="string";)u=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=r?1:2}return-1}else return wP(t,n)}function $C(n,t,e=!1){for(let o=0;o<t.length;o++)if(MP(n,t[o],e))return!0;return!1}function PP(n){let t=n.attrs;if(t!=null){let e=t.indexOf(5);if((e&1)===0)return t[e+1]}return null}function OP(n){for(let t=0;t<n.length;t++){let e=n[t];if(mC(e))return t}return n.length}function wP(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){let o=n[e];if(typeof o=="number")return-1;if(o===t)return e;e++}return-1}function SP(n,t){e:for(let e=0;e<t.length;e++){let o=t[e];if(n.length===o.length){for(let i=0;i<n.length;i++)if(n[i]!==o[i])continue e;return!0}}return!1}function B_(n,t){return n?":not("+t.trim()+")":t}function EP(n){let t=n[0],e=1,o=2,i="",r=!1;for(;e<n.length;){let s=n[e];if(typeof s=="string")if(o&2){let u=n[++e];i+="["+s+(u.length>0?'="'+u+'"':"")+"]"}else o&8?i+="."+s:o&4&&(i+=" "+s);else i!==""&&!Tn(s)&&(t+=B_(r,i),i=""),o=s,r=r||!Tn(o);e++}return i!==""&&(t+=B_(r,i)),t}function IP(n){return n.map(EP).join(",")}function DP(n){let t=[],e=[],o=1,i=2;for(;o<n.length;){let r=n[o];if(typeof r=="string")i===2?r!==""&&t.push(r,n[++o]):i===8&&e.push(r);else{if(!Tn(i))break;i=r}o++}return e.length&&t.push(1,...e),t}var Vt={};function kP(n,t){return n.createText(t)}function TP(n,t,e){n.setValue(t,e)}function AP(n,t){return n.createComment(CP(t))}function WC(n,t,e){return n.createElement(t,e)}function Ml(n,t,e,o,i){n.insertBefore(t,e,o,i)}function qC(n,t,e){n.appendChild(t,e)}function U_(n,t,e,o,i){o!==null?Ml(n,t,e,o,i):qC(n,t,e)}function NP(n,t,e){n.removeChild(null,t,e)}function RP(n,t,e){n.setAttribute(t,"style",e)}function FP(n,t,e){e===""?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function GC(n,t,e){let{mergedAttrs:o,classes:i,styles:r}=e;o!==null&&Ix(n,t,o),i!==null&&FP(n,t,i),r!==null&&RP(n,t,r)}function Gg(n,t,e,o,i,r,s,u,p,C,y){let x=et+o,O=x+i,P=LP(x,O),F=typeof C=="function"?C():C;return P[re]={type:n,blueprint:P,template:e,queries:null,viewQuery:u,declTNode:t,data:P.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof r=="function"?r():r,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:p,consts:F,incompleteFirstPass:!1,ssrId:y}}function LP(n,t){let e=[];for(let o=0;o<t;o++)e.push(o<n?null:Vt);return e}function VP(n){let t=n.tView;return t===null||t.incompleteFirstPass?n.tView=Gg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function Yg(n,t,e,o,i,r,s,u,p,C,y){let x=t.blueprint.slice();return x[In]=i,x[ce]=o|4|128|8|64|1024,(C!==null||n&&n[ce]&2048)&&(x[ce]|=2048),Om(x),x[bt]=x[_i]=n,x[Rt]=e,x[qn]=s||n&&n[qn],x[Ye]=u||n&&n[Ye],x[hi]=p||n&&n[hi]||null,x[Ht]=r,x[La]=Hx(),x[Mr]=y,x[ym]=C,x[en]=t.type==2?n[en]:x,x}function jP(n,t,e){let o=kn(t,n),i=VP(e),r=n[qn].rendererFactory,s=Zg(n,Yg(n,i,null,YC(e),o,t,null,r.createRenderer(o,e),null,null,null));return n[t.index]=s}function YC(n){let t=16;return n.signals?t=4096:n.onPush&&(t=64),t}function ZC(n,t,e,o){if(e===0)return-1;let i=t.length;for(let r=0;r<e;r++)t.push(o),n.blueprint.push(o),n.data.push(null);return i}function Zg(n,t){return n[Pr]?n[vm][hn]=t:n[Pr]=t,n[vm]=t,t}function d(n=1){KC(dt(),de(),Kn()+n,!1)}function KC(n,t,e,o){if(!o)if((t[ce]&3)===3){let r=n.preOrderCheckHooks;r!==null&&ul(t,r,e)}else{let r=n.preOrderHooks;r!==null&&pl(t,r,0,e)}Ho(e)}var zl=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(zl||{});function gg(n,t,e,o){let i=me(null);try{let[r,s,u]=n.inputs[e],p=null;(s&zl.SignalBased)!==0&&(p=t[r][Ct]),p!==null&&p.transformFn!==void 0?o=p.transformFn(o):u!==null&&(o=u.call(t,o)),n.setInput!==null?n.setInput(t,p,o,e,r):sC(t,p,r,o)}finally{me(i)}}var Xn=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Xn||{}),zP;function Kg(n,t){return zP(n,t)}function kr(n,t,e,o,i){if(o!=null){let r,s=!1;Dn(o)?r=o:Yn(o)&&(s=!0,o=o[In]);let u=_n(o);n===0&&e!==null?i==null?qC(t,e,u):Ml(t,e,u,i||null,!0):n===1&&e!==null?Ml(t,e,u,i||null,!0):n===2?NP(t,u,s):n===3&&t.destroyNode(u),r!=null&&KP(t,n,r,e,i)}}function BP(n,t){QC(n,t),t[In]=null,t[Ht]=null}function UP(n,t,e,o,i,r){o[In]=i,o[Ht]=t,Bl(n,o,e,1,i,r)}function QC(n,t){t[qn].changeDetectionScheduler?.notify(9),Bl(n,t,t[Ye],2,null,null)}function HP(n){let t=n[Pr];if(!t)return Km(n[re],n);for(;t;){let e=null;if(Yn(t))e=t[Pr];else{let o=t[$t];o&&(e=o)}if(!e){for(;t&&!t[hn]&&t!==n;)Yn(t)&&Km(t[re],t),t=t[bt];t===null&&(t=n),Yn(t)&&Km(t[re],t),e=t&&t[hn]}t=e}}function Qg(n,t){let e=n[yi],o=e.indexOf(t);e.splice(o,1)}function JC(n,t){if(bi(t))return;let e=t[Ye];e.destroyNode&&Bl(n,t,e,3,null,null),HP(t)}function Km(n,t){if(bi(t))return;let e=me(null);try{t[ce]&=-129,t[ce]|=256,t[ln]&&xa(t[ln]),WP(n,t),$P(n,t),t[re].type===1&&t[Ye].destroy();let o=t[jo];if(o!==null&&Dn(t[bt])){o!==t[bt]&&Qg(o,t);let i=t[Gn];i!==null&&i.detachView(n)}cg(t)}finally{me(e)}}function $P(n,t){let e=n.cleanup,o=t[xr];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let u=e[s+3];u>=0?o[u]():o[-u].unsubscribe(),s+=2}else{let u=o[e[s+1]];e[s].call(u)}o!==null&&(t[xr]=null);let i=t[Co];if(i!==null){t[Co]=null;for(let s=0;s<i.length;s++){let u=i[s];u()}}let r=t[Or];if(r!==null){t[Or]=null;for(let s of r)s.destroy()}}function WP(n,t){let e;if(n!=null&&(e=n.destroyHooks)!=null)for(let o=0;o<e.length;o+=2){let i=t[e[o]];if(!(i instanceof Oi)){let r=e[o+1];if(Array.isArray(r))for(let s=0;s<r.length;s+=2){let u=i[r[s]],p=r[s+1];ze(4,u,p);try{p.call(u)}finally{ze(5,u,p)}}else{ze(4,i,r);try{r.call(i)}finally{ze(5,i,r)}}}}}function XC(n,t,e){return qP(n,t.parent,e)}function qP(n,t,e){let o=t;for(;o!==null&&o.type&168;)t=o,o=t.parent;if(o===null)return e[In];if(Bo(o)){let{encapsulation:i}=n.data[o.directiveStart+o.componentOffset];if(i===bo.None||i===bo.Emulated)return null}return kn(o,e)}function ev(n,t,e){return YP(n,t,e)}function GP(n,t,e){return n.type&40?kn(n,e):null}var YP=GP,H_;function Jg(n,t,e,o){let i=XC(n,o,t),r=t[Ye],s=o.parent||t[Ht],u=ev(s,o,t);if(i!=null)if(Array.isArray(e))for(let p=0;p<e.length;p++)U_(r,i,e[p],u,!1);else U_(r,i,e,u,!1);H_!==void 0&&H_(r,o,t,e,i)}function Ya(n,t){if(t!==null){let e=t.type;if(e&3)return kn(t,n);if(e&4)return fg(-1,n[t.index]);if(e&8){let o=t.child;if(o!==null)return Ya(n,o);{let i=n[t.index];return Dn(i)?fg(-1,i):_n(i)}}else{if(e&128)return Ya(n,t.next);if(e&32)return Kg(t,n)()||_n(n[t.index]);{let o=tv(n,t);if(o!==null){if(Array.isArray(o))return o[0];let i=Ro(n[en]);return Ya(i,o)}else return Ya(n,t.next)}}}return null}function tv(n,t){if(t!==null){let o=n[en][Ht],i=t.projection;return o.projection[i]}return null}function fg(n,t){let e=$t+n+1;if(e<t.length){let o=t[e],i=o[re].firstChild;if(i!==null)return Ya(o,i)}return t[zo]}function Xg(n,t,e,o,i,r,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let u=o[e.index],p=e.type;if(s&&t===0&&(u&&Nr(_n(u),o),e.flags|=2),!Ll(e))if(p&8)Xg(n,t,e.child,o,i,r,!1),kr(t,n,i,u,r);else if(p&32){let C=Kg(e,o),y;for(;y=C();)kr(t,n,i,y,r);kr(t,n,i,u,r)}else p&16?nv(n,t,o,e,i,r):kr(t,n,i,u,r);e=s?e.projectionNext:e.next}}function Bl(n,t,e,o,i,r){Xg(e,o,n.firstChild,t,i,r,!1)}function ZP(n,t,e){let o=t[Ye],i=XC(n,e,t),r=e.parent||t[Ht],s=ev(r,e,t);nv(o,0,t,e,i,s)}function nv(n,t,e,o,i,r){let s=e[en],p=s[Ht].projection[o.projection];if(Array.isArray(p))for(let C=0;C<p.length;C++){let y=p[C];kr(t,n,i,y,r)}else{let C=p,y=s[bt];PC(o)&&(C.flags|=128),Xg(n,t,C,y,i,r,!0)}}function KP(n,t,e,o,i){let r=e[zo],s=_n(e);r!==s&&kr(t,n,o,r,i);for(let u=$t;u<e.length;u++){let p=e[u];Bl(p[re],p,n,t,o,r)}}function QP(n,t,e,o,i){if(t)i?n.addClass(e,o):n.removeClass(e,o);else{let r=o.indexOf("-")===-1?void 0:Xn.DashCase;i==null?n.removeStyle(e,o,r):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),r|=Xn.Important),n.setStyle(e,o,i,r))}}function ov(n,t,e,o,i){let r=Kn(),s=o&2;try{Ho(-1),s&&t.length>et&&KC(n,t,et,!1),ze(s?2:0,i,e),e(o,i)}finally{Ho(r),ze(s?3:1,i,e)}}function Ul(n,t,e){iO(n,t,e),(e.flags&64)===64&&rO(n,t,e)}function is(n,t,e=kn){let o=t.localNames;if(o!==null){let i=t.index+1;for(let r=0;r<o.length;r+=2){let s=o[r+1],u=s===-1?e(t,n):n[s];n[i++]=u}}}function JP(n,t,e,o){let r=o.get(DC,IC)||e===bo.ShadowDom,s=n.selectRootElement(t,r);return XP(s),s}function XP(n){eO(n)}var eO=()=>null;function tO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function iv(n,t,e,o,i,r){let s=t[re];if(of(n,s,t,e,o)){Bo(n)&&oO(t,n.index);return}n.type&3&&(e=tO(e)),nO(n,t,e,o,i,r)}function nO(n,t,e,o,i,r){if(n.type&3){let s=kn(n,t);o=r!=null?r(o,n.value||"",e):o,i.setProperty(s,e,o)}else n.type&12}function oO(n,t){let e=Cn(t,n);e[ce]&16||(e[ce]|=64)}function iO(n,t,e){let o=e.directiveStart,i=e.directiveEnd;Bo(e)&&jP(t,e,n.data[o+e.componentOffset]),n.firstCreatePass||vl(e,t);let r=e.initialInputs;for(let s=o;s<i;s++){let u=n.data[s],p=Ka(t,n,s,e);if(Nr(p,t),r!==null&&lO(t,s-o,p,u,e,r),Zn(u)){let C=Cn(e.index,t);C[Rt]=Ka(t,n,s,e)}}}function rO(n,t,e){let o=e.directiveStart,i=e.directiveEnd,r=e.index,s=y_();try{Ho(r);for(let u=o;u<i;u++){let p=n.data[u],C=t[u];Xc(u),(p.hostBindings!==null||p.hostVars!==0||p.hostAttrs!==null)&&aO(p,C)}}finally{Ho(-1),Xc(s)}}function aO(n,t){n.hostBindings!==null&&n.hostBindings(1,t)}function ef(n,t){let e=n.directiveRegistry,o=null;if(e)for(let i=0;i<e.length;i++){let r=e[i];$C(t,r.selectors,!1)&&(o??=[],Zn(r)?o.unshift(r):o.push(r))}return o}function sO(n,t,e,o,i,r){let s=kn(n,t);cO(t[Ye],s,r,n.value,e,o,i)}function cO(n,t,e,o,i,r,s){if(r==null)n.removeAttribute(t,i,e);else{let u=s==null?En(r):s(r,o||"",i);n.setAttribute(t,i,u,e)}}function lO(n,t,e,o,i,r){let s=r[t];if(s!==null)for(let u=0;u<s.length;u+=2){let p=s[u],C=s[u+1];gg(o,e,p,C)}}function tf(n,t,e,o,i){let r=et+e,s=t[re],u=i(s,t,n,o,e);t[r]=u,Er(n,!0);let p=n.type===2;return p?(GC(t[Ye],u,n),(m_()===0||wr(n))&&Nr(u,t),g_()):Nr(u,t),il()&&(!p||!Ll(n))&&Jg(s,t,u,n),n}function nf(n){let t=n;return Rm()?Fm():(t=t.parent,Er(t,!1)),t}function dO(n,t){let e=n[hi];if(!e)return;let o;try{o=e.get(Wt,null)}catch{o=null}o?.(t)}function of(n,t,e,o,i){let r=n.inputs?.[o],s=n.hostDirectiveInputs?.[o],u=!1;if(s)for(let p=0;p<s.length;p+=2){let C=s[p],y=s[p+1],x=t.data[C];gg(x,e[C],y,i),u=!0}if(r)for(let p of r){let C=e[p],y=t.data[p];gg(y,C,o,i),u=!0}return u}function uO(n,t){let e=Cn(t,n),o=e[re];pO(o,e);let i=e[In];i!==null&&e[Mr]===null&&(e[Mr]=kC(i,e[hi])),ze(18),rf(o,e,e[Rt]),ze(19,e[Rt])}function pO(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}function rf(n,t,e){tl(t);try{let o=n.viewQuery;o!==null&&dg(1,o,e);let i=n.template;i!==null&&ov(n,t,i,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[Gn]?.finishViewCreation(n),n.staticContentQueries&&TC(n,t),n.staticViewQueries&&dg(2,n.viewQuery,e);let r=n.components;r!==null&&mO(t,r)}catch(o){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),o}finally{t[ce]&=-5,nl()}}function mO(n,t){for(let e=0;e<t.length;e++)uO(n,t[e])}function rv(n,t,e,o){let i=me(null);try{let r=t.tView,u=n[ce]&4096?4096:16,p=Yg(n,r,e,u,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null),C=n[t.index];p[jo]=C;let y=n[Gn];return y!==null&&(p[Gn]=y.createEmbeddedView(r)),rf(r,p,e),p}finally{me(i)}}function hg(n,t){return!t||t.firstChild===null||PC(n)}var $_=!1,gO=new K("");function Qa(n,t,e,o,i=!1){for(;e!==null;){if(e.type===128){e=i?e.projectionNext:e.next;continue}let r=t[e.index];r!==null&&o.push(_n(r)),Dn(r)&&av(r,o);let s=e.type;if(s&8)Qa(n,t,e.child,o);else if(s&32){let u=Kg(e,t),p;for(;p=u();)o.push(p)}else if(s&16){let u=tv(t,e);if(Array.isArray(u))o.push(...u);else{let p=Ro(t[en]);Qa(p[re],p,u,o,!0)}}e=i?e.projectionNext:e.next}return o}function av(n,t){for(let e=$t;e<n.length;e++){let o=n[e],i=o[re].firstChild;i!==null&&Qa(o[re],o,i,t)}n[zo]!==n[In]&&t.push(n[zo])}function sv(n){if(n[vi]!==null){for(let t of n[vi])t.impl.addSequence(t);n[vi].length=0}}var cv=[];function fO(n){return n[ln]??hO(n)}function hO(n){let t=cv.pop()??Object.create(CO);return t.lView=n,t}function _O(n){n.lView[ln]!==n&&(n.lView=null,cv.push(n))}var CO=$(w({},nr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Mi(n.lView)},consumerOnSignalRead(){this.lView[ln]=this}});function vO(n){let t=n[ln]??Object.create(yO);return t.lView=n,t}var yO=$(w({},nr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let t=Ro(n.lView);for(;t&&!lv(t[re]);)t=Ro(t);t&&wm(t)},consumerOnSignalRead(){this.lView[ln]=this}});function lv(n){return n.type!==2}function dv(n){if(n[Or]===null)return;let t=!0;for(;t;){let e=!1;for(let o of n[Or])o.dirty&&(e=!0,o.zone===null||Zone.current===o.zone?o.run():o.zone.run(()=>o.run()));t=e&&!!(n[ce]&8192)}}var bO=100;function af(n,t=0){let o=n[qn].rendererFactory,i=!1;i||o.begin?.();try{MO(n,t)}finally{i||o.end?.()}}function MO(n,t){let e=Vm();try{Jc(!0),_g(n,t);let o=0;for(;ja(n);){if(o===bO)throw new U(103,!1);o++,_g(n,1)}}finally{Jc(e)}}function uv(n,t){Lm(t?za.Exhaustive:za.OnlyDirtyViews);try{af(n)}finally{Lm(za.Off)}}function xO(n,t,e,o){if(bi(t))return;let i=t[ce],r=!1,s=!1;tl(t);let u=!0,p=null,C=null;r||(lv(n)?(C=fO(t),p=ir(C)):ac()===null?(u=!1,C=vO(t),p=ir(C)):t[ln]&&(xa(t[ln]),t[ln]=null));try{Om(t),__(n.bindingStartIndex),e!==null&&ov(n,t,e,2,o);let y=(i&3)===3;if(!r)if(y){let P=n.preOrderCheckHooks;P!==null&&ul(t,P,null)}else{let P=n.preOrderHooks;P!==null&&pl(t,P,0,null),Ym(t,0)}if(s||PO(t),dv(t),pv(t,0),n.contentQueries!==null&&TC(n,t),!r)if(y){let P=n.contentCheckHooks;P!==null&&ul(t,P)}else{let P=n.contentHooks;P!==null&&pl(t,P,1),Ym(t,1)}wO(n,t);let x=n.components;x!==null&&gv(t,x,0);let O=n.viewQuery;if(O!==null&&dg(2,O,o),!r)if(y){let P=n.viewCheckHooks;P!==null&&ul(t,P)}else{let P=n.viewHooks;P!==null&&pl(t,P,2),Ym(t,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),t[qc]){for(let P of t[qc])P();t[qc]=null}r||(sv(t),t[ce]&=-73)}catch(y){throw r||Mi(t),y}finally{C!==null&&(ba(C,p),u&&_O(C)),nl()}}function pv(n,t){for(let e=wC(n);e!==null;e=SC(e))for(let o=$t;o<e.length;o++){let i=e[o];mv(i,t)}}function PO(n){for(let t=wC(n);t!==null;t=SC(t)){if(!(t[ce]&2))continue;let e=t[yi];for(let o=0;o<e.length;o++){let i=e[o];wm(i)}}}function OO(n,t,e){ze(18);let o=Cn(t,n);mv(o,e),ze(19,o[Rt])}function mv(n,t){Zc(n)&&_g(n,t)}function _g(n,t){let o=n[re],i=n[ce],r=n[ln],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(r?.dirty&&Ma(r)),s||=!1,r&&(r.dirty=!1),n[ce]&=-9217,s)xO(o,n,o.template,n[Rt]);else if(i&8192){let u=me(null);try{dv(n),pv(n,1);let p=o.components;p!==null&&gv(n,p,1),sv(n)}finally{me(u)}}}function gv(n,t,e){for(let o=0;o<t.length;o++)OO(n,t[o],e)}function wO(n,t){let e=n.hostBindingOpCodes;if(e!==null)try{for(let o=0;o<e.length;o++){let i=e[o];if(i<0)Ho(~i);else{let r=i,s=e[++o],u=e[++o];v_(s,r);let p=t[r];ze(24,p),u(2,p),ze(25,p)}}}finally{Ho(-1)}}function sf(n,t){let e=Vm()?64:1088;for(n[qn].changeDetectionScheduler?.notify(t);n;){n[ce]|=e;let o=Ro(n);if(Sr(n)&&!o)return n;n=o}return null}function fv(n,t,e,o){return[n,!0,0,t,null,o,null,e,null,null]}function hv(n,t,e,o=!0){let i=t[re];if(SO(i,t,n,e),o){let s=fg(e,n),u=t[Ye],p=u.parentNode(n[zo]);p!==null&&UP(i,n[Ht],u,t,p,s)}let r=t[Mr];r!==null&&r.firstChild!==null&&(r.firstChild=null)}function Cg(n,t){if(n.length<=$t)return;let e=$t+t,o=n[e];if(o){let i=o[jo];i!==null&&i!==n&&Qg(i,o),t>0&&(n[e-1][hn]=o[hn]);let r=Na(n,$t+t);BP(o[re],o);let s=r[Gn];s!==null&&s.detachView(r[re]),o[bt]=null,o[hn]=null,o[ce]&=-129}return o}function SO(n,t,e,o){let i=$t+o,r=e.length;o>0&&(e[i-1][hn]=t),o<r-$t?(t[hn]=e[i],um(e,$t+o,t)):(e.push(t),t[hn]=null),t[bt]=e;let s=t[jo];s!==null&&e!==s&&_v(s,t);let u=t[Gn];u!==null&&u.insertView(n),Kc(t),t[ce]|=128}function _v(n,t){let e=n[yi],o=t[bt];if(Yn(o))n[ce]|=2;else{let i=o[bt][en];t[en]!==i&&(n[ce]|=2)}e===null?n[yi]=[t]:e.push(t)}var $o=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,e=t[re];return Qa(e,t,e.firstChild,[])}constructor(t,e){this._lView=t,this._cdRefInjectingView=e}get context(){return this._lView[Rt]}set context(t){this._lView[Rt]=t}get destroyed(){return bi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[bt];if(Dn(t)){let e=t[Va],o=e?e.indexOf(this):-1;o>-1&&(Cg(t,o),Na(e,o))}this._attachedToViewContainer=!1}JC(this._lView[re],this._lView)}onDestroy(t){Sm(this._lView,t)}markForCheck(){sf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ce]&=-129}reattach(){Kc(this._lView),this._lView[ce]|=128}detectChanges(){this._lView[ce]|=1024,af(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Sr(this._lView),e=this._lView[jo];e!==null&&!t&&Qg(e,this._lView),QC(this._lView[re],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=t;let e=Sr(this._lView),o=this._lView[jo];o!==null&&!e&&_v(o,this._lView),Kc(this._lView)}};var eo=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=EO;constructor(e,o,i){this._declarationLView=e,this._declarationTContainer=o,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,o){return this.createEmbeddedViewImpl(e,o)}createEmbeddedViewImpl(e,o,i){let r=rv(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:o,dehydratedView:i});return new $o(r)}}return n})();function EO(){return Hl(ft(),de())}function Hl(n,t){return n.type&4?new eo(t,n,Fr(n,t)):null}function Lr(n,t,e,o,i){let r=n.data[t];if(r===null)r=IO(n,t,e,o,i),C_()&&(r.flags|=32);else if(r.type&64){r.type=e,r.value=o,r.attrs=i;let s=f_();r.injectorIndex=s===null?-1:s.injectorIndex}return Er(r,!0),r}function IO(n,t,e,o,i){let r=Nm(),s=Rm(),u=s?r:r&&r.parent,p=n.data[t]=kO(n,u,e,t,o,i);return DO(n,p,r,s),p}function DO(n,t,e,o){n.firstChild===null&&(n.firstChild=t),e!==null&&(o?e.child==null&&t.parent!==null&&(e.child=t):e.next===null&&(e.next=t,t.prev=e))}function kO(n,t,e,o,i,r){let s=t?t.injectorIndex:-1,u=0;return km()&&(u|=128),{type:e,index:o,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:i,attrs:r,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Wj=new RegExp(`^(\\d+)*(${Gx}|${qx})*(.*)`);var TO=()=>null;function vg(n,t){return TO(n,t)}var Cv=class{},$l=class{},yg=class{resolveComponentFactory(t){throw new U(917,!1)}},rs=class{static NULL=new yg},wi=class{},yn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>AO()}return n})();function AO(){let n=de(),t=ft(),e=Cn(t.index,n);return(Yn(e)?e:n)[Ye]}var vv=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>null})}return n})();var gl={},bg=class{injector;parentInjector;constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,o){let i=this.injector.get(t,gl,o);return i!==gl||e===gl?i:this.parentInjector.get(t,e,o)}};function xl(n,t,e){let o=e?n.styles:null,i=e?n.classes:null,r=0;if(t!==null)for(let s=0;s<t.length;s++){let u=t[s];if(typeof u=="number")r=u;else if(r==1)i=zc(i,u);else if(r==2){let p=u,C=t[++s];o=zc(o,p+": "+C+";")}}e?n.styles=o:n.stylesWithoutHost=o,e?n.classes=i:n.classesWithoutHost=i}function D(n,t=0){let e=de();if(e===null)return j(n,t);let o=ft();return yC(o,e,Et(n),t)}function cf(){let n="invalid";throw new Error(n)}function yv(n,t,e,o,i){let r=o===null?null:{"":-1},s=i(n,e);if(s!==null){let u=s,p=null,C=null;for(let y of s)if(y.resolveHostDirectives!==null){[u,p,C]=y.resolveHostDirectives(s);break}FO(n,t,e,u,r,p,C)}r!==null&&o!==null&&NO(e,o,r)}function NO(n,t,e){let o=n.localNames=[];for(let i=0;i<t.length;i+=2){let r=e[t[i+1]];if(r==null)throw new U(-301,!1);o.push(t[i],r)}}function RO(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function FO(n,t,e,o,i,r,s){let u=o.length,p=!1;for(let O=0;O<u;O++){let P=o[O];!p&&Zn(P)&&(p=!0,RO(n,e,O)),ag(vl(e,t),n,P.type)}UO(e,n.data.length,u);for(let O=0;O<u;O++){let P=o[O];P.providersResolver&&P.providersResolver(P)}let C=!1,y=!1,x=ZC(n,t,u,null);u>0&&(e.directiveToIndex=new Map);for(let O=0;O<u;O++){let P=o[O];if(e.mergedAttrs=Ar(e.mergedAttrs,P.hostAttrs),VO(n,e,t,x,P),BO(x,P,i),s!==null&&s.has(P)){let[Z,Q]=s.get(P);e.directiveToIndex.set(P.type,[x,Z+e.directiveStart,Q+e.directiveStart])}else(r===null||!r.has(P))&&e.directiveToIndex.set(P.type,x);P.contentQueries!==null&&(e.flags|=4),(P.hostBindings!==null||P.hostAttrs!==null||P.hostVars!==0)&&(e.flags|=64);let F=P.type.prototype;!C&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),C=!0),!y&&(F.ngOnChanges||F.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),y=!0),x++}LO(n,e,r)}function LO(n,t,e){for(let o=t.directiveStart;o<t.directiveEnd;o++){let i=n.data[o];if(e===null||!e.has(i))W_(0,t,i,o),W_(1,t,i,o),G_(t,o,!1);else{let r=e.get(i);q_(0,t,r,o),q_(1,t,r,o),G_(t,o,!0)}}}function W_(n,t,e,o){let i=n===0?e.inputs:e.outputs;for(let r in i)if(i.hasOwnProperty(r)){let s;n===0?s=t.inputs??={}:s=t.outputs??={},s[r]??=[],s[r].push(o),bv(t,r)}}function q_(n,t,e,o){let i=n===0?e.inputs:e.outputs;for(let r in i)if(i.hasOwnProperty(r)){let s=i[r],u;n===0?u=t.hostDirectiveInputs??={}:u=t.hostDirectiveOutputs??={},u[s]??=[],u[s].push(o,r),bv(t,s)}}function bv(n,t){t==="class"?n.flags|=8:t==="style"&&(n.flags|=16)}function G_(n,t,e){let{attrs:o,inputs:i,hostDirectiveInputs:r}=n;if(o===null||!e&&i===null||e&&r===null||qg(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,u=0;for(;u<o.length;){let p=o[u];if(p===0){u+=4;continue}else if(p===5){u+=2;continue}else if(typeof p=="number")break;if(!e&&i.hasOwnProperty(p)){let C=i[p];for(let y of C)if(y===t){s??=[],s.push(p,o[u+1]);break}}else if(e&&r.hasOwnProperty(p)){let C=r[p];for(let y=0;y<C.length;y+=2)if(C[y]===t){s??=[],s.push(C[y+1],o[u+1]);break}}u+=2}n.initialInputs??=[],n.initialInputs.push(s)}function VO(n,t,e,o,i){n.data[o]=i;let r=i.factory||(i.factory=No(i.type,!0)),s=new Oi(r,Zn(i),D,null);n.blueprint[o]=s,e[o]=s,jO(n,t,o,ZC(n,e,i.hostVars,Vt),i)}function jO(n,t,e,o,i){let r=i.hostBindings;if(r){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let u=~t.index;zO(s)!=u&&s.push(u),s.push(e,o,r)}}function zO(n){let t=n.length;for(;t>0;){let e=n[--t];if(typeof e=="number"&&e<0)return e}return 0}function BO(n,t,e){if(e){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)e[t.exportAs[o]]=n;Zn(t)&&(e[""]=n)}}function UO(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function lf(n,t,e,o,i,r,s,u){let p=t[re],C=p.consts,y=Uo(C,s),x=Lr(p,n,e,o,y);return r&&yv(p,t,x,Uo(C,u),i),x.mergedAttrs=Ar(x.mergedAttrs,x.attrs),x.attrs!==null&&xl(x,x.attrs,!1),x.mergedAttrs!==null&&xl(x,x.mergedAttrs,!0),p.queries!==null&&p.queries.elementStart(p,x),x}function df(n,t){uC(n,t),bm(t)&&n.queries.elementEnd(t)}function HO(n,t,e,o,i,r){let s=t.consts,u=Uo(s,i),p=Lr(t,n,e,o,u);if(p.mergedAttrs=Ar(p.mergedAttrs,p.attrs),r!=null){let C=Uo(s,r);p.localNames=[];for(let y=0;y<C.length;y+=2)p.localNames.push(C[y],-1)}return p.attrs!==null&&xl(p,p.attrs,!1),p.mergedAttrs!==null&&xl(p,p.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,p),p}function uf(n){return xv(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Mv(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{let e=n[Symbol.iterator](),o;for(;!(o=e.next()).done;)t(o.value)}}function xv(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function pf(n,t,e){return n[t]=e}function $O(n,t){return n[t]}function to(n,t,e){if(e===Vt)return!1;let o=n[t];return Object.is(o,e)?!1:(n[t]=e,!0)}function mf(n,t,e,o){let i=to(n,t,e);return to(n,t+1,o)||i}function WO(n,t,e,o,i){let r=mf(n,t,e,o);return to(n,t+2,i)||r}function Qm(n,t,e){return function o(i){let r=Bo(n)?Cn(n.index,t):t;sf(r,5);let s=t[Rt],u=Y_(t,s,e,i),p=o.__ngNextListenerFn__;for(;p;)u=Y_(t,s,p,i)&&u,p=p.__ngNextListenerFn__;return u}}function Y_(n,t,e,o){let i=me(null);try{return ze(6,t,e),e(o)!==!1}catch(r){return dO(n,r),!1}finally{ze(7,t,e),me(i)}}function qO(n,t,e,o,i,r,s,u){let p=wr(n),C=!1,y=null;if(!o&&p&&(y=GO(t,e,r,n.index)),y!==null){let x=y.__ngLastListenerFn__||y;x.__ngNextListenerFn__=s,y.__ngLastListenerFn__=s,C=!0}else{let x=kn(n,e),O=o?o(x):x;Zx(e,O,r,u);let P=i.listen(O,r,u),F=o?Z=>o(_n(Z[n.index])):n.index;Pv(F,t,e,r,u,P,!1)}return C}function GO(n,t,e,o){let i=n.cleanup;if(i!=null)for(let r=0;r<i.length-1;r+=2){let s=i[r];if(s===e&&i[r+1]===o){let u=t[xr],p=i[r+2];return u&&u.length>p?u[p]:null}typeof s=="string"&&(r+=2)}return null}function Pv(n,t,e,o,i,r,s){let u=t.firstCreatePass?Im(t):null,p=Em(e),C=p.length;p.push(i,r),u&&u.push(o,n,C,(C+1)*(s?-1:1))}function Z_(n,t,e,o,i,r){let s=t[e],u=t[re],C=u.data[e].outputs[o],x=s[C].subscribe(r);Pv(n.index,u,t,i,r,x,!0)}var Mg=Symbol("BINDING");var Pl=class extends rs{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let e=yo(t);return new Si(e,this.ngModule)}};function YO(n){return Object.keys(n).map(t=>{let[e,o,i]=n[t],r={propName:e,templateName:t,isSignal:(o&zl.SignalBased)!==0};return i&&(r.transform=i),r})}function ZO(n){return Object.keys(n).map(t=>({propName:n[t],templateName:t}))}function KO(n,t,e){let o=t instanceof rt?t:t?.injector;return o&&n.getStandaloneInjector!==null&&(o=n.getStandaloneInjector(o)||o),o?new bg(e,o):e}function QO(n){let t=n.get(wi,null);if(t===null)throw new U(407,!1);let e=n.get(vv,null),o=n.get($n,null);return{rendererFactory:t,sanitizer:e,changeDetectionScheduler:o,ngReflect:!1}}function JO(n,t){let e=Ov(n);return WC(t,e,e==="svg"?Mm:e==="math"?s_:null)}function Ov(n){return(n.selectors[0][0]||"div").toLowerCase()}var Si=class extends $l{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=YO(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=ZO(this.componentDef.outputs),this.cachedOutputs}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=IP(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!e}create(t,e,o,i,r,s){ze(22);let u=me(null);try{let p=this.componentDef,C=XO(o,p,s,r),y=KO(p,i||this.ngModule,t),x=QO(y),O=x.rendererFactory.createRenderer(null,p),P=o?JP(O,o,p.encapsulation,y):JO(p,O),F=s?.some(K_)||r?.some(X=>typeof X!="function"&&X.bindings.some(K_)),Z=Yg(null,C,null,512|YC(p),null,null,x,O,y,null,kC(P,y,!0));Z[et]=P,tl(Z);let Q=null;try{let X=lf(et,Z,2,"#host",()=>C.directiveRegistry,!0,0);P&&(GC(O,P,X),Nr(P,Z)),Ul(C,Z,X),zg(C,X,Z),df(C,X),e!==void 0&&tw(X,this.ngContentSelectors,e),Q=Cn(X.index,Z),Z[Rt]=Q[Rt],rf(C,Z,null)}catch(X){throw Q!==null&&cg(Q),cg(Z),X}finally{ze(23),nl()}return new Ol(this.componentType,Z,!!F)}finally{me(u)}}};function XO(n,t,e,o){let i=n?["ng-version","20.3.0"]:DP(t.selectors[0]),r=null,s=null,u=0;if(e)for(let y of e)u+=y[Mg].requiredVars,y.create&&(y.targetIdx=0,(r??=[]).push(y)),y.update&&(y.targetIdx=0,(s??=[]).push(y));if(o)for(let y=0;y<o.length;y++){let x=o[y];if(typeof x!="function")for(let O of x.bindings){u+=O[Mg].requiredVars;let P=y+1;O.create&&(O.targetIdx=P,(r??=[]).push(O)),O.update&&(O.targetIdx=P,(s??=[]).push(O))}}let p=[t];if(o)for(let y of o){let x=typeof y=="function"?y:y.type,O=fm(x);p.push(O)}return Gg(0,null,ew(r,s),1,u,p,null,null,null,[i],null)}function ew(n,t){return!n&&!t?null:e=>{if(e&1&&n)for(let o of n)o.create();if(e&2&&t)for(let o of t)o.update()}}function K_(n){let t=n[Mg].kind;return t==="input"||t==="twoWay"}var Ol=class extends Cv{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,e,o){super(),this._rootLView=e,this._hasInputBindings=o,this._tNode=Gc(e[re],et),this.location=Fr(this._tNode,e),this.instance=Cn(this._tNode.index,e)[Rt],this.hostView=this.changeDetectorRef=new $o(e,void 0),this.componentType=t}setInput(t,e){this._hasInputBindings;let o=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;let i=this._rootLView,r=of(o,i[re],i,t,e);this.previousInputValues.set(t,e);let s=Cn(o.index,i);sf(s,1)}get injector(){return new Pi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function tw(n,t,e){let o=n.projection=[];for(let i=0;i<t.length;i++){let r=e[i];o.push(r!=null&&r.length?Array.from(r):null)}}var bn=(()=>{class n{static __NG_ELEMENT_ID__=nw}return n})();function nw(){let n=ft();return Sv(n,de())}var ow=bn,wv=class extends ow{_lContainer;_hostTNode;_hostLView;constructor(t,e,o){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=o}get element(){return Fr(this._hostTNode,this._hostLView)}get injector(){return new Pi(this._hostTNode,this._hostLView)}get parentInjector(){let t=Rg(this._hostTNode,this._hostLView);if(gC(t)){let e=_l(t,this._hostLView),o=hl(t),i=e[re].data[o+8];return new Pi(i,e)}else return new Pi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let e=Q_(this._lContainer);return e!==null&&e[t]||null}get length(){return this._lContainer.length-$t}createEmbeddedView(t,e,o){let i,r;typeof o=="number"?i=o:o!=null&&(i=o.index,r=o.injector);let s=vg(this._lContainer,t.ssrId),u=t.createEmbeddedViewImpl(e||{},r,s);return this.insertImpl(u,i,hg(this._hostTNode,s)),u}createComponent(t,e,o,i,r,s,u){let p=t&&!bx(t),C;if(p)C=e;else{let Q=e||{};C=Q.index,o=Q.injector,i=Q.projectableNodes,r=Q.environmentInjector||Q.ngModuleRef,s=Q.directives,u=Q.bindings}let y=p?t:new Si(yo(t)),x=o||this.parentInjector;if(!r&&y.ngModule==null){let X=(p?x:this.parentInjector).get(rt,null);X&&(r=X)}let O=yo(y.componentType??{}),P=vg(this._lContainer,O?.id??null),F=P?.firstChild??null,Z=y.create(x,i,F,r,s,u);return this.insertImpl(Z.hostView,C,hg(this._hostTNode,P)),Z}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,o){let i=t._lView;if(l_(i)){let u=this.indexOf(t);if(u!==-1)this.detach(u);else{let p=i[bt],C=new wv(p,p[Ht],p[bt]);C.detach(C.indexOf(t))}}let r=this._adjustIndex(e),s=this._lContainer;return hv(s,i,r,o),t.attachToViewContainerRef(),um(Jm(s),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){let e=Q_(this._lContainer);return e!==null?e.indexOf(t):-1}remove(t){let e=this._adjustIndex(t,-1),o=Cg(this._lContainer,e);o&&(Na(Jm(this._lContainer),e),JC(o[re],o))}detach(t){let e=this._adjustIndex(t,-1),o=Cg(this._lContainer,e);return o&&Na(Jm(this._lContainer),e)!=null?new $o(o):null}_adjustIndex(t,e=0){return t??this.length+e}};function Q_(n){return n[Va]}function Jm(n){return n[Va]||(n[Va]=[])}function Sv(n,t){let e,o=t[n.index];return Dn(o)?e=o:(e=fv(o,t,null,n),t[n.index]=e,Zg(t,e)),rw(e,t,n,o),new wv(e,n,t)}function iw(n,t){let e=n[Ye],o=e.createComment(""),i=kn(t,n),r=e.parentNode(i);return Ml(e,r,o,e.nextSibling(i),!1),o}var rw=cw,aw=()=>!1;function sw(n,t,e){return aw(n,t,e)}function cw(n,t,e,o){if(n[zo])return;let i;e.type&8?i=_n(o):i=iw(t,e),n[zo]=i}var xg=class n{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Pg=class n{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let e=t.queries;if(e!==null){let o=t.contentQueries!==null?t.contentQueries[0]:e.length,i=[];for(let r=0;r<o;r++){let s=e.getByIndex(r),u=this.queries[s.indexInDeclarationView];i.push(u.clone())}return new n(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)ff(t,e).matches!==null&&this.queries[e].setDirty()}},wl=class{flags;read;predicate;constructor(t,e,o=null){this.flags=e,this.read=o,typeof t=="string"?this.predicate=fw(t):this.predicate=t}},Og=class n{queries;constructor(t=[]){this.queries=t}elementStart(t,e){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let o=0;o<this.length;o++){let i=e!==null?e.length:0,r=this.getByIndex(o).embeddedTView(t,i);r&&(r.indexInDeclarationView=o,e!==null?e.push(r):e=[r])}return e!==null?new n(e):null}template(t,e){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},wg=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,e=-1){this.metadata=t,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new n(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,o=t.parent;for(;o!==null&&o.type&8&&o.index!==e;)o=o.parent;return e===(o!==null?o.index:-1)}return this._appliesToNextNode}matchTNode(t,e){let o=this.metadata.predicate;if(Array.isArray(o))for(let i=0;i<o.length;i++){let r=o[i];this.matchTNodeWithReadOption(t,e,lw(e,r)),this.matchTNodeWithReadOption(t,e,ml(e,t,r,!1,!1))}else o===eo?e.type&4&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ml(e,t,o,!1,!1))}matchTNodeWithReadOption(t,e,o){if(o!==null){let i=this.metadata.read;if(i!==null)if(i===Lt||i===bn||i===eo&&e.type&4)this.addMatch(e.index,-2);else{let r=ml(e,t,i,!1,!1);r!==null&&this.addMatch(e.index,r)}else this.addMatch(e.index,o)}}addMatch(t,e){this.matches===null?this.matches=[t,e]:this.matches.push(t,e)}};function lw(n,t){let e=n.localNames;if(e!==null){for(let o=0;o<e.length;o+=2)if(e[o]===t)return e[o+1]}return null}function dw(n,t){return n.type&11?Fr(n,t):n.type&4?Hl(n,t):null}function uw(n,t,e,o){return e===-1?dw(t,n):e===-2?pw(n,t,o):Ka(n,n[re],e,t)}function pw(n,t,e){if(e===Lt)return Fr(t,n);if(e===eo)return Hl(t,n);if(e===bn)return Sv(t,n)}function Ev(n,t,e,o){let i=t[Gn].queries[o];if(i.matches===null){let r=n.data,s=e.matches,u=[];for(let p=0;s!==null&&p<s.length;p+=2){let C=s[p];if(C<0)u.push(null);else{let y=r[C];u.push(uw(t,y,s[p+1],e.metadata.read))}}i.matches=u}return i.matches}function Sg(n,t,e,o){let i=n.queries.getByIndex(e),r=i.matches;if(r!==null){let s=Ev(n,t,i,e);for(let u=0;u<r.length;u+=2){let p=r[u];if(p>0)o.push(s[u/2]);else{let C=r[u+1],y=t[-p];for(let x=$t;x<y.length;x++){let O=y[x];O[jo]===O[bt]&&Sg(O[re],O,C,o)}if(y[yi]!==null){let x=y[yi];for(let O=0;O<x.length;O++){let P=x[O];Sg(P[re],P,C,o)}}}}}return o}function gf(n,t){return n[Gn].queries[t].queryList}function Iv(n,t,e){let o=new yl((e&4)===4);return p_(n,t,o,o.destroy),(t[Gn]??=new Pg).queries.push(new xg(o))-1}function mw(n,t,e){let o=dt();return o.firstCreatePass&&(Dv(o,new wl(n,t,e),-1),(t&2)===2&&(o.staticViewQueries=!0)),Iv(o,de(),t)}function gw(n,t,e,o){let i=dt();if(i.firstCreatePass){let r=ft();Dv(i,new wl(t,e,o),r.index),hw(i,n),(e&2)===2&&(i.staticContentQueries=!0)}return Iv(i,de(),e)}function fw(n){return n.split(",").map(t=>t.trim())}function Dv(n,t,e){n.queries===null&&(n.queries=new Og),n.queries.track(new wg(t,e))}function hw(n,t){let e=n.contentQueries||(n.contentQueries=[]),o=e.length?e[e.length-1]:-1;t!==o&&e.push(n.queries.length-1,t)}function ff(n,t){return n.queries.getByIndex(t)}function kv(n,t){let e=n[re],o=ff(e,t);return o.crossesNgTemplate?Sg(e,n,t,[]):Ev(e,n,o,t)}function Tv(n,t,e){let o,i=Pa(()=>{o._dirtyCounter();let r=Cw(o,n);if(t&&r===void 0)throw new U(-951,!1);return r});return o=i[Ct],o._dirtyCounter=Ft(0),o._flatValue=void 0,i}function Av(n){return Tv(!0,!1,n)}function Nv(n){return Tv(!0,!0,n)}function _w(n,t){let e=n[Ct];e._lView=de(),e._queryIndex=t,e._queryList=gf(e._lView,t),e._queryList.onDirty(()=>e._dirtyCounter.update(o=>o+1))}function Cw(n,t){let e=n._lView,o=n._queryIndex;if(e===void 0||o===void 0||e[ce]&4)return t?void 0:At;let i=gf(e,o),r=kv(e,o);return i.reset(r,xC),t?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}var J_=new Set;function ki(n){J_.has(n)||(J_.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Ei=class{},Wl=class{};var Sl=class extends Ei{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Pl(this);constructor(t,e,o,i=!0){super(),this.ngModuleType=t,this._parent=e;let r=gm(t);this._bootstrapComponents=UC(r.bootstrap),this._r3Injector=Um(t,e,[{provide:Ei,useValue:this},{provide:rs,useValue:this.componentFactoryResolver},...o],vo(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},El=class extends Wl{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Sl(this.moduleType,t,[])}};var Ja=class extends Ei{injector;componentFactoryResolver=new Pl(this);instance=null;constructor(t){super();let e=new gi([...t.providers,{provide:Ei,useValue:this},{provide:rs,useValue:this.componentFactoryResolver}],t.parent||Fa(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Vr(n,t,e=null){return new Ja({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}var vw=(()=>{class n{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let o=hm(!1,e.type),i=o.length>0?Vr([o],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,i)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=L({token:n,providedIn:"environment",factory:()=>new n(j(rt))})}return n})();function N(n){return es(()=>{let t=Rv(n),e=$(w({},t),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Fg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(vw).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||bo.Emulated,styles:n.styles||At,_:null,schemas:n.schemas||null,tView:null,id:""});t.standalone&&ki("NgStandalone"),Fv(e);let o=n.dependencies;return e.directiveDefs=X_(o,yw),e.pipeDefs=X_(o,e_),e.id=xw(e),e})}function yw(n){return yo(n)||fm(n)}function qt(n){return es(()=>({type:n.type,bootstrap:n.bootstrap||At,declarations:n.declarations||At,imports:n.imports||At,exports:n.exports||At,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function bw(n,t){if(n==null)return Fo;let e={};for(let o in n)if(n.hasOwnProperty(o)){let i=n[o],r,s,u,p;Array.isArray(i)?(u=i[0],r=i[1],s=i[2]??r,p=i[3]||null):(r=i,s=i,u=zl.None,p=null),e[r]=[o,u,p],t[r]=s}return e}function Mw(n){if(n==null)return Fo;let t={};for(let e in n)n.hasOwnProperty(e)&&(t[n[e]]=e);return t}function Ee(n){return es(()=>{let t=Rv(n);return Fv(t),t})}function Ti(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Rv(n){let t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputConfig:n.inputs||Fo,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||At,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:bw(n.inputs,t),outputs:Mw(n.outputs),debugInfo:null}}function Fv(n){n.features?.forEach(t=>t(n))}function X_(n,t){return n?()=>{let e=typeof n=="function"?n():n,o=[];for(let i of e){let r=t(i);r!==null&&o.push(r)}return o}:null}function xw(n){let t=0,e=typeof n.consts=="function"?"":n.consts,o=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,e,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let r of o.join("|"))t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Pw(n){return Object.getPrototypeOf(n.prototype).constructor}function xt(n){let t=Pw(n.type),e=!0,o=[n];for(;t;){let i;if(Zn(n))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new U(903,!1);i=t.\u0275dir}if(i){if(e){o.push(i);let s=n;s.inputs=Xm(n.inputs),s.declaredInputs=Xm(n.declaredInputs),s.outputs=Xm(n.outputs);let u=i.hostBindings;u&&Iw(n,u);let p=i.viewQuery,C=i.contentQueries;if(p&&Sw(n,p),C&&Ew(n,C),Ow(n,i),W0(n.outputs,i.outputs),Zn(i)&&i.data.animation){let y=n.data;y.animation=(y.animation||[]).concat(i.data.animation)}}let r=i.features;if(r)for(let s=0;s<r.length;s++){let u=r[s];u&&u.ngInherit&&u(n),u===xt&&(e=!1)}}t=Object.getPrototypeOf(t)}ww(o)}function Ow(n,t){for(let e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;let o=t.inputs[e];o!==void 0&&(n.inputs[e]=o,n.declaredInputs[e]=t.declaredInputs[e])}}function ww(n){let t=0,e=null;for(let o=n.length-1;o>=0;o--){let i=n[o];i.hostVars=t+=i.hostVars,i.hostAttrs=Ar(i.hostAttrs,e=Ar(e,i.hostAttrs))}}function Xm(n){return n===Fo?{}:n===At?[]:n}function Sw(n,t){let e=n.viewQuery;e?n.viewQuery=(o,i)=>{t(o,i),e(o,i)}:n.viewQuery=t}function Ew(n,t){let e=n.contentQueries;e?n.contentQueries=(o,i,r)=>{t(o,i,r),e(o,i,r)}:n.contentQueries=t}function Iw(n,t){let e=n.hostBindings;e?n.hostBindings=(o,i)=>{t(o,i),e(o,i)}:n.hostBindings=t}function Lv(n,t,e,o,i,r,s,u){if(e.firstCreatePass){n.mergedAttrs=Ar(n.mergedAttrs,n.attrs);let y=n.tView=Gg(2,n,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,e.consts,null);e.queries!==null&&(e.queries.template(e,n),y.queries=e.queries.embeddedTView(n))}u&&(n.flags|=u),Er(n,!1);let p=Tw(e,t,n,o);il()&&Jg(e,t,p,n),Nr(p,t);let C=fv(p,t,p,n);t[o+et]=C,Zg(t,C),sw(C,n,t)}function Dw(n,t,e,o,i,r,s,u,p,C,y){let x=e+et,O;return t.firstCreatePass?(O=Lr(t,x,4,s||null,u||null),Qc()&&yv(t,n,O,Uo(t.consts,C),ef),uC(t,O)):O=t.data[x],Lv(O,n,t,e,o,i,r,p),wr(O)&&Ul(t,n,O),C!=null&&is(n,O,y),O}function kw(n,t,e,o,i,r,s,u,p,C,y){let x=e+et,O;if(t.firstCreatePass){if(O=Lr(t,x,4,s||null,u||null),C!=null){let P=Uo(t.consts,C);O.localNames=[];for(let F=0;F<P.length;F+=2)O.localNames.push(P[F],-1)}}else O=t.data[x];return Lv(O,n,t,e,o,i,r,p),C!=null&&is(n,O,y),O}function M(n,t,e,o,i,r,s,u){let p=de(),C=dt(),y=Uo(C.consts,r);return Dw(p,C,n,t,e,o,i,y,void 0,s,u),M}var Tw=Aw;function Aw(n,t,e,o){return Wa(!0),t[Ye].createComment("")}var ql=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(ql||{}),Ai=new K(""),Vv=!1,Eg=class extends Ve{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,r_()&&(this.destroyRef=A(vn,{optional:!0})??void 0,this.pendingTasks=A(Qn,{optional:!0})??void 0)}emit(t){let e=me(null);try{super.next(t)}finally{me(e)}}subscribe(t,e,o){let i=t,r=e||(()=>null),s=o;if(t&&typeof t=="object"){let p=t;i=p.next?.bind(p),r=p.error?.bind(p),s=p.complete?.bind(p)}this.__isAsync&&(r=this.wrapInTimeout(r),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let u=super.subscribe({next:i,error:r,complete:s});return t instanceof Ze&&t.add(u),u}wrapInTimeout(t){return e=>{let o=this.pendingTasks?.add();setTimeout(()=>{try{t(e)}finally{o!==void 0&&this.pendingTasks?.remove(o)}})}}},z=Eg;function jv(n){let t,e;function o(){n=Dr;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{n(),o()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{n(),o()})),()=>o()}function eC(n){return queueMicrotask(()=>n()),()=>{n=Dr}}var hf="isAngularZone",Il=hf+"_ID",Nw=0,We=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new z(!1);onMicrotaskEmpty=new z(!1);onStable=new z(!1);onError=new z(!1);constructor(t){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:r=Vv}=t;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&o,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=r,Lw(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(hf)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new U(909,!1)}run(t,e,o){return this._inner.run(t,e,o)}runTask(t,e,o,i){let r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,Rw,Dr,Dr);try{return r.runTask(s,e,o)}finally{r.cancelTask(s)}}runGuarded(t,e,o){return this._inner.runGuarded(t,e,o)}runOutsideAngular(t){return this._outer.run(t)}},Rw={};function _f(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Fw(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function t(){jv(()=>{n.callbackScheduled=!1,Ig(n),n.isCheckStableRunning=!0,_f(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{t()}):n._outer.run(()=>{t()}),Ig(n)}function Lw(n){let t=()=>{Fw(n)},e=Nw++;n._inner=n._inner.fork({name:"angular",properties:{[hf]:!0,[Il]:e,[Il+e]:!0},onInvokeTask:(o,i,r,s,u,p)=>{if(Vw(p))return o.invokeTask(r,s,u,p);try{return tC(n),o.invokeTask(r,s,u,p)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&t(),nC(n)}},onInvoke:(o,i,r,s,u,p,C)=>{try{return tC(n),o.invoke(r,s,u,p,C)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!jw(p)&&t(),nC(n)}},onHasTask:(o,i,r,s)=>{o.hasTask(r,s),i===r&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Ig(n),_f(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(o,i,r,s)=>(o.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Ig(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function tC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function nC(n){n._nesting--,_f(n)}var Dl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new z;onMicrotaskEmpty=new z;onStable=new z;onError=new z;run(t,e,o){return t.apply(e,o)}runGuarded(t,e,o){return t.apply(e,o)}runOutsideAngular(t){return t()}runTask(t,e,o,i){return t.apply(e,o)}};function Vw(n){return zv(n,"__ignore_ng_zone__")}function jw(n){return zv(n,"__scheduler_tick__")}function zv(n,t){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[t]===!0}var Cf=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),Bv=[0,1,2,3],Uv=(()=>{class n{ngZone=A(We);scheduler=A($n);errorHandler=A(cn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){A(Ai,{optional:!0})}execute(){let e=this.sequences.size>0;e&&ze(16),this.executing=!0;for(let o of Bv)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[o]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let r=i.hooks[o];return r(i.pipelinedValue)},i.snapshot))}catch(r){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let o of this.sequences)o.afterRun(),o.once&&(this.sequences.delete(o),o.destroy());for(let o of this.deferredRegistrations)this.sequences.add(o);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&ze(17)}register(e){let{view:o}=e;o!==void 0?((o[vi]??=[]).push(e),Mi(o),o[ce]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,o){return o?o.run(ql.AFTER_NEXT_RENDER,e):e()}static \u0275prov=L({token:n,providedIn:"root",factory:()=>new n})}return n})(),kl=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,e,o,i,r,s=null){this.impl=t,this.hooks=e,this.view=o,this.once=i,this.snapshot=s,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[vi];t&&(this.view[vi]=t.filter(e=>e!==this))}};function as(n,t){let e=t?.injector??A(Ut);return ki("NgAfterNextRender"),Bw(n,e,t,!0)}function zw(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Bw(n,t,e,o){let i=t.get(Cf);i.impl??=t.get(Uv);let r=t.get(Ai,null,{optional:!0}),s=e?.manualCleanup!==!0?t.get(vn):null,u=t.get(Ga,null,{optional:!0}),p=new kl(i.impl,zw(n),u?.view,o,s,r?.snapshot(null));return i.impl.register(p),p}var vf=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var yf=new K("");function xo(n){return!!n&&typeof n.then=="function"}function Gl(n){return!!n&&typeof n.subscribe=="function"}var bf=new K("");function Yl(n){return Vo([{provide:bf,multi:!0,useValue:n}])}var Mf=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,o)=>{this.resolve=e,this.reject=o});appInits=A(bf,{optional:!0})??[];injector=A(Ut);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let i of this.appInits){let r=Mt(this.injector,i);if(xo(r))e.push(r);else if(Gl(r)){let s=new Promise((u,p)=>{r.subscribe({complete:u,error:p})});e.push(s)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{o()}).catch(i=>{this.reject(i)}),e.length===0&&o(),this.initialized=!0}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ss=new K("");function Hv(){_p(()=>{let n="";throw new U(600,n)})}function $v(n){return n.isBoundToModule}var Uw=10;var Po=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=A(Wt);afterRenderManager=A(Cf);zonelessEnabled=A(qa);rootEffectScheduler=A(al);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ve;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=A(Qn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(J(e=>!e))}constructor(){A(Ai,{optional:!0})}whenStable(){let e;return new Promise(o=>{e=this.isStable.subscribe({next:i=>{i&&o()}})}).finally(()=>{e.unsubscribe()})}_injector=A(rt);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,o){return this.bootstrapImpl(e,o)}bootstrapImpl(e,o,i=Ut.NULL){return this._injector.get(We).run(()=>{ze(10);let s=e instanceof $l;if(!this._injector.get(Mf).done){let F="";throw new U(405,F)}let p;s?p=e:p=this._injector.get(rs).resolveComponentFactory(e),this.componentTypes.push(p.componentType);let C=$v(p)?void 0:this._injector.get(Ei),y=o||p.selector,x=p.create(i,[],y,C),O=x.location.nativeElement,P=x.injector.get(yf,null);return P?.registerApplication(O),x.onDestroy(()=>{this.detachView(x.hostView),Za(this.components,x),P?.unregisterApplication(O)}),this._loadComponent(x),ze(11,x),x})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ze(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ql.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new U(101,!1);let e=me(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,me(e),this.afterTick.next(),ze(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(wi,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<Uw;)ze(14),this.synchronizeOnce(),ze(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let e=!1;if(this.dirtyFlags&7){let o=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!o&&!ja(i))continue;let r=o&&!this.zonelessEnabled?0:1;af(i,r),e=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}e||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>ja(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let o=e;this._views.push(o),o.attachToAppRef(this)}detachView(e){let o=e;Za(this._views,o),o.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(e),this._injector.get(ss,[]).forEach(i=>i(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Za(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new U(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Za(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function V(n,t,e,o){let i=de(),r=Ua();if(to(i,r,t)){let s=dt(),u=ol();sO(u,i,n,t,e,o)}return V}var xf=new K("",{providedIn:"root",factory:()=>!1}),Pf=new K("",{providedIn:"root",factory:()=>Hw}),Hw=4e3;var Jj=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function m(n,t,e){let o=de(),i=Ua();if(to(o,i,t)){let r=dt(),s=ol();iv(s,o,n,t,o[Ye],e)}return m}function Dg(n,t,e,o,i){of(t,n,e,i?"class":"style",o)}function a(n,t,e,o){let i=de(),r=i[re],s=n+et,u=r.firstCreatePass?lf(s,i,2,t,ef,Qc(),e,o):r.data[s];if(tf(u,i,n,t,Wv),wr(u)){let p=i[re];Ul(p,i,u),zg(p,u,i)}return o!=null&&is(i,u),a}function c(){let n=dt(),t=ft(),e=nf(t);return n.firstCreatePass&&df(n,e),Tm(e)&&Am(),Dm(),e.classesWithoutHost!=null&&Sx(e)&&Dg(n,e,de(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Ex(e)&&Dg(n,e,de(),e.stylesWithoutHost,!1),c}function g(n,t,e,o){return a(n,t,e,o),c(),g}function Dt(n,t,e,o){let i=de(),r=i[re],s=n+et,u=r.firstCreatePass?HO(s,r,2,t,e,o):r.data[s];return tf(u,i,n,t,Wv),o!=null&&is(i,u),Dt}function Pt(){let n=ft(),t=nf(n);return Tm(t)&&Am(),Dm(),Pt}function jr(n,t,e,o){return Dt(n,t,e,o),Pt(),jr}var Wv=(n,t,e,o,i)=>(Wa(!0),WC(t[Ye],o,w_()));function ue(n,t,e){let o=de(),i=o[re],r=n+et,s=i.firstCreatePass?lf(r,o,8,"ng-container",ef,Qc(),t,e):i.data[r];if(tf(s,o,n,"ng-container",$w),wr(s)){let u=o[re];Ul(u,o,s),zg(u,s,o)}return e!=null&&is(o,s),ue}function pe(){let n=dt(),t=ft(),e=nf(t);return n.firstCreatePass&&df(n,e),pe}function Ni(n,t,e){return ue(n,t,e),pe(),Ni}var $w=(n,t,e,o,i)=>(Wa(!0),AP(t[Ye],""));function k(){return de()}var xi=void 0;function Ww(n){let t=Math.floor(Math.abs(n)),e=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&e===0?1:5}var qw=["en",[["a","p"],["AM","PM"],xi],[["AM","PM"],xi,xi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xi,"{1} 'at' {0}",xi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",Ww],eg={};function tn(n){let t=Gw(n),e=oC(t);if(e)return e;let o=t.split("-")[0];if(e=oC(o),e)return e;if(o==="en")return qw;throw new U(701,!1)}function oC(n){return n in eg||(eg[n]=Sn.ng&&Sn.ng.common&&Sn.ng.common.locales&&Sn.ng.common.locales[n]),eg[n]}var nt=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(nt||{});function Gw(n){return n.toLowerCase().replace(/_/g,"-")}var cs="en-US";var Yw=cs;function qv(n){typeof n=="string"&&(Yw=n.toLowerCase().replace(/_/g,"-"))}function v(n,t,e){let o=de(),i=dt(),r=ft();return Gv(i,o,o[Ye],r,n,t,e),v}function Gv(n,t,e,o,i,r,s){let u=!0,p=null;if((o.type&3||s)&&(p??=Qm(o,t,r),qO(o,n,t,s,e,i,r,p)&&(u=!1)),u){let C=o.outputs?.[i],y=o.hostDirectiveOutputs?.[i];if(y&&y.length)for(let x=0;x<y.length;x+=2){let O=y[x],P=y[x+1];p??=Qm(o,t,r),Z_(o,t,O,P,i,p)}if(C&&C.length)for(let x of C)p??=Qm(o,t,r),Z_(o,t,x,i,i,p)}}function f(n=1){return O_(n)}function Zw(n,t){let e=null,o=PP(n);for(let i=0;i<t.length;i++){let r=t[i];if(r==="*"){e=i;continue}if(o===null?$C(n,r,!0):SP(o,r))return i}return e}function Of(n){let t=de()[en][Ht];if(!t.projection){let e=n?n.length:1,o=t.projection=J0(e,null),i=o.slice(),r=t.child;for(;r!==null;){if(r.type!==128){let s=n?Zw(r,n):0;s!==null&&(i[s]?i[s].projectionNext=r:o[s]=r,i[s]=r)}r=r.next}}}function Zl(n,t=0,e,o,i,r){let s=de(),u=dt(),p=o?n+1:null;p!==null&&kw(s,u,p,o,i,r,null,e);let C=Lr(u,et+n,16,null,e||null);C.projection===null&&(C.projection=t),Fm();let x=!s[Mr]||km();s[en][Ht].projection[C.projection]===null&&p!==null?Kw(s,u,p):x&&!Ll(C)&&ZP(u,s,C)}function Kw(n,t,e){let o=et+e,i=t.data[o],r=n[o],s=vg(r,i.tView.ssrId),u=rv(n,i,void 0,{dehydratedView:s});hv(r,u,0,hg(i,s))}function Ri(n,t,e,o){gw(n,t,e,o)}function Fi(n){let t=de(),e=dt(),o=el();$a(o+1);let i=ff(e,o);if(n.dirty&&c_(t)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let r=kv(t,o);n.reset(r,xC),n.notifyOnChanges()}return!0}return!1}function Li(){return gf(de(),el())}function wf(n,t,e,o){_w(n,mw(t,e,o))}function Sf(n=1){$a(el()+n)}function xe(n){let t=h_();return Yc(t,et+n)}function dl(n,t){return n<<17|t<<2}function Ii(n){return n>>17&32767}function Qw(n){return(n&2)==2}function Jw(n,t){return n&131071|t<<17}function kg(n){return n|2}function Rr(n){return(n&131068)>>2}function tg(n,t){return n&-131069|t<<2}function Xw(n){return(n&1)===1}function Tg(n){return n|1}function e2(n,t,e,o,i,r){let s=r?t.classBindings:t.styleBindings,u=Ii(s),p=Rr(s);n[o]=e;let C=!1,y;if(Array.isArray(e)){let x=e;y=x[1],(y===null||br(x,y)>0)&&(C=!0)}else y=e;if(i)if(p!==0){let O=Ii(n[u+1]);n[o+1]=dl(O,u),O!==0&&(n[O+1]=tg(n[O+1],o)),n[u+1]=Jw(n[u+1],o)}else n[o+1]=dl(u,0),u!==0&&(n[u+1]=tg(n[u+1],o)),u=o;else n[o+1]=dl(p,0),u===0?u=o:n[p+1]=tg(n[p+1],o),p=o;C&&(n[o+1]=kg(n[o+1])),iC(n,y,o,!0),iC(n,y,o,!1),t2(t,y,n,o,r),s=dl(u,p),r?t.classBindings=s:t.styleBindings=s}function t2(n,t,e,o,i){let r=i?n.residualClasses:n.residualStyles;r!=null&&typeof t=="string"&&br(r,t)>=0&&(e[o+1]=Tg(e[o+1]))}function iC(n,t,e,o){let i=n[e+1],r=t===null,s=o?Ii(i):Rr(i),u=!1;for(;s!==0&&(u===!1||r);){let p=n[s],C=n[s+1];n2(p,t)&&(u=!0,n[s+1]=o?Tg(C):kg(C)),s=o?Ii(C):Rr(C)}u&&(n[e+1]=o?kg(i):Tg(i))}function n2(n,t){return n===null||t==null||(Array.isArray(n)?n[1]:n)===t?!0:Array.isArray(n)&&typeof t=="string"?br(n,t)>=0:!1}var An={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function o2(n){return n.substring(An.key,An.keyEnd)}function i2(n){return r2(n),Yv(n,Zv(n,0,An.textEnd))}function Yv(n,t){let e=An.textEnd;return e===t?-1:(t=An.keyEnd=a2(n,An.key=t,e),Zv(n,t,e))}function r2(n){An.key=0,An.keyEnd=0,An.value=0,An.valueEnd=0,An.textEnd=n.length}function Zv(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function a2(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}function zr(n,t,e){return Kv(n,t,e,!1),zr}function H(n,t){return Kv(n,t,null,!0),H}function Fe(n){c2(g2,s2,n,!0)}function s2(n,t){for(let e=i2(t);e>=0;e=Yv(t,e))$c(n,o2(t),!0)}function Kv(n,t,e,o){let i=de(),r=dt(),s=Ha(2);if(r.firstUpdatePass&&Jv(r,n,s,o),t!==Vt&&to(i,s,t)){let u=r.data[Kn()];Xv(r,u,i,i[Ye],n,i[s+1]=h2(t,e),o,s)}}function c2(n,t,e,o){let i=dt(),r=Ha(2);i.firstUpdatePass&&Jv(i,null,r,o);let s=de();if(e!==Vt&&to(s,r,e)){let u=i.data[Kn()];if(e1(u,o)&&!Qv(i,r)){let p=o?u.classesWithoutHost:u.stylesWithoutHost;p!==null&&(e=zc(p,e||"")),Dg(i,u,s,e,o)}else f2(i,u,s,s[Ye],s[r+1],s[r+1]=m2(n,t,e),o,r)}}function Qv(n,t){return t>=n.expandoStartIndex}function Jv(n,t,e,o){let i=n.data;if(i[e+1]===null){let r=i[Kn()],s=Qv(n,e);e1(r,o)&&t===null&&!s&&(t=!1),t=l2(i,r,t,o),e2(i,r,t,e,s,o)}}function l2(n,t,e,o){let i=b_(n),r=o?t.residualClasses:t.residualStyles;if(i===null)(o?t.classBindings:t.styleBindings)===0&&(e=ng(null,n,t,e,o),e=Xa(e,t.attrs,o),r=null);else{let s=t.directiveStylingLast;if(s===-1||n[s]!==i)if(e=ng(i,n,t,e,o),r===null){let p=d2(n,t,o);p!==void 0&&Array.isArray(p)&&(p=ng(null,n,t,p[1],o),p=Xa(p,t.attrs,o),u2(n,t,o,p))}else r=p2(n,t,o)}return r!==void 0&&(o?t.residualClasses=r:t.residualStyles=r),e}function d2(n,t,e){let o=e?t.classBindings:t.styleBindings;if(Rr(o)!==0)return n[Ii(o)]}function u2(n,t,e,o){let i=e?t.classBindings:t.styleBindings;n[Ii(i)]=o}function p2(n,t,e){let o,i=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<i;r++){let s=n[r].hostAttrs;o=Xa(o,s,e)}return Xa(o,t.attrs,e)}function ng(n,t,e,o,i){let r=null,s=e.directiveEnd,u=e.directiveStylingLast;for(u===-1?u=e.directiveStart:u++;u<s&&(r=t[u],o=Xa(o,r.hostAttrs,i),r!==n);)u++;return n!==null&&(e.directiveStylingLast=u),o}function Xa(n,t,e){let o=e?1:2,i=-1;if(t!==null)for(let r=0;r<t.length;r++){let s=t[r];typeof s=="number"?i=s:i===o&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),$c(n,s,e?!0:t[++r]))}return n===void 0?null:n}function m2(n,t,e){if(e==null||e==="")return At;let o=[],i=Di(e);if(Array.isArray(i))for(let r=0;r<i.length;r++)n(o,i[r],!0);else if(typeof i=="object")for(let r in i)i.hasOwnProperty(r)&&n(o,r,i[r]);else typeof i=="string"&&t(o,i);return o}function g2(n,t,e){let o=String(t);o!==""&&!o.includes(" ")&&$c(n,o,e)}function f2(n,t,e,o,i,r,s,u){i===Vt&&(i=At);let p=0,C=0,y=0<i.length?i[0]:null,x=0<r.length?r[0]:null;for(;y!==null||x!==null;){let O=p<i.length?i[p+1]:void 0,P=C<r.length?r[C+1]:void 0,F=null,Z;y===x?(p+=2,C+=2,O!==P&&(F=x,Z=P)):x===null||y!==null&&y<x?(p+=2,F=y):(C+=2,F=x,Z=P),F!==null&&Xv(n,t,e,o,F,Z,s,u),y=p<i.length?i[p]:null,x=C<r.length?r[C]:null}}function Xv(n,t,e,o,i,r,s,u){if(!(t.type&3))return;let p=n.data,C=p[u+1],y=Xw(C)?rC(p,t,e,i,Rr(C),s):void 0;if(!Tl(y)){Tl(r)||Qw(C)&&(r=rC(p,null,e,i,u,s));let x=xm(Kn(),e);QP(o,s,x,i,r)}}function rC(n,t,e,o,i,r){let s=t===null,u;for(;i>0;){let p=n[i],C=Array.isArray(p),y=C?p[1]:p,x=y===null,O=e[i+1];O===Vt&&(O=x?At:void 0);let P=x?Wc(O,o):y===o?O:void 0;if(C&&!Tl(P)&&(P=Wc(p,o)),Tl(P)&&(u=P,s))return u;let F=n[i+1];i=s?Ii(F):Rr(F)}if(t!==null){let p=r?t.residualClasses:t.residualStyles;p!=null&&(u=Wc(p,o))}return u}function Tl(n){return n!==void 0}function h2(n,t){return n==null||n===""||(typeof t=="string"?n=n+t:typeof n=="object"&&(n=vo(Di(n)))),n}function e1(n,t){return(n.flags&(t?8:16))!==0}function l(n,t=""){let e=de(),o=dt(),i=n+et,r=o.firstCreatePass?Lr(o,i,1,t,null):o.data[i],s=_2(o,e,r,t,n);e[i]=s,il()&&Jg(o,e,s,r),Er(r,!1)}var _2=(n,t,e,o,i)=>(Wa(!0),kP(t[Ye],o));function C2(n,t,e,o=""){return to(n,Ua(),e)?t+En(e)+o:Vt}function v2(n,t,e,o,i,r=""){let s=jm(),u=mf(n,s,e,i);return Ha(2),u?t+En(e)+o+En(i)+r:Vt}function y2(n,t,e,o,i,r,s,u=""){let p=jm(),C=WO(n,p,e,i,s);return Ha(3),C?t+En(e)+o+En(i)+r+En(s)+u:Vt}function b(n){return T("",n),b}function T(n,t,e){let o=de(),i=C2(o,n,t,e);return i!==Vt&&Ef(o,Kn(),i),T}function ke(n,t,e,o,i){let r=de(),s=v2(r,n,t,e,o,i);return s!==Vt&&Ef(r,Kn(),s),ke}function Br(n,t,e,o,i,r,s){let u=de(),p=y2(u,n,t,e,o,i,r,s);return p!==Vt&&Ef(u,Kn(),p),Br}function Ef(n,t,e){let o=xm(t,n);TP(n[Ye],o,e)}function S(n,t,e){Wm(t)&&(t=t());let o=de(),i=Ua();if(to(o,i,t)){let r=dt(),s=ol();iv(s,o,n,t,o[Ye],e)}return S}function I(n,t){let e=Wm(n);return e&&n.set(t),e}function E(n,t){let e=de(),o=dt(),i=ft();return Gv(o,e,e[Ye],i,n,t),E}function b2(n,t,e){let o=dt();if(o.firstCreatePass){let i=Zn(n);Ag(e,o.data,o.blueprint,i,!0),Ag(t,o.data,o.blueprint,i,!1)}}function Ag(n,t,e,o,i){if(n=Et(n),Array.isArray(n))for(let r=0;r<n.length;r++)Ag(n[r],t,e,o,i);else{let r=dt(),s=de(),u=ft(),p=mi(n)?n:Et(n.provide),C=Cm(n),y=u.providerIndexes&1048575,x=u.directiveStart,O=u.providerIndexes>>20;if(mi(n)||!n.multi){let P=new Oi(C,i,D,null),F=ig(p,t,i?y:y+O,x);F===-1?(ag(vl(u,s),r,p),og(r,n,t.length),t.push(p),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),e.push(P),s.push(P)):(e[F]=P,s[F]=P)}else{let P=ig(p,t,y+O,x),F=ig(p,t,y,y+O),Z=P>=0&&e[P],Q=F>=0&&e[F];if(i&&!Q||!i&&!Z){ag(vl(u,s),r,p);let X=P2(i?x2:M2,e.length,i,o,C,n);!i&&Q&&(e[F].providerFactory=X),og(r,n,t.length,0),t.push(p),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),e.push(X),s.push(X)}else{let X=t1(e[i?F:P],C,!i&&o);og(r,n,P>-1?P:F,X)}!i&&o&&Q&&e[F].componentProviders++}}}function og(n,t,e,o){let i=mi(t),r=i_(t);if(i||r){let p=(r?Et(t.useClass):t).prototype.ngOnDestroy;if(p){let C=n.destroyHooks||(n.destroyHooks=[]);if(!i&&t.multi){let y=C.indexOf(e);y===-1?C.push(e,[o,p]):C[y+1].push(o,p)}else C.push(e,p)}}}function t1(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function ig(n,t,e,o){for(let i=e;i<o;i++)if(t[i]===n)return i;return-1}function M2(n,t,e,o,i){return Ng(this.multi,[])}function x2(n,t,e,o,i){let r=this.multi,s;if(this.providerFactory){let u=this.providerFactory.componentProviders,p=Ka(o,o[re],this.providerFactory.index,i);s=p.slice(0,u),Ng(r,s);for(let C=u;C<p.length;C++)s.push(p[C])}else s=[],Ng(r,s);return s}function Ng(n,t){for(let e=0;e<n.length;e++){let o=n[e];t.push(o())}return t}function P2(n,t,e,o,i,r){let s=new Oi(n,e,D,null);return s.multi=[],s.index=t,s.componentProviders=0,t1(s,i,o&&!e),s}function jt(n,t=[]){return e=>{e.providersResolver=(o,i)=>b2(o,i?i(n):n,t)}}function Ot(n,t,e){let o=Ba()+n,i=de();return i[o]===Vt?pf(i,o,e?t.call(e):t()):$O(i,o)}function Ur(n,t,e,o){return o1(de(),Ba(),n,t,e,o)}function n1(n,t){let e=n[t];return e===Vt?void 0:e}function o1(n,t,e,o,i,r){let s=t+e;return to(n,s,i)?pf(n,s+1,r?o.call(r,i):o(i)):n1(n,s+1)}function O2(n,t,e,o,i,r,s){let u=t+e;return mf(n,u,i,r)?pf(n,u+2,s?o.call(s,i,r):o(i,r)):n1(n,u+2)}function te(n,t){let e=dt(),o,i=n+et;e.firstCreatePass?(o=w2(t,e.pipeRegistry),e.data[i]=o,o.onDestroy&&(e.destroyHooks??=[]).push(i,o.onDestroy)):o=e.data[i];let r=o.factory||(o.factory=No(o.type,!0)),s,u=Bt(D);try{let p=Cl(!1),C=r();return Cl(p),Pm(e,de(),i,C),C}finally{Bt(u)}}function w2(n,t){if(t)for(let e=t.length-1;e>=0;e--){let o=t[e];if(n===o.name)return o}}function _e(n,t,e){let o=n+et,i=de(),r=Yc(i,o);return i1(i,o)?o1(i,Ba(),t,r.transform,e,r):r.transform(e)}function Gt(n,t,e,o){let i=n+et,r=de(),s=Yc(r,i);return i1(r,i)?O2(r,Ba(),t,s.transform,e,o,s):s.transform(e,o)}function i1(n,t){return n[re].data[t].pure}function ut(n,t){return Hl(n,t)}var Al=class{ngModuleFactory;componentFactories;constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}},If=(()=>{class n{compileModuleSync(e){return new El(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let o=this.compileModuleSync(e),i=gm(e),r=UC(i.declarations).reduce((s,u)=>{let p=yo(u);return p&&s.push(new Si(p)),s},[]);return new Al(o,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var S2=(()=>{class n{zone=A(We);changeDetectionScheduler=A($n);applicationRef=A(Po);applicationErrorHandler=A(Wt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(e){this.applicationErrorHandler(e)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),r1=new K("",{factory:()=>!1});function Df({ngZoneFactory:n,ignoreChangesOutsideZone:t,scheduleInRootZone:e}){return n??=()=>new We($(w({},Tf()),{scheduleInRootZone:e})),[{provide:We,useFactory:n},{provide:Lo,multi:!0,useFactory:()=>{let o=A(S2,{optional:!0});return()=>o.initialize()}},{provide:Lo,multi:!0,useFactory:()=>{let o=A(E2);return()=>{o.initialize()}}},t===!0?{provide:qm,useValue:!0}:[],{provide:Gm,useValue:e??Vv},{provide:Wt,useFactory:()=>{let o=A(We),i=A(rt),r;return s=>{o.runOutsideAngular(()=>{i.destroyed&&!r?setTimeout(()=>{throw s}):(r??=i.get(cn),r.handleError(s))})}}}]}function kf(n){let t=n?.ignoreChangesOutsideZone,e=n?.scheduleInRootZone,o=Df({ngZoneFactory:()=>{let i=Tf(n);return i.scheduleInRootZone=e,i.shouldCoalesceEventChangeDetection&&ki("NgZone_CoalesceEvent"),new We(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:e});return Vo([{provide:r1,useValue:!0},{provide:qa,useValue:!1},o])}function Tf(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var E2=(()=>{class n{subscription=new Ze;initialized=!1;zone=A(We);pendingTasks=A(Qn);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var a1=(()=>{class n{applicationErrorHandler=A(Wt);appRef=A(Po);taskService=A(Qn);ngZone=A(We);zonelessEnabled=A(qa);tracing=A(Ai,{optional:!0});disableScheduling=A(qm,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ze;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Il):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(A(Gm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Dl||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let o=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,o=!0;break}case 12:{this.appRef.dirtyFlags|=16,o=!0;break}case 13:{this.appRef.dirtyFlags|=2,o=!0;break}case 11:{o=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(o))return;let i=this.useMicrotaskScheduler?eC:jv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Il+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){this.taskService.remove(e),this.applicationErrorHandler(o)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,eC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function I2(){return typeof $localize<"u"&&$localize.locale||cs}var Hr=new K("",{providedIn:"root",factory:()=>A(Hr,{optional:!0,skipSelf:!0})||I2()});var Kl=class{destroyed=!1;listeners=null;errorHandler=A(cn,{optional:!0});destroyRef=A(vn);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new U(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{let e=this.listeners?.indexOf(t);e!==void 0&&e!==-1&&this.listeners?.splice(e,1)}}}emit(t){if(this.destroyed){console.warn(Wn(953,!1));return}if(this.listeners===null)return;let e=me(null);try{for(let o of this.listeners)try{o(t)}catch(i){this.errorHandler?.handleError(i)}}finally{me(e)}}};function at(n){return U0(n)}function Vi(n,t){return Pa(n,t?.equal)}var s1=class{[Ct];constructor(t){this[Ct]=t}destroy(){this[Ct].destroy()}};var m1=Symbol("InputSignalNode#UNSET"),B2=$(w({},lc),{transformFn:void 0,applyValueToInputSignal(n,t){ar(n,t)}});function g1(n,t){let e=Object.create(B2);e.value=n,e.transformFn=t?.transform;function o(){if(or(e),e.value===m1){let i=null;throw new U(-950,i)}return e.value}return o[Ct]=e,o}var Jl=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>ts(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},U2=new K("");U2.__NG_ELEMENT_ID__=n=>{let t=ft();if(t===null)throw new U(204,!1);if(t.type&2)return t.value;if(n&8)return null;throw new U(204,!1)};function f1(n){return new Kl}function c1(n,t){return g1(n,t)}function H2(n){return g1(m1,n)}var He=(c1.required=H2,c1);function l1(n,t){return Av(t)}function $2(n,t){return Nv(t)}var h1=(l1.required=$2,l1);var Af=new K(""),W2=new K("");function ls(n){return!n.moduleRef}function q2(n){let t=ls(n)?n.r3Injector:n.moduleRef.injector,e=t.get(We);return e.run(()=>{ls(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let o=t.get(Wt),i;if(e.runOutsideAngular(()=>{i=e.onError.subscribe({next:o})}),ls(n)){let r=()=>t.destroy(),s=n.platformInjector.get(Af);s.add(r),t.onDestroy(()=>{i.unsubscribe(),s.delete(r)})}else{let r=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Af);s.add(r),n.moduleRef.onDestroy(()=>{Za(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(r)})}return Y2(o,e,()=>{let r=t.get(Qn),s=r.add(),u=t.get(Mf);return u.runInitializers(),u.donePromise.then(()=>{let p=t.get(Hr,cs);if(qv(p||cs),!t.get(W2,!0))return ls(n)?t.get(Po):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ls(n)){let y=t.get(Po);return n.rootComponent!==void 0&&y.bootstrap(n.rootComponent),y}else return G2?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void r.remove(s))})})}var G2;function Y2(n,t,e){try{let o=e();return xo(o)?o.catch(i=>{throw t.runOutsideAngular(()=>n(i)),i}):o}catch(o){throw t.runOutsideAngular(()=>n(o)),o}}var Ql=null;function Z2(n=[],t){return Ut.create({name:t,providers:[{provide:Ra,useValue:"platform"},{provide:Af,useValue:new Set([()=>Ql=null])},...n]})}function K2(n=[]){if(Ql)return Ql;let t=Z2(n);return Ql=t,Hv(),Q2(t),t}function Q2(n){let t=n.get(Rl,null);Mt(n,()=>{t?.forEach(e=>e())})}var no=(()=>{class n{static __NG_ELEMENT_ID__=J2}return n})();function J2(n){return X2(ft(),de(),(n&16)===16)}function X2(n,t,e){if(Bo(n)&&!e){let o=Cn(n.index,t);return new $o(o,o)}else if(n.type&175){let o=t[en];return new $o(o,t)}return null}var Nf=class{constructor(){}supports(t){return uf(t)}create(t){return new Rf(t)}},eS=(n,t)=>t,Rf=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||eS}forEachItem(t){let e;for(e=this._itHead;e!==null;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,o=this._removalsHead,i=0,r=null;for(;e||o;){let s=!o||e&&e.currentIndex<d1(o,i,r)?e:o,u=d1(s,i,r),p=s.currentIndex;if(s===o)i--,o=o._nextRemoved;else if(e=e._next,s.previousIndex==null)i++;else{r||(r=[]);let C=u-i,y=p-i;if(C!=y){for(let O=0;O<C;O++){let P=O<r.length?r[O]:r[O]=0,F=P+O;y<=F&&F<C&&(r[O]=P+1)}let x=s.previousIndex;r[x]=y-C}}u!==p&&t(s,u,p)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)t(e)}diff(t){if(t==null&&(t=[]),!uf(t))throw new U(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._itHead,o=!1,i,r,s;if(Array.isArray(t)){this.length=t.length;for(let u=0;u<this.length;u++)r=t[u],s=this._trackByFn(u,r),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,r,s,u),o=!0):(o&&(e=this._verifyReinsertion(e,r,s,u)),Object.is(e.item,r)||this._addIdentityChange(e,r)),e=e._next}else i=0,Mv(t,u=>{s=this._trackByFn(i,u),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,u,s,i),o=!0):(o&&(e=this._verifyReinsertion(e,u,s,i)),Object.is(e.item,u)||this._addIdentityChange(e,u)),e=e._next,i++}),this.length=i;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,o,i){let r;return t===null?r=this._itTail:(r=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(o,null),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(o,i),t!==null?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):t=this._addAfter(new Ff(e,o),r,i)),t}_verifyReinsertion(t,e,o,i){let r=this._unlinkedRecords===null?null:this._unlinkedRecords.get(o,null);return r!==null?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let e=t._next;this._addToRemovals(this._unlink(t)),t=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,o){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,r=t._nextRemoved;return i===null?this._removalsHead=r:i._nextRemoved=r,r===null?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,o),this._addToMoves(t,o),t}_moveAfter(t,e,o){return this._unlink(t),this._insertAfter(t,e,o),this._addToMoves(t,o),t}_addAfter(t,e,o){return this._insertAfter(t,e,o),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,e,o){let i=e===null?this._itHead:e._next;return t._next=i,t._prev=e,i===null?this._itTail=t:i._prev=t,e===null?this._itHead=t:e._next=t,this._linkedRecords===null&&(this._linkedRecords=new Xl),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let e=t._prev,o=t._next;return e===null?this._itHead=o:e._next=o,o===null?this._itTail=e:o._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Xl),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Ff=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,e){this.item=t,this.trackById=e}},Lf=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let o;for(o=this._head;o!==null;o=o._nextDup)if((e===null||e<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){let e=t._prevDup,o=t._nextDup;return e===null?this._head=o:e._nextDup=o,o===null?this._tail=e:o._prevDup=e,this._head===null}},Xl=class{map=new Map;put(t){let e=t.trackById,o=this.map.get(e);o||(o=new Lf,this.map.set(e,o)),o.add(t)}get(t,e){let o=t,i=this.map.get(o);return i?i.get(t,e):null}remove(t){let e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function d1(n,t,e){let o=n.previousIndex;if(o===null)return o;let i=0;return e&&o<e.length&&(i=e[o]),o+t+i}function u1(){return new Vf([new Nf])}var Vf=(()=>{class n{factories;static \u0275prov=L({token:n,providedIn:"root",factory:u1});constructor(e){this.factories=e}static create(e,o){if(o!=null){let i=o.factories.slice();e=e.concat(i)}return new n(e)}static extend(e){return{provide:n,useFactory:()=>{let o=A(n,{optional:!0,skipSelf:!0});return n.create(e,o||u1())}}}find(e){let o=this.factories.find(i=>i.supports(e));if(o!=null)return o;throw new U(901,!1)}}return n})();function _1(n){let{rootComponent:t,appProviders:e,platformProviders:o,platformRef:i}=n;ze(8);try{let r=i?.injector??K2(o),s=[Df({}),{provide:$n,useExisting:a1},E_,...e||[]],u=new Ja({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return q2({r3Injector:u.injector,platformInjector:r,rootComponent:t})}catch(r){return Promise.reject(r)}finally{ze(9)}}function qo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function C1(n){let t=yo(n);if(!t)return null;let e=new Si(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var b1=null;function Mn(){return b1}function jf(n){b1??=n}var ds=class{},us=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:()=>A(M1),providedIn:"platform"})}return n})(),zf=new K(""),M1=(()=>{class n extends us{_location;_history;_doc=A(tt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mn().getBaseHref(this._doc)}onPopState(e){let o=Mn().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){let o=Mn().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,o,i){this._history.pushState(e,o,i)}replaceState(e,o,i){this._history.replaceState(e,o,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function ed(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function v1(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function Nn(n){return n&&n[0]!=="?"?`?${n}`:n}var Rn=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:()=>A(nd),providedIn:"root"})}return n})(),td=new K(""),nd=(()=>{class n extends Rn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,o){super(),this._platformLocation=e,this._baseHref=o??this._platformLocation.getBaseHrefFromDOM()??A(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ed(this._baseHref,e)}path(e=!1){let o=this._platformLocation.pathname+Nn(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${o}${i}`:o}pushState(e,o,i,r){let s=this.prepareExternalUrl(i+Nn(r));this._platformLocation.pushState(e,o,s)}replaceState(e,o,i,r){let s=this.prepareExternalUrl(i+Nn(r));this._platformLocation.replaceState(e,o,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(o){return new(o||n)(j(us),j(td,8))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Go=(()=>{class n{_subject=new Ve;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let o=this._locationStrategy.getBaseHref();this._basePath=oS(v1(y1(o))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+Nn(o))}normalize(e){return n.stripTrailingSlash(nS(this._basePath,y1(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,o="",i=null){this._locationStrategy.pushState(i,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Nn(o)),i)}replaceState(e,o="",i=null){this._locationStrategy.replaceState(i,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Nn(o)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}),()=>{let o=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(o,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(i=>i(e,o))}subscribe(e,o,i){return this._subject.subscribe({next:e,error:o??void 0,complete:i??void 0})}static normalizeQueryParams=Nn;static joinWithSlash=ed;static stripTrailingSlash=v1;static \u0275fac=function(o){return new(o||n)(j(Rn))};static \u0275prov=L({token:n,factory:()=>tS(),providedIn:"root"})}return n})();function tS(){return new Go(j(Rn))}function nS(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function y1(n){return n.replace(/\/index.html$/,"")}function oS(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var Zf=(()=>{class n extends Rn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,o){super(),this._platformLocation=e,o!=null&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash??"#";return o.length>0?o.substring(1):o}prepareExternalUrl(e){let o=ed(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,i,r){let s=this.prepareExternalUrl(i+Nn(r))||this._platformLocation.pathname;this._platformLocation.pushState(e,o,s)}replaceState(e,o,i,r){let s=this.prepareExternalUrl(i+Nn(r))||this._platformLocation.pathname;this._platformLocation.replaceState(e,o,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(o){return new(o||n)(j(us),j(td,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();var Kf=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(Kf||{});var zt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(zt||{}),Ue=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Ue||{}),nn=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(nn||{}),on={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function E1(n){return tn(n)[nt.LocaleId]}function I1(n,t,e){let o=tn(n),i=[o[nt.DayPeriodsFormat],o[nt.DayPeriodsStandalone]],r=xn(i,t);return xn(r,e)}function D1(n,t,e){let o=tn(n),i=[o[nt.DaysFormat],o[nt.DaysStandalone]],r=xn(i,t);return xn(r,e)}function k1(n,t,e){let o=tn(n),i=[o[nt.MonthsFormat],o[nt.MonthsStandalone]],r=xn(i,t);return xn(r,e)}function T1(n,t){let o=tn(n)[nt.Eras];return xn(o,t)}function ps(n,t){let e=tn(n);return xn(e[nt.DateFormat],t)}function ms(n,t){let e=tn(n);return xn(e[nt.TimeFormat],t)}function gs(n,t){let o=tn(n)[nt.DateTimeFormat];return xn(o,t)}function oo(n,t){let e=tn(n),o=e[nt.NumberSymbols][t];if(typeof o>"u"){if(t===on.CurrencyDecimal)return e[nt.NumberSymbols][on.Decimal];if(t===on.CurrencyGroup)return e[nt.NumberSymbols][on.Group]}return o}function A1(n,t){return tn(n)[nt.NumberFormats][t]}function N1(n){if(!n[nt.ExtraData])throw new U(2303,!1)}function R1(n){let t=tn(n);return N1(t),(t[nt.ExtraData][2]||[]).map(o=>typeof o=="string"?Bf(o):[Bf(o[0]),Bf(o[1])])}function F1(n,t,e){let o=tn(n);N1(o);let i=[o[nt.ExtraData][0],o[nt.ExtraData][1]],r=xn(i,t)||[];return xn(r,e)||[]}function xn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new U(2304,!1)}function Bf(n){let[t,e]=n.split(":");return{hours:+t,minutes:+e}}var iS=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,od={},rS=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function L1(n,t,e,o){let i=gS(n);t=Oo(e,t)||t;let s=[],u;for(;t;)if(u=rS.exec(t),u){s=s.concat(u.slice(1));let y=s.pop();if(!y)break;t=y}else{s.push(t);break}let p=i.getTimezoneOffset();o&&(p=j1(o,p),i=mS(i,o));let C="";return s.forEach(y=>{let x=uS(y);C+=x?x(i,e,p):y==="''"?"'":y.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),C}function cd(n,t,e){let o=new Date(0);return o.setFullYear(n,t,e),o.setHours(0,0,0),o}function Oo(n,t){let e=E1(n);if(od[e]??={},od[e][t])return od[e][t];let o="";switch(t){case"shortDate":o=ps(n,nn.Short);break;case"mediumDate":o=ps(n,nn.Medium);break;case"longDate":o=ps(n,nn.Long);break;case"fullDate":o=ps(n,nn.Full);break;case"shortTime":o=ms(n,nn.Short);break;case"mediumTime":o=ms(n,nn.Medium);break;case"longTime":o=ms(n,nn.Long);break;case"fullTime":o=ms(n,nn.Full);break;case"short":let i=Oo(n,"shortTime"),r=Oo(n,"shortDate");o=id(gs(n,nn.Short),[i,r]);break;case"medium":let s=Oo(n,"mediumTime"),u=Oo(n,"mediumDate");o=id(gs(n,nn.Medium),[s,u]);break;case"long":let p=Oo(n,"longTime"),C=Oo(n,"longDate");o=id(gs(n,nn.Long),[p,C]);break;case"full":let y=Oo(n,"fullTime"),x=Oo(n,"fullDate");o=id(gs(n,nn.Full),[y,x]);break}return o&&(od[e][t]=o),o}function id(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,o){return t!=null&&o in t?t[o]:e})),n}function Fn(n,t,e="-",o,i){let r="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,r=e));let s=String(n);for(;s.length<t;)s="0"+s;return o&&(s=s.slice(s.length-t)),r+s}function aS(n,t){return Fn(n,3).substring(0,t)}function pt(n,t,e=0,o=!1,i=!1){return function(r,s){let u=sS(n,r);if((e>0||u>-e)&&(u+=e),n===3)u===0&&e===-12&&(u=12);else if(n===6)return aS(u,t);let p=oo(s,on.MinusSign);return Fn(u,t,p,o,i)}}function sS(n,t){switch(n){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new U(2301,!1)}}function qe(n,t,e=zt.Format,o=!1){return function(i,r){return cS(i,r,n,t,e,o)}}function cS(n,t,e,o,i,r){switch(e){case 2:return k1(t,i,o)[n.getMonth()];case 1:return D1(t,i,o)[n.getDay()];case 0:let s=n.getHours(),u=n.getMinutes();if(r){let C=R1(t),y=F1(t,i,o),x=C.findIndex(O=>{if(Array.isArray(O)){let[P,F]=O,Z=s>=P.hours&&u>=P.minutes,Q=s<F.hours||s===F.hours&&u<F.minutes;if(P.hours<F.hours){if(Z&&Q)return!0}else if(Z||Q)return!0}else if(O.hours===s&&O.minutes===u)return!0;return!1});if(x!==-1)return y[x]}return I1(t,i,o)[s<12?0:1];case 3:return T1(t,o)[n.getFullYear()<=0?0:1];default:let p=e;throw new U(2302,!1)}}function rd(n){return function(t,e,o){let i=-1*o,r=oo(e,on.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+Fn(s,2,r)+Fn(Math.abs(i%60),2,r);case 1:return"GMT"+(i>=0?"+":"")+Fn(s,1,r);case 2:return"GMT"+(i>=0?"+":"")+Fn(s,2,r)+":"+Fn(Math.abs(i%60),2,r);case 3:return o===0?"Z":(i>=0?"+":"")+Fn(s,2,r)+":"+Fn(Math.abs(i%60),2,r);default:throw new U(2302,!1)}}}var lS=0,sd=4;function dS(n){let t=cd(n,lS,1).getDay();return cd(n,0,1+(t<=sd?sd:sd+7)-t)}function V1(n){let t=n.getDay(),e=t===0?-3:sd-t;return cd(n.getFullYear(),n.getMonth(),n.getDate()+e)}function Uf(n,t=!1){return function(e,o){let i;if(t){let r=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();i=1+Math.floor((s+r)/7)}else{let r=V1(e),s=dS(r.getFullYear()),u=r.getTime()-s.getTime();i=1+Math.round(u/6048e5)}return Fn(i,n,oo(o,on.MinusSign))}}function ad(n,t=!1){return function(e,o){let r=V1(e).getFullYear();return Fn(r,n,oo(o,on.MinusSign),t)}}var Hf={};function uS(n){if(Hf[n])return Hf[n];let t;switch(n){case"G":case"GG":case"GGG":t=qe(3,Ue.Abbreviated);break;case"GGGG":t=qe(3,Ue.Wide);break;case"GGGGG":t=qe(3,Ue.Narrow);break;case"y":t=pt(0,1,0,!1,!0);break;case"yy":t=pt(0,2,0,!0,!0);break;case"yyy":t=pt(0,3,0,!1,!0);break;case"yyyy":t=pt(0,4,0,!1,!0);break;case"Y":t=ad(1);break;case"YY":t=ad(2,!0);break;case"YYY":t=ad(3);break;case"YYYY":t=ad(4);break;case"M":case"L":t=pt(1,1,1);break;case"MM":case"LL":t=pt(1,2,1);break;case"MMM":t=qe(2,Ue.Abbreviated);break;case"MMMM":t=qe(2,Ue.Wide);break;case"MMMMM":t=qe(2,Ue.Narrow);break;case"LLL":t=qe(2,Ue.Abbreviated,zt.Standalone);break;case"LLLL":t=qe(2,Ue.Wide,zt.Standalone);break;case"LLLLL":t=qe(2,Ue.Narrow,zt.Standalone);break;case"w":t=Uf(1);break;case"ww":t=Uf(2);break;case"W":t=Uf(1,!0);break;case"d":t=pt(2,1);break;case"dd":t=pt(2,2);break;case"c":case"cc":t=pt(7,1);break;case"ccc":t=qe(1,Ue.Abbreviated,zt.Standalone);break;case"cccc":t=qe(1,Ue.Wide,zt.Standalone);break;case"ccccc":t=qe(1,Ue.Narrow,zt.Standalone);break;case"cccccc":t=qe(1,Ue.Short,zt.Standalone);break;case"E":case"EE":case"EEE":t=qe(1,Ue.Abbreviated);break;case"EEEE":t=qe(1,Ue.Wide);break;case"EEEEE":t=qe(1,Ue.Narrow);break;case"EEEEEE":t=qe(1,Ue.Short);break;case"a":case"aa":case"aaa":t=qe(0,Ue.Abbreviated);break;case"aaaa":t=qe(0,Ue.Wide);break;case"aaaaa":t=qe(0,Ue.Narrow);break;case"b":case"bb":case"bbb":t=qe(0,Ue.Abbreviated,zt.Standalone,!0);break;case"bbbb":t=qe(0,Ue.Wide,zt.Standalone,!0);break;case"bbbbb":t=qe(0,Ue.Narrow,zt.Standalone,!0);break;case"B":case"BB":case"BBB":t=qe(0,Ue.Abbreviated,zt.Format,!0);break;case"BBBB":t=qe(0,Ue.Wide,zt.Format,!0);break;case"BBBBB":t=qe(0,Ue.Narrow,zt.Format,!0);break;case"h":t=pt(3,1,-12);break;case"hh":t=pt(3,2,-12);break;case"H":t=pt(3,1);break;case"HH":t=pt(3,2);break;case"m":t=pt(4,1);break;case"mm":t=pt(4,2);break;case"s":t=pt(5,1);break;case"ss":t=pt(5,2);break;case"S":t=pt(6,1);break;case"SS":t=pt(6,2);break;case"SSS":t=pt(6,3);break;case"Z":case"ZZ":case"ZZZ":t=rd(0);break;case"ZZZZZ":t=rd(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=rd(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=rd(2);break;default:return null}return Hf[n]=t,t}function j1(n,t){n=n.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function pS(n,t){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+t),n}function mS(n,t,e){let i=n.getTimezoneOffset(),r=j1(t,i);return pS(n,-1*(r-i))}function gS(n){if(x1(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,r=1,s=1]=n.split("-").map(u=>+u);return cd(i,r-1,s)}let e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let o;if(o=n.match(iS))return fS(o)}let t=new Date(n);if(!x1(t))throw new U(2302,!1);return t}function fS(n){let t=new Date(0),e=0,o=0,i=n[8]?t.setUTCFullYear:t.setFullYear,r=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),o=Number(n[9]+n[11])),i.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-e,u=Number(n[5]||0)-o,p=Number(n[6]||0),C=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return r.call(t,s,u,p,C),t}function x1(n){return n instanceof Date&&!isNaN(n.valueOf())}var hS=/^(\d+)?\.((\d+)(-(\d+))?)?$/,P1=22,ld=".",fs="0",_S=";",CS=",",$f="#";function vS(n,t,e,o,i,r,s=!1){let u="",p=!1;if(!isFinite(n))u=oo(e,on.Infinity);else{let C=MS(n);s&&(C=bS(C));let y=t.minInt,x=t.minFrac,O=t.maxFrac;if(r){let it=r.match(hS);if(it===null)throw new U(2306,!1);let Jt=it[1],lt=it[3],Vn=it[5];Jt!=null&&(y=Wf(Jt)),lt!=null&&(x=Wf(lt)),Vn!=null?O=Wf(Vn):lt!=null&&x>O&&(O=x)}xS(C,x,O);let P=C.digits,F=C.integerLen,Z=C.exponent,Q=[];for(p=P.every(it=>!it);F<y;F++)P.unshift(0);for(;F<0;F++)P.unshift(0);F>0?Q=P.splice(F,P.length):(Q=P,P=[0]);let X=[];for(P.length>=t.lgSize&&X.unshift(P.splice(-t.lgSize,P.length).join(""));P.length>t.gSize;)X.unshift(P.splice(-t.gSize,P.length).join(""));P.length&&X.unshift(P.join("")),u=X.join(oo(e,o)),Q.length&&(u+=oo(e,i)+Q.join("")),Z&&(u+=oo(e,on.Exponential)+"+"+Z)}return n<0&&!p?u=t.negPre+u+t.negSuf:u=t.posPre+u+t.posSuf,u}function z1(n,t,e){let o=A1(t,Kf.Decimal),i=yS(o,oo(t,on.MinusSign));return vS(n,i,t,on.Group,on.Decimal,e)}function yS(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=n.split(_S),i=o[0],r=o[1],s=i.indexOf(ld)!==-1?i.split(ld):[i.substring(0,i.lastIndexOf(fs)+1),i.substring(i.lastIndexOf(fs)+1)],u=s[0],p=s[1]||"";e.posPre=u.substring(0,u.indexOf($f));for(let y=0;y<p.length;y++){let x=p.charAt(y);x===fs?e.minFrac=e.maxFrac=y+1:x===$f?e.maxFrac=y+1:e.posSuf+=x}let C=u.split(CS);if(e.gSize=C[1]?C[1].length:0,e.lgSize=C[2]||C[1]?(C[2]||C[1]).length:0,r){let y=i.length-e.posPre.length-e.posSuf.length,x=r.indexOf($f);e.negPre=r.substring(0,x).replace(/'/g,""),e.negSuf=r.slice(x+y).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function bS(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function MS(n){let t=Math.abs(n)+"",e=0,o,i,r,s,u;for((i=t.indexOf(ld))>-1&&(t=t.replace(ld,"")),(r=t.search(/e/i))>0?(i<0&&(i=r),i+=+t.slice(r+1),t=t.substring(0,r)):i<0&&(i=t.length),r=0;t.charAt(r)===fs;r++);if(r===(u=t.length))o=[0],i=1;else{for(u--;t.charAt(u)===fs;)u--;for(i-=r,o=[],s=0;r<=u;r++,s++)o[s]=Number(t.charAt(r))}return i>P1&&(o=o.splice(0,P1-1),e=i-1,i=1),{digits:o,exponent:e,integerLen:i}}function xS(n,t,e){if(t>e)throw new U(2307,!1);let o=n.digits,i=o.length-n.integerLen,r=Math.min(Math.max(t,i),e),s=r+n.integerLen,u=o[s];if(s>0){o.splice(Math.max(n.integerLen,s));for(let x=s;x<o.length;x++)o[x]=0}else{i=Math.max(0,i),n.integerLen=1,o.length=Math.max(1,s=r+1),o[0]=0;for(let x=1;x<s;x++)o[x]=0}if(u>=5)if(s-1<0){for(let x=0;x>s;x--)o.unshift(0),n.integerLen++;o.unshift(1),n.integerLen++}else o[s-1]++;for(;i<Math.max(0,r);i++)o.push(0);let p=r!==0,C=t+n.integerLen,y=o.reduceRight(function(x,O,P,F){return O=O+x,F[P]=O<10?O:O-10,p&&(F[P]===0&&P>=C?F.pop():p=!1),O>=10?1:0},0);y&&(o.unshift(y),n.integerLen++)}function Wf(n){let t=parseInt(n);if(isNaN(t))throw new U(2305,!1);return t}var qf=/\s+/,O1=[],Yt=(()=>{class n{_ngEl;_renderer;initialClasses=O1;rawClass;stateMap=new Map;constructor(e,o){this._ngEl=e,this._renderer=o}set klass(e){this.initialClasses=e!=null?e.trim().split(qf):O1}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(qf):e}ngDoCheck(){for(let o of this.initialClasses)this._updateState(o,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let o of e)this._updateState(o,!0);else if(e!=null)for(let o of Object.keys(e))this._updateState(o,!!e[o]);this._applyStateDiff()}_updateState(e,o){let i=this.stateMap.get(e);i!==void 0?(i.enabled!==o&&(i.changed=!0,i.enabled=o),i.touched=!0):this.stateMap.set(e,{enabled:o,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let o=e[0],i=e[1];i.changed?(this._toggleClass(o,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(o,!1),this.stateMap.delete(o)),i.touched=!1}}_toggleClass(e,o){e=e.trim(),e.length>0&&e.split(qf).forEach(i=>{o?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(o){return new(o||n)(D(Lt),D(yn))};static \u0275dir=Ee({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var dd=class{$implicit;ngForOf;index;count;constructor(t,e,o,i){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ee=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,o,i){this._viewContainer=e,this._template=o,this._differs=i}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let o=this._viewContainer;e.forEachOperation((i,r,s)=>{if(i.previousIndex==null)o.createEmbeddedView(this._template,new dd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)o.remove(r===null?void 0:r);else if(r!==null){let u=o.get(r);o.move(u,s),w1(u,i)}});for(let i=0,r=o.length;i<r;i++){let u=o.get(i).context;u.index=i,u.count=r,u.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{let r=o.get(i.currentIndex);w1(r,i)})}static ngTemplateContextGuard(e,o){return!0}static \u0275fac=function(o){return new(o||n)(D(bn),D(eo),D(Vf))};static \u0275dir=Ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function w1(n,t){n.context.$implicit=t.item}var G=(()=>{class n{_viewContainer;_context=new ud;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,o){this._viewContainer=e,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){S1(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){S1(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,o){return!0}static \u0275fac=function(o){return new(o||n)(D(bn),D(eo))};static \u0275dir=Ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),ud=class{$implicit=null;ngIf=null};function S1(n,t){if(n&&!n.createEmbeddedView)throw new U(2020,!1)}var pd=class{_viewContainerRef;_templateRef;_created=!1;constructor(t,e){this._viewContainerRef=t,this._templateRef=e}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}},ji=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let o=e===this._ngSwitch;return this._lastCasesMatched||=o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let o of this._defaultViews)o.enforceState(e)}}static \u0275fac=function(o){return new(o||n)};static \u0275dir=Ee({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),hs=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(e,o,i){this.ngSwitch=i,i._addCase(),this._view=new pd(e,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(o){return new(o||n)(D(bn),D(eo),D(ji,9))};static \u0275dir=Ee({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})(),_s=(()=>{class n{constructor(e,o,i){i._addDefault(new pd(e,o))}static \u0275fac=function(o){return new(o||n)(D(bn),D(eo),D(ji,9))};static \u0275dir=Ee({type:n,selectors:[["","ngSwitchDefault",""]]})}return n})();var Cs=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let o=this._viewContainerRef;if(this._viewRef&&o.remove(o.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=o.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,o,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,o,i):!1,get:(e,o,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,o,i)}})}static \u0275fac=function(o){return new(o||n)(D(bn))};static \u0275dir=Ee({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[It]})}return n})();function md(n,t){return new U(2100,!1)}var Gf=class{createSubscription(t,e,o){return at(()=>t.subscribe({next:e,error:o}))}dispose(t){at(()=>t.unsubscribe())}},Yf=class{createSubscription(t,e,o){return t.then(i=>e?.(i),i=>o?.(i)),{unsubscribe:()=>{e=null,o=null}}}dispose(t){t.unsubscribe()}},PS=new Yf,OS=new Gf,Qf=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=A(Wt);constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,o=>this._updateLatestValue(e,o),o=>this.applicationErrorHandler(o))}_selectStrategy(e){if(xo(e))return PS;if(Gl(e))return OS;throw md(n,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,o){e===this._obj&&(this._latestValue=o,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(o){return new(o||n)(D(no,16))};static \u0275pipe=Ti({name:"async",type:n,pure:!1})}return n})();var wS=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,zi=(()=>{class n{transform(e){if(e==null)return null;if(typeof e!="string")throw md(n,e);return e.replace(wS,o=>o[0].toUpperCase()+o.slice(1).toLowerCase())}static \u0275fac=function(o){return new(o||n)};static \u0275pipe=Ti({name:"titlecase",type:n,pure:!0})}return n})();var SS="mediumDate",B1=new K(""),U1=new K(""),un=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(e,o,i){this.locale=e,this.defaultTimezone=o,this.defaultOptions=i}transform(e,o,i,r){if(e==null||e===""||e!==e)return null;try{let s=o??this.defaultOptions?.dateFormat??SS,u=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return L1(e,s,r||this.locale,u)}catch(s){throw md(n,s.message)}}static \u0275fac=function(o){return new(o||n)(D(Hr,16),D(B1,24),D(U1,24))};static \u0275pipe=Ti({name:"date",type:n,pure:!0})}return n})();var Jf=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}static \u0275fac=function(o){return new(o||n)};static \u0275pipe=Ti({name:"json",type:n,pure:!1})}return n})();var Bi=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,o,i){if(!ES(e))return null;i||=this._locale;try{let r=IS(e);return z1(r,i,o)}catch(r){throw md(n,r.message)}}static \u0275fac=function(o){return new(o||n)(D(Hr,16))};static \u0275pipe=Ti({name:"number",type:n,pure:!0})}return n})();function ES(n){return!(n==null||n===""||n!==n)}function IS(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new U(2309,!1);return n}var R=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=qt({type:n});static \u0275inj=Nt({})}return n})();function vs(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let o=e.indexOf("="),[i,r]=o==-1?[e,""]:[e.slice(0,o),e.slice(o+1)];if(i.trim()===t)return decodeURIComponent(r)}return null}var Ui=class{};var eh="browser";function H1(n){return n===eh}var $1=(()=>{class n{static \u0275prov=L({token:n,providedIn:"root",factory:()=>new Xf(A(tt),window)})}return n})(),Xf=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t,e){this.window.scrollTo($(w({},e),{left:t[0],top:t[1]}))}scrollToAnchor(t,e){let o=kS(this.document,t);o&&(this.scrollToElement(o,e),o.focus())}setHistoryScrollRestoration(t){try{this.window.history.scrollRestoration=t}catch{console.warn(Wn(2400,!1))}}scrollToElement(t,e){let o=t.getBoundingClientRect(),i=o.left+this.window.pageXOffset,r=o.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo($(w({},e),{left:i-s[0],top:r-s[1]}))}};function kS(n,t){let e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let o=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=o.currentNode;for(;i;){let r=i.shadowRoot;if(r){let s=r.getElementById(t)||r.querySelector(`[name="${t}"]`);if(s)return s}i=o.nextNode()}}return null}var fd=new K(""),rh=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,o){this._zone=o,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,o,i,r){return this._findPluginFor(o).addEventListener(e,o,i,r)}getZone(){return this._zone}_findPluginFor(e){let o=this._eventNameToPlugin.get(e);if(o)return o;if(o=this._plugins.find(r=>r.supports(e)),!o)throw new U(5101,!1);return this._eventNameToPlugin.set(e,o),o}static \u0275fac=function(o){return new(o||n)(j(fd),j(We))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),ys=class{_doc;constructor(t){this._doc=t}manager},th="ng-app-id";function W1(n){for(let t of n)t.remove()}function q1(n,t){let e=t.createElement("style");return e.textContent=n,e}function TS(n,t,e,o){let i=n.head?.querySelectorAll(`style[${th}="${t}"],link[${th}="${t}"]`);if(i)for(let r of i)r.removeAttribute(th),r instanceof HTMLLinkElement?o.set(r.href.slice(r.href.lastIndexOf("/")+1),{usage:0,elements:[r]}):r.textContent&&e.set(r.textContent,{usage:0,elements:[r]})}function oh(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var ah=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,o,i,r={}){this.doc=e,this.appId=o,this.nonce=i,TS(e,o,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,o){for(let i of e)this.addUsage(i,this.inline,q1);o?.forEach(i=>this.addUsage(i,this.external,oh))}removeStyles(e,o){for(let i of e)this.removeUsage(i,this.inline);o?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,o,i){let r=o.get(e);r?r.usage++:o.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(e,this.doc)))})}removeUsage(e,o){let i=o.get(e);i&&(i.usage--,i.usage<=0&&(W1(i.elements),o.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])W1(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[o,{elements:i}]of this.inline)i.push(this.addElement(e,q1(o,this.doc)));for(let[o,{elements:i}]of this.external)i.push(this.addElement(e,oh(o,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,o){return this.nonce&&o.setAttribute("nonce",this.nonce),e.appendChild(o)}static \u0275fac=function(o){return new(o||n)(j(tt),j(Nl),j(Fl,8),j(Wo))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),nh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},sh=/%COMP%/g;var Y1="%COMP%",AS=`_nghost-${Y1}`,NS=`_ngcontent-${Y1}`,RS=!0,FS=new K("",{providedIn:"root",factory:()=>RS});function LS(n){return NS.replace(sh,n)}function VS(n){return AS.replace(sh,n)}function Z1(n,t){return t.map(e=>e.replace(sh,n))}var ch=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;animationDisabled;maxAnimationTimeout;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;registry;constructor(e,o,i,r,s,u,p,C=null,y,x,O=null){this.eventManager=e,this.sharedStylesHost=o,this.appId=i,this.removeStylesOnCompDestroy=r,this.doc=s,this.platformId=u,this.ngZone=p,this.nonce=C,this.animationDisabled=y,this.maxAnimationTimeout=x,this.tracingService=O,this.platformIsServer=!1,this.defaultRenderer=new bs(e,s,p,this.platformIsServer,this.tracingService,this.registry=rl(),this.maxAnimationTimeout)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;let i=this.getOrCreateRenderer(e,o);return i instanceof gd?i.applyToHost(e):i instanceof Ms&&i.applyStyles(),i}getOrCreateRenderer(e,o){let i=this.rendererByCompId,r=i.get(o.id);if(!r){let s=this.doc,u=this.ngZone,p=this.eventManager,C=this.sharedStylesHost,y=this.removeStylesOnCompDestroy,x=this.platformIsServer,O=this.tracingService;switch(o.encapsulation){case bo.Emulated:r=new gd(p,C,o,this.appId,y,s,u,x,O,this.registry,this.animationDisabled,this.maxAnimationTimeout);break;case bo.ShadowDom:return new ih(p,C,e,o,s,u,this.nonce,x,O,this.registry,this.maxAnimationTimeout);default:r=new Ms(p,C,o,y,s,u,x,O,this.registry,this.animationDisabled,this.maxAnimationTimeout);break}i.set(o.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(o){return new(o||n)(j(rh),j(ah),j(Nl),j(FS),j(tt),j(Wo),j(We),j(Fl),j(xf),j(Pf),j(Ai,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),bs=class{eventManager;doc;ngZone;platformIsServer;tracingService;registry;maxAnimationTimeout;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,o,i,r,s,u){this.eventManager=t,this.doc=e,this.ngZone=o,this.platformIsServer=i,this.tracingService=r,this.registry=s,this.maxAnimationTimeout=u}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(nh[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(G1(t)?t.content:t).appendChild(e)}insertBefore(t,e,o){t&&(G1(t)?t.content:t).insertBefore(e,o)}removeChild(t,e){let{elements:o}=this.registry;if(o){o.animate(e,()=>e.remove(),this.maxAnimationTimeout);return}e.remove()}selectRootElement(t,e){let o=typeof t=="string"?this.doc.querySelector(t):t;if(!o)throw new U(-5104,!1);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,i){if(i){e=i+":"+e;let r=nh[i];r?t.setAttributeNS(r,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){let i=nh[o];i?t.removeAttributeNS(i,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,i){i&(Xn.DashCase|Xn.Important)?t.style.setProperty(e,o,i&Xn.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&Xn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t!=null&&(t[e]=o)}setValue(t,e){t.nodeValue=e}listen(t,e,o,i){if(typeof t=="string"&&(t=Mn().getGlobalEventTarget(this.doc,t),!t))throw new U(5102,!1);let r=this.decoratePreventDefault(o);return this.tracingService?.wrapEventListener&&(r=this.tracingService.wrapEventListener(t,e,r)),this.eventManager.addEventListener(t,e,r,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function G1(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ih=class extends bs{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,o,i,r,s,u,p,C,y,x){super(t,r,s,p,C,y,x),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let O=i.styles;O=Z1(i.id,O);for(let F of O){let Z=document.createElement("style");u&&Z.setAttribute("nonce",u),Z.textContent=F,this.shadowRoot.appendChild(Z)}let P=i.getExternalStyles?.();if(P)for(let F of P){let Z=oh(F,r);u&&Z.setAttribute("nonce",u),this.shadowRoot.appendChild(Z)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ms=class extends bs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;_animationDisabled;constructor(t,e,o,i,r,s,u,p,C,y,x,O){super(t,r,s,u,p,C,x),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this._animationDisabled=y;let P=o.styles;this.styles=O?Z1(O,P):P,this.styleUrls=o.getExternalStyles?.(O)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){if(this.removeStylesOnCompDestroy){if(!this._animationDisabled&&this.registry.elements){this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)},this.maxAnimationTimeout)});return}this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}}},gd=class extends Ms{contentAttr;hostAttr;constructor(t,e,o,i,r,s,u,p,C,y,x,O){let P=i+"-"+o.id;super(t,e,o,r,s,u,p,C,y,x,O,P),this.contentAttr=LS(P),this.hostAttr=VS(P)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}};var hd=class n extends ds{supportsDOMEvents=!0;static makeCurrent(){jf(new n)}onAndCancel(t,e,o,i){return t.addEventListener(e,o,i),()=>{t.removeEventListener(e,o,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=jS();return e==null?null:zS(e)}resetBaseElement(){xs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return vs(document.cookie,t)}},xs=null;function jS(){return xs=xs||document.head.querySelector("base"),xs?xs.getAttribute("href"):null}function zS(n){return new URL(n,document.baseURI).pathname}var BS=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),Q1=(()=>{class n extends ys{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,i,r){return e.addEventListener(o,i,r),()=>this.removeEventListener(e,o,i,r)}removeEventListener(e,o,i,r){return e.removeEventListener(o,i,r)}static \u0275fac=function(o){return new(o||n)(j(tt))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),K1=["alt","control","meta","shift"],US={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},HS={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},J1=(()=>{class n extends ys{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,o,i,r){let s=n.parseEventName(o),u=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mn().onAndCancel(e,s.domEventName,u,r))}static parseEventName(e){let o=e.toLowerCase().split("."),i=o.shift();if(o.length===0||!(i==="keydown"||i==="keyup"))return null;let r=n._normalizeKey(o.pop()),s="",u=o.indexOf("code");if(u>-1&&(o.splice(u,1),s="code."),K1.forEach(C=>{let y=o.indexOf(C);y>-1&&(o.splice(y,1),s+=C+".")}),s+=r,o.length!=0||r.length===0)return null;let p={};return p.domEventName=i,p.fullKey=s,p}static matchEventFullKeyCode(e,o){let i=US[e.key]||e.key,r="";return o.indexOf("code.")>-1&&(i=e.code,r="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),K1.forEach(s=>{if(s!==i){let u=HS[s];u(e)&&(r+=s+".")}}),r+=i,r===o)}static eventCallback(e,o,i){return r=>{n.matchEventFullKeyCode(r,e)&&i.runGuarded(()=>o(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(o){return new(o||n)(j(tt))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function lh(n,t,e){let o=w({rootComponent:n,platformRef:e?.platformRef},$S(t));return _1(o)}function $S(n){return{appProviders:[...ZS,...n?.providers??[]],platformProviders:YS}}function WS(){hd.makeCurrent()}function qS(){return new cn}function GS(){return Lg(document),document}var YS=[{provide:Wo,useValue:eh},{provide:Rl,useValue:WS,multi:!0},{provide:tt,useFactory:GS}];var ZS=[{provide:Ra,useValue:"root"},{provide:cn,useFactory:qS},{provide:fd,useClass:Q1,multi:!0,deps:[tt]},{provide:fd,useClass:J1,multi:!0,deps:[tt]},ch,ah,rh,{provide:wi,useExisting:ch},{provide:Ui,useClass:BS},[]];var qr=class{},Ps=class{},io=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let o=e.indexOf(":");if(o>0){let i=e.slice(0,o),r=e.slice(o+1).trim();this.addHeaderEntry(i,r)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,o)=>{this.addHeaderEntry(o,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,o])=>{this.setHeaderEntries(e,o)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new n;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let o=t.value;if(typeof o=="string"&&(o=[o]),o.length===0)return;this.maybeSetNormalizedName(t.name,e);let i=(t.op==="a"?this.headers.get(e):void 0)||[];i.push(...o),this.headers.set(e,i);break;case"d":let r=t.value;if(!r)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(u=>r.indexOf(u)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(t,e){let o=t.toLowerCase();this.maybeSetNormalizedName(t,o),this.headers.has(o)?this.headers.get(o).push(e):this.headers.set(o,[e])}setHeaderEntries(t,e){let o=(Array.isArray(e)?e:[e]).map(r=>r.toString()),i=t.toLowerCase();this.headers.set(i,o),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Cd=class{encodeKey(t){return X1(t)}encodeValue(t){return X1(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function KS(n,t){let e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let r=i.indexOf("="),[s,u]=r==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,r)),t.decodeValue(i.slice(r+1))],p=e.get(s)||[];p.push(u),e.set(s,p)}),e}var QS=/%(\d[a-f0-9])/gi,JS={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function X1(n){return encodeURIComponent(n).replace(QS,(t,e)=>JS[e]??t)}function _d(n){return`${n}`}var wo=class n{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Cd,t.fromString){if(t.fromObject)throw new U(2805,!1);this.map=KS(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let o=t.fromObject[e],i=Array.isArray(o)?o.map(_d):[_d(o)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(o=>{let i=t[o];Array.isArray(i)?i.forEach(r=>{e.push({param:o,value:r,op:"a"})}):e.push({param:o,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new n({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(_d(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let o=this.map.get(t.param)||[],i=o.indexOf(_d(t.value));i!==-1&&o.splice(i,1),o.length>0?this.map.set(t.param,o):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var vd=class{map=new Map;set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function XS(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ey(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ty(n){return typeof Blob<"u"&&n instanceof Blob}function ny(n){return typeof FormData<"u"&&n instanceof FormData}function eE(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var oy="Content-Type",iy="Accept",ay="X-Request-URL",sy="text/plain",cy="application/json",tE=`${cy}, ${sy}, */*`,$r=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,e,o,i){this.url=e,this.method=t.toUpperCase();let r;if(XS(this.method)||i?(this.body=o!==void 0?o:null,r=i):r=o,r){if(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,this.keepalive=!!r.keepalive,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),r.priority&&(this.priority=r.priority),r.cache&&(this.cache=r.cache),r.credentials&&(this.credentials=r.credentials),typeof r.timeout=="number"){if(r.timeout<1||!Number.isInteger(r.timeout))throw new U(2822,"");this.timeout=r.timeout}r.mode&&(this.mode=r.mode),r.redirect&&(this.redirect=r.redirect),r.integrity&&(this.integrity=r.integrity),r.referrer&&(this.referrer=r.referrer),this.transferCache=r.transferCache}if(this.headers??=new io,this.context??=new vd,!this.params)this.params=new wo,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let u=e.indexOf("?"),p=u===-1?"?":u<e.length-1?"&":"";this.urlWithParams=e+p+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ey(this.body)||ty(this.body)||ny(this.body)||eE(this.body)?this.body:this.body instanceof wo?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ny(this.body)?null:ty(this.body)?this.body.type||null:ey(this.body)?null:typeof this.body=="string"?sy:this.body instanceof wo?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?cy:null}clone(t={}){let e=t.method||this.method,o=t.url||this.url,i=t.responseType||this.responseType,r=t.keepalive??this.keepalive,s=t.priority||this.priority,u=t.cache||this.cache,p=t.mode||this.mode,C=t.redirect||this.redirect,y=t.credentials||this.credentials,x=t.referrer||this.referrer,O=t.integrity||this.integrity,P=t.transferCache??this.transferCache,F=t.timeout??this.timeout,Z=t.body!==void 0?t.body:this.body,Q=t.withCredentials??this.withCredentials,X=t.reportProgress??this.reportProgress,it=t.headers||this.headers,Jt=t.params||this.params,lt=t.context??this.context;return t.setHeaders!==void 0&&(it=Object.keys(t.setHeaders).reduce((Vn,oi)=>Vn.set(oi,t.setHeaders[oi]),it)),t.setParams&&(Jt=Object.keys(t.setParams).reduce((Vn,oi)=>Vn.set(oi,t.setParams[oi]),Jt)),new n(e,o,Z,{params:Jt,headers:it,context:lt,reportProgress:X,responseType:i,withCredentials:Q,transferCache:P,keepalive:r,cache:u,priority:s,timeout:F,mode:p,redirect:C,credentials:y,referrer:x,integrity:O})}},Hi=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Hi||{}),Gr=class{headers;status;statusText;url;ok;type;redirected;constructor(t,e=200,o="OK"){this.headers=t.headers||new io,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||o,this.url=t.url||null,this.redirected=t.redirected,this.ok=this.status>=200&&this.status<300}},yd=class n extends Gr{constructor(t={}){super(t)}type=Hi.ResponseHeader;clone(t={}){return new n({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Os=class n extends Gr{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Hi.Response;clone(t={}){return new n({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected})}},Wr=class extends Gr{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},nE=200,oE=204;function dh(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var ot=(()=>{class n{handler;constructor(e){this.handler=e}request(e,o,i={}){let r;if(e instanceof $r)r=e;else{let p;i.headers instanceof io?p=i.headers:p=new io(i.headers);let C;i.params&&(i.params instanceof wo?C=i.params:C=new wo({fromObject:i.params})),r=new $r(e,o,i.body!==void 0?i.body:null,{headers:p,context:i.context,params:C,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=Y(r).pipe(Hn(p=>this.handler.handle(p)));if(e instanceof $r||i.observe==="events")return s;let u=s.pipe(vt(p=>p instanceof Os));switch(i.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return u.pipe(J(p=>{if(p.body!==null&&!(p.body instanceof ArrayBuffer))throw new U(2806,!1);return p.body}));case"blob":return u.pipe(J(p=>{if(p.body!==null&&!(p.body instanceof Blob))throw new U(2807,!1);return p.body}));case"text":return u.pipe(J(p=>{if(p.body!==null&&typeof p.body!="string")throw new U(2808,!1);return p.body}));case"json":default:return u.pipe(J(p=>p.body))}case"response":return u;default:throw new U(2809,!1)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:new wo().append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,i={}){return this.request("PATCH",e,dh(i,o))}post(e,o,i={}){return this.request("POST",e,dh(i,o))}put(e,o,i={}){return this.request("PUT",e,dh(i,o))}static \u0275fac=function(o){return new(o||n)(j(qr))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();var iE=new K("");function ly(n,t){return t(n)}function rE(n,t){return(e,o)=>t.intercept(e,{handle:i=>n(i,o)})}function aE(n,t,e){return(o,i)=>Mt(e,()=>t(o,r=>n(r,i)))}var Md=new K(""),ph=new K(""),dy=new K(""),mh=new K("",{providedIn:"root",factory:()=>!0});function sE(){let n=null;return(t,e)=>{n===null&&(n=(A(Md,{optional:!0})??[]).reduceRight(rE,ly));let o=A(Ir);if(A(mh)){let r=o.add();return n(t,e).pipe(Ao(r))}else return n(t,e)}}var bd=(()=>{class n extends qr{backend;injector;chain=null;pendingTasks=A(Ir);contributeToStability=A(mh);constructor(e,o){super(),this.backend=e,this.injector=o}handle(e){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(ph),...this.injector.get(dy,[])]));this.chain=o.reduceRight((i,r)=>aE(i,r,this.injector),ly)}if(this.contributeToStability){let o=this.pendingTasks.add();return this.chain(e,i=>this.backend.handle(i)).pipe(Ao(o))}else return this.chain(e,o=>this.backend.handle(o))}static \u0275fac=function(o){return new(o||n)(j(Ps),j(rt))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();var cE=/^\)\]\}',?\n/,lE=RegExp(`^${ay}:`,"m");function dE(n){return"responseURL"in n&&n.responseURL?n.responseURL:lE.test(n.getAllResponseHeaders())?n.getResponseHeader(ay):null}var uh=(()=>{class n{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new U(-2800,!1);let o=this.xhrFactory;return Y(null).pipe(mt(()=>new ye(r=>{let s=o.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((Q,X)=>s.setRequestHeader(Q,X.join(","))),e.headers.has(iy)||s.setRequestHeader(iy,tE),!e.headers.has(oy)){let Q=e.detectContentTypeHeader();Q!==null&&s.setRequestHeader(oy,Q)}if(e.timeout&&(s.timeout=e.timeout),e.responseType){let Q=e.responseType.toLowerCase();s.responseType=Q!=="json"?Q:"text"}let u=e.serializeBody(),p=null,C=()=>{if(p!==null)return p;let Q=s.statusText||"OK",X=new io(s.getAllResponseHeaders()),it=dE(s)||e.url;return p=new yd({headers:X,status:s.status,statusText:Q,url:it}),p},y=()=>{let{headers:Q,status:X,statusText:it,url:Jt}=C(),lt=null;X!==oE&&(lt=typeof s.response>"u"?s.responseText:s.response),X===0&&(X=lt?nE:0);let Vn=X>=200&&X<300;if(e.responseType==="json"&&typeof lt=="string"){let oi=lt;lt=lt.replace(cE,"");try{lt=lt!==""?JSON.parse(lt):null}catch(iM){lt=oi,Vn&&(Vn=!1,lt={error:iM,text:lt})}}Vn?(r.next(new Os({body:lt,headers:Q,status:X,statusText:it,url:Jt||void 0})),r.complete()):r.error(new Wr({error:lt,headers:Q,status:X,statusText:it,url:Jt||void 0}))},x=Q=>{let{url:X}=C(),it=new Wr({error:Q,status:s.status||0,statusText:s.statusText||"Unknown Error",url:X||void 0});r.error(it)},O=x;e.timeout&&(O=Q=>{let{url:X}=C(),it=new Wr({error:new DOMException("Request timed out","TimeoutError"),status:s.status||0,statusText:s.statusText||"Request timeout",url:X||void 0});r.error(it)});let P=!1,F=Q=>{P||(r.next(C()),P=!0);let X={type:Hi.DownloadProgress,loaded:Q.loaded};Q.lengthComputable&&(X.total=Q.total),e.responseType==="text"&&s.responseText&&(X.partialText=s.responseText),r.next(X)},Z=Q=>{let X={type:Hi.UploadProgress,loaded:Q.loaded};Q.lengthComputable&&(X.total=Q.total),r.next(X)};return s.addEventListener("load",y),s.addEventListener("error",x),s.addEventListener("timeout",O),s.addEventListener("abort",x),e.reportProgress&&(s.addEventListener("progress",F),u!==null&&s.upload&&s.upload.addEventListener("progress",Z)),s.send(u),r.next({type:Hi.Sent}),()=>{s.removeEventListener("error",x),s.removeEventListener("abort",x),s.removeEventListener("load",y),s.removeEventListener("timeout",O),e.reportProgress&&(s.removeEventListener("progress",F),u!==null&&s.upload&&s.upload.removeEventListener("progress",Z)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(o){return new(o||n)(j(Ui))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),uy=new K(""),uE="XSRF-TOKEN",pE=new K("",{providedIn:"root",factory:()=>uE}),mE="X-XSRF-TOKEN",gE=new K("",{providedIn:"root",factory:()=>mE}),ws=class{},fE=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,o){this.doc=e,this.cookieName=o}getToken(){let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=vs(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(o){return new(o||n)(j(tt),j(pE))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function hE(n,t){let e=n.url.toLowerCase();if(!A(uy)||n.method==="GET"||n.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return t(n);let o=A(ws).getToken(),i=A(gE);return o!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,o)})),t(n)}var gh=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(gh||{});function _E(n,t){return{\u0275kind:n,\u0275providers:t}}function xd(...n){let t=[ot,uh,bd,{provide:qr,useExisting:bd},{provide:Ps,useFactory:()=>A(iE,{optional:!0})??A(uh)},{provide:ph,useValue:hE,multi:!0},{provide:uy,useValue:!0},{provide:ws,useClass:fE}];for(let e of n)t.push(...e.\u0275providers);return Vo(t)}var ry=new K("");function py(){return _E(gh.LegacyInterceptors,[{provide:ry,useFactory:sE},{provide:ph,useExisting:ry,multi:!0}])}var So=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=qt({type:n});static \u0275inj=Nt({providers:[xd(py())]})}return n})();var my=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(o){return new(o||n)(j(tt))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ce="primary",js=Symbol("RouteTitle"),vh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function qi(n){return new vh(n)}function by(n,t,e){let o=e.path.split("/");if(o.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||o.length<n.length))return null;let i={};for(let r=0;r<o.length;r++){let s=o[r],u=n[r];if(s[0]===":")i[s.substring(1)]=u;else if(s!==u.path)return null}return{consumed:n.slice(0,o.length),posParams:i}}function vE(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ao(n[e],t[e]))return!1;return!0}function ao(n,t){let e=n?yh(n):void 0,o=t?yh(t):void 0;if(!e||!o||e.length!=o.length)return!1;let i;for(let r=0;r<e.length;r++)if(i=e[r],!My(n[i],t[i]))return!1;return!0}function yh(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function My(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),o=[...t].sort();return e.every((i,r)=>o[r]===i)}else return n===t}function xy(n){return n.length>0?n[n.length-1]:null}function Eo(n){return Np(n)?n:xo(n)?je(Promise.resolve(n)):Y(n)}var yE={exact:Oy,subset:wy},Py={exact:bE,subset:ME,ignored:()=>!0};function gy(n,t,e){return yE[e.paths](n.root,t.root,e.matrixParams)&&Py[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function bE(n,t){return ao(n,t)}function Oy(n,t,e){if(!$i(n.segments,t.segments)||!wd(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let o in t.children)if(!n.children[o]||!Oy(n.children[o],t.children[o],e))return!1;return!0}function ME(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>My(n[e],t[e]))}function wy(n,t,e){return Sy(n,t,t.segments,e)}function Sy(n,t,e,o){if(n.segments.length>e.length){let i=n.segments.slice(0,e.length);return!(!$i(i,e)||t.hasChildren()||!wd(i,e,o))}else if(n.segments.length===e.length){if(!$i(n.segments,e)||!wd(n.segments,e,o))return!1;for(let i in t.children)if(!n.children[i]||!wy(n.children[i],t.children[i],o))return!1;return!0}else{let i=e.slice(0,n.segments.length),r=e.slice(n.segments.length);return!$i(n.segments,i)||!wd(n.segments,i,o)||!n.children[Ce]?!1:Sy(n.children[Ce],t,r,o)}}function wd(n,t,e){return t.every((o,i)=>Py[e](n[i].parameters,o.parameters))}var co=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Te([],{}),e={},o=null){this.root=t,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap??=qi(this.queryParams),this._queryParamMap}toString(){return OE.serialize(this)}},Te=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sd(this)}},Yo=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=qi(this.parameters),this._parameterMap}toString(){return Iy(this)}};function xE(n,t){return $i(n,t)&&n.every((e,o)=>ao(e.parameters,t[o].parameters))}function $i(n,t){return n.length!==t.length?!1:n.every((e,o)=>e.path===t[o].path)}function PE(n,t){let e=[];return Object.entries(n.children).forEach(([o,i])=>{o===Ce&&(e=e.concat(t(i,o)))}),Object.entries(n.children).forEach(([o,i])=>{o!==Ce&&(e=e.concat(t(i,o)))}),e}var Gi=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:()=>new Zo,providedIn:"root"})}return n})(),Zo=class{parse(t){let e=new Mh(t);return new co(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Ss(t.root,!0)}`,o=EE(t.queryParams),i=typeof t.fragment=="string"?`#${wE(t.fragment)}`:"";return`${e}${o}${i}`}},OE=new Zo;function Sd(n){return n.segments.map(t=>Iy(t)).join("/")}function Ss(n,t){if(!n.hasChildren())return Sd(n);if(t){let e=n.children[Ce]?Ss(n.children[Ce],!1):"",o=[];return Object.entries(n.children).forEach(([i,r])=>{i!==Ce&&o.push(`${i}:${Ss(r,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}else{let e=PE(n,(o,i)=>i===Ce?[Ss(n.children[Ce],!1)]:[`${i}:${Ss(o,!1)}`]);return Object.keys(n.children).length===1&&n.children[Ce]!=null?`${Sd(n)}/${e[0]}`:`${Sd(n)}/(${e.join("//")})`}}function Ey(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pd(n){return Ey(n).replace(/%3B/gi,";")}function wE(n){return encodeURI(n)}function bh(n){return Ey(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ed(n){return decodeURIComponent(n)}function fy(n){return Ed(n.replace(/\+/g,"%20"))}function Iy(n){return`${bh(n.path)}${SE(n.parameters)}`}function SE(n){return Object.entries(n).map(([t,e])=>`;${bh(t)}=${bh(e)}`).join("")}function EE(n){let t=Object.entries(n).map(([e,o])=>Array.isArray(o)?o.map(i=>`${Pd(e)}=${Pd(i)}`).join("&"):`${Pd(e)}=${Pd(o)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var IE=/^[^\/()?;#]+/;function fh(n){let t=n.match(IE);return t?t[0]:""}var DE=/^[^\/()?;=#]+/;function kE(n){let t=n.match(DE);return t?t[0]:""}var TE=/^[^=?&#]+/;function AE(n){let t=n.match(TE);return t?t[0]:""}var NE=/^[^&#]+/;function RE(n){let t=n.match(NE);return t?t[0]:""}var Mh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[Ce]=new Te(t,e)),o}parseSegment(){let t=fh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(t),new Yo(Ed(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=kE(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){let i=fh(this.remaining);i&&(o=i,this.capture(o))}t[Ed(e)]=Ed(o)}parseQueryParam(t){let e=AE(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){let s=RE(this.remaining);s&&(o=s,this.capture(o))}let i=fy(e),r=fy(o);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(r)}else t[i]=r}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let o=fh(this.remaining),i=this.remaining[o.length];if(i!=="/"&&i!==")"&&i!==";")throw new U(4010,!1);let r;o.indexOf(":")>-1?(r=o.slice(0,o.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Ce);let s=this.parseChildren();e[r]=Object.keys(s).length===1?s[Ce]:new Te([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new U(4011,!1)}};function Dy(n){return n.segments.length>0?new Te([],{[Ce]:n}):n}function ky(n){let t={};for(let[o,i]of Object.entries(n.children)){let r=ky(i);if(o===Ce&&r.segments.length===0&&r.hasChildren())for(let[s,u]of Object.entries(r.children))t[s]=u;else(r.segments.length>0||r.hasChildren())&&(t[o]=r)}let e=new Te(n.segments,t);return FE(e)}function FE(n){if(n.numberOfChildren===1&&n.children[Ce]){let t=n.children[Ce];return new Te(n.segments.concat(t.segments),t.children)}return n}function Ko(n){return n instanceof co}function Ty(n,t,e=null,o=null){let i=Ay(n);return Ny(i,t,e,o)}function Ay(n){let t;function e(r){let s={};for(let p of r.children){let C=e(p);s[p.outlet]=C}let u=new Te(r.url,s);return r===n&&(t=u),u}let o=e(n.root),i=Dy(o);return t??i}function Ny(n,t,e,o){let i=n;for(;i.parent;)i=i.parent;if(t.length===0)return hh(i,i,i,e,o);let r=LE(t);if(r.toRoot())return hh(i,i,new Te([],{}),e,o);let s=VE(r,i,n),u=s.processChildren?Is(s.segmentGroup,s.index,r.commands):Fy(s.segmentGroup,s.index,r.commands);return hh(i,s.segmentGroup,u,e,o)}function Id(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ks(n){return typeof n=="object"&&n!=null&&n.outlets}function hh(n,t,e,o,i){let r={};o&&Object.entries(o).forEach(([p,C])=>{r[p]=Array.isArray(C)?C.map(y=>`${y}`):`${C}`});let s;n===t?s=e:s=Ry(n,t,e);let u=Dy(ky(s));return new co(u,r,i)}function Ry(n,t,e){let o={};return Object.entries(n.children).forEach(([i,r])=>{r===t?o[i]=e:o[i]=Ry(r,t,e)}),new Te(n.segments,o)}var Dd=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&Id(o[0]))throw new U(4003,!1);let i=o.find(ks);if(i&&i!==xy(o))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function LE(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Dd(!0,0,n);let t=0,e=!1,o=n.reduce((i,r,s)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let u={};return Object.entries(r.outlets).forEach(([p,C])=>{u[p]=typeof C=="string"?C.split("/"):C}),[...i,{outlets:u}]}if(r.segmentPath)return[...i,r.segmentPath]}return typeof r!="string"?[...i,r]:s===0?(r.split("/").forEach((u,p)=>{p==0&&u==="."||(p==0&&u===""?e=!0:u===".."?t++:u!=""&&i.push(u))}),i):[...i,r]},[]);return new Dd(e,t,o)}var Kr=class{segmentGroup;processChildren;index;constructor(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}};function VE(n,t,e){if(n.isAbsolute)return new Kr(t,!0,0);if(!e)return new Kr(t,!1,NaN);if(e.parent===null)return new Kr(e,!0,0);let o=Id(n.commands[0])?0:1,i=e.segments.length-1+o;return jE(e,i,n.numberOfDoubleDots)}function jE(n,t,e){let o=n,i=t,r=e;for(;r>i;){if(r-=i,o=o.parent,!o)throw new U(4005,!1);i=o.segments.length}return new Kr(o,!1,i-r)}function zE(n){return ks(n[0])?n[0].outlets:{[Ce]:n}}function Fy(n,t,e){if(n??=new Te([],{}),n.segments.length===0&&n.hasChildren())return Is(n,t,e);let o=BE(n,t,e),i=e.slice(o.commandIndex);if(o.match&&o.pathIndex<n.segments.length){let r=new Te(n.segments.slice(0,o.pathIndex),{});return r.children[Ce]=new Te(n.segments.slice(o.pathIndex),n.children),Is(r,0,i)}else return o.match&&i.length===0?new Te(n.segments,{}):o.match&&!n.hasChildren()?xh(n,t,e):o.match?Is(n,0,i):xh(n,t,e)}function Is(n,t,e){if(e.length===0)return new Te(n.segments,{});{let o=zE(e),i={};if(Object.keys(o).some(r=>r!==Ce)&&n.children[Ce]&&n.numberOfChildren===1&&n.children[Ce].segments.length===0){let r=Is(n.children[Ce],t,e);return new Te(n.segments,r.children)}return Object.entries(o).forEach(([r,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[r]=Fy(n.children[r],t,s))}),Object.entries(n.children).forEach(([r,s])=>{o[r]===void 0&&(i[r]=s)}),new Te(n.segments,i)}}function BE(n,t,e){let o=0,i=t,r={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(o>=e.length)return r;let s=n.segments[i],u=e[o];if(ks(u))break;let p=`${u}`,C=o<e.length-1?e[o+1]:null;if(i>0&&p===void 0)break;if(p&&C&&typeof C=="object"&&C.outlets===void 0){if(!_y(p,C,s))return r;o+=2}else{if(!_y(p,{},s))return r;o++}i++}return{match:!0,pathIndex:i,commandIndex:o}}function xh(n,t,e){let o=n.segments.slice(0,t),i=0;for(;i<e.length;){let r=e[i];if(ks(r)){let p=UE(r.outlets);return new Te(o,p)}if(i===0&&Id(e[0])){let p=n.segments[t];o.push(new Yo(p.path,hy(e[0]))),i++;continue}let s=ks(r)?r.outlets[Ce]:`${r}`,u=i<e.length-1?e[i+1]:null;s&&u&&Id(u)?(o.push(new Yo(s,hy(u))),i+=2):(o.push(new Yo(s,{})),i++)}return new Te(o,{})}function UE(n){let t={};return Object.entries(n).forEach(([e,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(t[e]=xh(new Te([],{}),0,o))}),t}function hy(n){let t={};return Object.entries(n).forEach(([e,o])=>t[e]=`${o}`),t}function _y(n,t,e){return n==e.path&&ao(t,e.parameters)}var Qr="imperative",ht=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(ht||{}),mn=class{id;url;constructor(t,e){this.id=t,this.url=e}},Qo=class extends mn{type=ht.NavigationStart;navigationTrigger;restoredState;constructor(t,e,o="imperative",i=null){super(t,e),this.navigationTrigger=o,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Kt=class extends mn{urlAfterRedirects;type=ht.NavigationEnd;constructor(t,e,o){super(t,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Zt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Zt||{}),Xr=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Xr||{}),so=class extends mn{reason;code;type=ht.NavigationCancel;constructor(t,e,o,i){super(t,e),this.reason=o,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},lo=class extends mn{reason;code;type=ht.NavigationSkipped;constructor(t,e,o,i){super(t,e),this.reason=o,this.code=i}},ea=class extends mn{error;target;type=ht.NavigationError;constructor(t,e,o,i){super(t,e),this.error=o,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ts=class extends mn{urlAfterRedirects;state;type=ht.RoutesRecognized;constructor(t,e,o,i){super(t,e),this.urlAfterRedirects=o,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kd=class extends mn{urlAfterRedirects;state;type=ht.GuardsCheckStart;constructor(t,e,o,i){super(t,e),this.urlAfterRedirects=o,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Td=class extends mn{urlAfterRedirects;state;shouldActivate;type=ht.GuardsCheckEnd;constructor(t,e,o,i,r){super(t,e),this.urlAfterRedirects=o,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ad=class extends mn{urlAfterRedirects;state;type=ht.ResolveStart;constructor(t,e,o,i){super(t,e),this.urlAfterRedirects=o,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nd=class extends mn{urlAfterRedirects;state;type=ht.ResolveEnd;constructor(t,e,o,i){super(t,e),this.urlAfterRedirects=o,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rd=class{route;type=ht.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Fd=class{route;type=ht.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ld=class{snapshot;type=ht.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vd=class{snapshot;type=ht.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jd=class{snapshot;type=ht.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zd=class{snapshot;type=ht.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ta=class{routerEvent;position;anchor;type=ht.Scroll;constructor(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},As=class{},na=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function HE(n){return!(n instanceof As)&&!(n instanceof na)}function $E(n,t){return n.providers&&!n._injector&&(n._injector=Vr(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Ln(n){return n.outlet||Ce}function WE(n,t){let e=n.filter(o=>Ln(o)===t);return e.push(...n.filter(o=>Ln(o)!==t)),e}function ra(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Bd=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ra(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Yi(this.rootInjector)}},Yi=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,o){let i=this.getOrCreateContext(e);i.outlet=o,this.contexts.set(e,i)}onChildOutletDestroyed(e){let o=this.getContext(e);o&&(o.outlet=null,o.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let o=this.getContext(e);return o||(o=new Bd(this.rootInjector),this.contexts.set(e,o)),o}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(o){return new(o||n)(j(rt))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ud=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Ph(t,this._root);return e?e.children.map(o=>o.value):[]}firstChild(t){let e=Ph(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Oh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Oh(t,this._root).map(e=>e.value)}};function Ph(n,t){if(n===t.value)return t;for(let e of t.children){let o=Ph(n,e);if(o)return o}return null}function Oh(n,t){if(n===t.value)return[t];for(let e of t.children){let o=Oh(n,e);if(o.length)return o.unshift(t),o}return[]}var pn=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Zr(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var Ns=class extends Ud{snapshot;constructor(t,e){super(t),this.snapshot=e,Ah(this,t)}toString(){return this.snapshot.toString()}};function Ly(n){let t=qE(n),e=new Ne([new Yo("",{})]),o=new Ne({}),i=new Ne({}),r=new Ne({}),s=new Ne(""),u=new uo(e,o,r,s,i,Ce,n,t.root);return u.snapshot=t.root,new Ns(new pn(u,[]),t)}function qE(n){let t={},e={},o={},r=new Wi([],t,o,"",e,Ce,n,null,{});return new Rs("",new pn(r,[]))}var uo=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,o,i,r,s,u,p){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=o,this.fragmentSubject=i,this.dataSubject=r,this.outlet=s,this.component=u,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(J(C=>C[js]))??Y(void 0),this.url=t,this.params=e,this.queryParams=o,this.fragment=i,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(t=>qi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(t=>qi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Hd(n,t,e="emptyOnly"){let o,{routeConfig:i}=n;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?o={params:w(w({},t.params),n.params),data:w(w({},t.data),n.data),resolve:w(w(w(w({},n.data),t.data),i?.data),n._resolvedData)}:o={params:w({},n.params),data:w({},n.data),resolve:w(w({},n.data),n._resolvedData??{})},i&&jy(i)&&(o.resolve[js]=i.title),o}var Wi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[js]}constructor(t,e,o,i,r,s,u,p,C){this.url=t,this.params=e,this.queryParams=o,this.fragment=i,this.data=r,this.outlet=s,this.component=u,this.routeConfig=p,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=qi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=qi(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(o=>o.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Rs=class extends Ud{url;constructor(t,e){super(e),this.url=t,Ah(this,e)}toString(){return Vy(this._root)}};function Ah(n,t){t.value._routerState=n,t.children.forEach(e=>Ah(n,e))}function Vy(n){let t=n.children.length>0?` { ${n.children.map(Vy).join(", ")} } `:"";return`${n.value}${t}`}function _h(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ao(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),ao(t.params,e.params)||n.paramsSubject.next(e.params),vE(t.url,e.url)||n.urlSubject.next(e.url),ao(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function wh(n,t){let e=ao(n.params,t.params)&&xE(n.url,t.url),o=!n.parent!=!t.parent;return e&&!o&&(!n.parent||wh(n.parent,t.parent))}function jy(n){return typeof n.title=="string"||n.title===null}var zy=new K(""),Zi=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ce;activateEvents=new z;deactivateEvents=new z;attachEvents=new z;detachEvents=new z;routerOutletData=He(void 0);parentContexts=A(Yi);location=A(bn);changeDetector=A(no);inputBinder=A(zs,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:o,previousValue:i}=e.name;if(o)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=e;let i=this.location,s=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,p=new Sh(e,u,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:p,environmentInjector:o}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(o){return new(o||n)};static \u0275dir=Ee({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[It]})}return n})(),Sh=class{route;childContexts;parent;outletData;constructor(t,e,o,i){this.route=t,this.childContexts=e,this.parent=o,this.outletData=i}get(t,e){return t===uo?this.route:t===Yi?this.childContexts:t===zy?this.outletData:this.parent.get(t,e)}},zs=new K(""),Nh=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:o}=e,i=Sa([o.queryParams,o.params,o.data]).pipe(mt(([r,s,u],p)=>(u=w(w(w({},r),s),u),p===0?Y(u):Promise.resolve(u)))).subscribe(r=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==o||o.component===null){this.unsubscribeFromRouteData(e);return}let s=C1(o.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:u}of s.inputs)e.activatedComponentRef.setInput(u,r[u])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),Rh=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275cmp=N({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(o,i){o&1&&g(0,"router-outlet")},dependencies:[Zi],encapsulation:2})}return n})();function Fh(n){let t=n.children&&n.children.map(Fh),e=t?$(w({},n),{children:t}):w({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ce&&(e.component=Rh),e}function GE(n,t,e){let o=Fs(n,t._root,e?e._root:void 0);return new Ns(o,t)}function Fs(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let o=e.value;o._futureSnapshot=t.value;let i=YE(n,t,e);return new pn(o,i)}else{if(n.shouldAttach(t.value)){let r=n.retrieve(t.value);if(r!==null){let s=r.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(u=>Fs(n,u)),s}}let o=ZE(t.value),i=t.children.map(r=>Fs(n,r));return new pn(o,i)}}function YE(n,t,e){return t.children.map(o=>{for(let i of e.children)if(n.shouldReuseRoute(o.value,i.value.snapshot))return Fs(n,o,i);return Fs(n,o)})}function ZE(n){return new uo(new Ne(n.url),new Ne(n.params),new Ne(n.queryParams),new Ne(n.fragment),new Ne(n.data),n.outlet,n.component,n)}var oa=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},By="ngNavigationCancelingError";function $d(n,t){let{redirectTo:e,navigationBehaviorOptions:o}=Ko(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Uy(!1,Zt.Redirect);return i.url=e,i.navigationBehaviorOptions=o,i}function Uy(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[By]=!0,e.cancellationCode=t,e}function KE(n){return Hy(n)&&Ko(n.url)}function Hy(n){return!!n&&n[By]}var QE=(n,t,e,o)=>J(i=>(new Eh(t,i.targetRouterState,i.currentRouterState,e,o).activate(n),i)),Eh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,o,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=i,this.inputBindingEnabled=r}activate(t){let e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),_h(this.futureState.root),this.activateChildRoutes(e,o,t)}deactivateChildRoutes(t,e,o){let i=Zr(e);t.children.forEach(r=>{let s=r.value.outlet;this.deactivateRoutes(r,i[s],o),delete i[s]}),Object.values(i).forEach(r=>{this.deactivateRouteAndItsChildren(r,o)})}deactivateRoutes(t,e,o){let i=t.value,r=e?e.value:null;if(i===r)if(i.component){let s=o.getContext(i.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,o);else r&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let o=e.getContext(t.value.outlet),i=o&&t.value.component?o.children:e,r=Zr(t);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,i);if(o&&o.outlet){let s=o.outlet.detach(),u=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){let o=e.getContext(t.value.outlet),i=o&&t.value.component?o.children:e,r=Zr(t);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,i);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(t,e,o){let i=Zr(e);t.children.forEach(r=>{this.activateRoutes(r,i[r.value.outlet],o),this.forwardEvent(new zd(r.value.snapshot))}),t.children.length&&this.forwardEvent(new Vd(t.value.snapshot))}activateRoutes(t,e,o){let i=t.value,r=e?e.value:null;if(_h(i),i===r)if(i.component){let s=o.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,o);else if(i.component){let s=o.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(u.contexts),s.attachRef=u.componentRef,s.route=u.route.value,s.outlet&&s.outlet.attach(u.componentRef,u.route.value),_h(u.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,o)}},Wd=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Jr=class{component;route;constructor(t,e){this.component=t,this.route=e}};function JE(n,t,e){let o=n._root,i=t?t._root:null;return Es(o,i,e,[o.value])}function XE(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function aa(n,t){let e=Symbol(),o=t.get(n,e);return o===e?typeof n=="function"&&!nm(n)?n:t.get(n):o}function Es(n,t,e,o,i={canDeactivateChecks:[],canActivateChecks:[]}){let r=Zr(t);return n.children.forEach(s=>{eI(s,r[s.value.outlet],e,o.concat([s.value]),i),delete r[s.value.outlet]}),Object.entries(r).forEach(([s,u])=>Ds(u,e.getContext(s),i)),i}function eI(n,t,e,o,i={canDeactivateChecks:[],canActivateChecks:[]}){let r=n.value,s=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){let p=tI(s,r,r.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new Wd(o)):(r.data=s.data,r._resolvedData=s._resolvedData),r.component?Es(n,t,u?u.children:null,o,i):Es(n,t,e,o,i),p&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Jr(u.outlet.component,s))}else s&&Ds(t,u,i),i.canActivateChecks.push(new Wd(o)),r.component?Es(n,null,u?u.children:null,o,i):Es(n,null,e,o,i);return i}function tI(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!$i(n.url,t.url);case"pathParamsOrQueryParamsChange":return!$i(n.url,t.url)||!ao(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wh(n,t)||!ao(n.queryParams,t.queryParams);case"paramsChange":default:return!wh(n,t)}}function Ds(n,t,e){let o=Zr(n),i=n.value;Object.entries(o).forEach(([r,s])=>{i.component?t?Ds(s,t.children.getContext(r),e):Ds(s,null,e):Ds(s,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Jr(t.outlet.component,i)):e.canDeactivateChecks.push(new Jr(null,i)):e.canDeactivateChecks.push(new Jr(null,i))}function Bs(n){return typeof n=="function"}function nI(n){return typeof n=="boolean"}function oI(n){return n&&Bs(n.canLoad)}function iI(n){return n&&Bs(n.canActivate)}function rI(n){return n&&Bs(n.canActivateChild)}function aI(n){return n&&Bs(n.canDeactivate)}function sI(n){return n&&Bs(n.canMatch)}function $y(n){return n instanceof fo||n?.name==="EmptyError"}var Od=Symbol("INITIAL_VALUE");function ia(){return mt(n=>Sa(n.map(t=>t.pipe(gn(1),Hp(Od)))).pipe(J(t=>{for(let e of t)if(e!==!0){if(e===Od)return Od;if(e===!1||cI(e))return e}return!0}),vt(t=>t!==Od),gn(1)))}function cI(n){return Ko(n)||n instanceof oa}function lI(n,t){return Ge(e=>{let{targetSnapshot:o,currentSnapshot:i,guards:{canActivateChecks:r,canDeactivateChecks:s}}=e;return s.length===0&&r.length===0?Y($(w({},e),{guardsResult:!0})):dI(s,o,i,n).pipe(Ge(u=>u&&nI(u)?uI(o,r,n,t):Y(u)),J(u=>$(w({},e),{guardsResult:u})))})}function dI(n,t,e,o){return je(n).pipe(Ge(i=>hI(i.component,i.route,e,t,o)),_o(i=>i!==!0,!0))}function uI(n,t,e,o){return je(t).pipe(Hn(i=>ko(mI(i.route.parent,o),pI(i.route,o),fI(n,i.path,e),gI(n,i.route,e))),_o(i=>i!==!0,!0))}function pI(n,t){return n!==null&&t&&t(new jd(n)),Y(!0)}function mI(n,t){return n!==null&&t&&t(new Ld(n)),Y(!0)}function gI(n,t,e){let o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||o.length===0)return Y(!0);let i=o.map(r=>Ea(()=>{let s=ra(t)??e,u=aa(r,s),p=iI(u)?u.canActivate(t,n):Mt(s,()=>u(t,n));return Eo(p).pipe(_o())}));return Y(i).pipe(ia())}function fI(n,t,e){let o=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(s=>XE(s)).filter(s=>s!==null).map(s=>Ea(()=>{let u=s.guards.map(p=>{let C=ra(s.node)??e,y=aa(p,C),x=rI(y)?y.canActivateChild(o,n):Mt(C,()=>y(o,n));return Eo(x).pipe(_o())});return Y(u).pipe(ia())}));return Y(r).pipe(ia())}function hI(n,t,e,o,i){let r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||r.length===0)return Y(!0);let s=r.map(u=>{let p=ra(t)??i,C=aa(u,p),y=aI(C)?C.canDeactivate(n,t,e,o):Mt(p,()=>C(n,t,e,o));return Eo(y).pipe(_o())});return Y(s).pipe(ia())}function _I(n,t,e,o){let i=t.canLoad;if(i===void 0||i.length===0)return Y(!0);let r=i.map(s=>{let u=aa(s,n),p=oI(u)?u.canLoad(t,e):Mt(n,()=>u(t,e));return Eo(p)});return Y(r).pipe(ia(),Wy(o))}function Wy(n){return Op(yt(t=>{if(typeof t!="boolean")throw $d(n,t)}),J(t=>t===!0))}function CI(n,t,e,o){let i=t.canMatch;if(!i||i.length===0)return Y(!0);let r=i.map(s=>{let u=aa(s,n),p=sI(u)?u.canMatch(t,e):Mt(n,()=>u(t,e));return Eo(p)});return Y(r).pipe(ia(),Wy(o))}var Ls=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Vs=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Yr(n){return Se(new Ls(n))}function vI(n){return Se(new U(4e3,!1))}function yI(n){return Se(Uy(!1,Zt.GuardRejected))}var Ih=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let o=[],i=e.root;for(;;){if(o=o.concat(i.segments),i.numberOfChildren===0)return Y(o);if(i.numberOfChildren>1||!i.children[Ce])return vI(`${t.redirectTo}`);i=i.children[Ce]}}applyRedirectCommands(t,e,o,i,r){return bI(e,i,r).pipe(J(s=>{if(s instanceof co)throw new Vs(s);let u=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,o);if(s[0]==="/")throw new Vs(u);return u}))}applyRedirectCreateUrlTree(t,e,o,i){let r=this.createSegmentGroup(t,e.root,o,i);return new co(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let o={};return Object.entries(t).forEach(([i,r])=>{if(typeof r=="string"&&r[0]===":"){let u=r.substring(1);o[i]=e[u]}else o[i]=r}),o}createSegmentGroup(t,e,o,i){let r=this.createSegments(t,e.segments,o,i),s={};return Object.entries(e.children).forEach(([u,p])=>{s[u]=this.createSegmentGroup(t,p,o,i)}),new Te(r,s)}createSegments(t,e,o,i){return e.map(r=>r.path[0]===":"?this.findPosParam(t,r,i):this.findOrReturn(r,o))}findPosParam(t,e,o){let i=o[e.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(t,e){let o=0;for(let i of e){if(i.path===t.path)return e.splice(o),i;o++}return t}};function bI(n,t,e){if(typeof n=="string")return Y(n);let o=n,{queryParams:i,fragment:r,routeConfig:s,url:u,outlet:p,params:C,data:y,title:x}=t;return Eo(Mt(e,()=>o({params:C,data:y,queryParams:i,fragment:r,routeConfig:s,url:u,outlet:p,title:x})))}var Dh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function MI(n,t,e,o,i){let r=qy(n,t,e);return r.matched?(o=$E(t,o),CI(o,t,e,i).pipe(J(s=>s===!0?r:w({},Dh)))):Y(r)}function qy(n,t,e){if(t.path==="**")return xI(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?w({},Dh):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||by)(e,n,t);if(!i)return w({},Dh);let r={};Object.entries(i.posParams??{}).forEach(([u,p])=>{r[u]=p.path});let s=i.consumed.length>0?w(w({},r),i.consumed[i.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function xI(n){return{matched:!0,parameters:n.length>0?xy(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Cy(n,t,e,o){return e.length>0&&wI(n,e,o)?{segmentGroup:new Te(t,OI(o,new Te(e,n.children))),slicedSegments:[]}:e.length===0&&SI(n,e,o)?{segmentGroup:new Te(n.segments,PI(n,e,o,n.children)),slicedSegments:e}:{segmentGroup:new Te(n.segments,n.children),slicedSegments:e}}function PI(n,t,e,o){let i={};for(let r of e)if(Gd(n,t,r)&&!o[Ln(r)]){let s=new Te([],{});i[Ln(r)]=s}return w(w({},o),i)}function OI(n,t){let e={};e[Ce]=t;for(let o of n)if(o.path===""&&Ln(o)!==Ce){let i=new Te([],{});e[Ln(o)]=i}return e}function wI(n,t,e){return e.some(o=>Gd(n,t,o)&&Ln(o)!==Ce)}function SI(n,t,e){return e.some(o=>Gd(n,t,o))}function Gd(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function EI(n,t,e){return t.length===0&&!n.children[e]}var kh=class{};function II(n,t,e,o,i,r,s="emptyOnly"){return new Th(n,t,e,o,i,s,r).recognize()}var DI=31,Th=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,o,i,r,s,u){this.injector=t,this.configLoader=e,this.rootComponentType=o,this.config=i,this.urlTree=r,this.paramsInheritanceStrategy=s,this.urlSerializer=u,this.applyRedirects=new Ih(this.urlSerializer,this.urlTree)}noMatchError(t){return new U(4002,`'${t.segmentGroup}'`)}recognize(){let t=Cy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(J(({children:e,rootSnapshot:o})=>{let i=new pn(o,e),r=new Rs("",i),s=Ty(o,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(s),{state:r,tree:s}}))}match(t){let e=new Wi([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Ce,e).pipe(J(o=>({children:o,rootSnapshot:e})),ae(o=>{if(o instanceof Vs)return this.urlTree=o.urlTree,this.match(o.urlTree.root);throw o instanceof Ls?this.noMatchError(o):o}))}processSegmentGroup(t,e,o,i,r){return o.segments.length===0&&o.hasChildren()?this.processChildren(t,e,o,r):this.processSegment(t,e,o,o.segments,i,!0,r).pipe(J(s=>s instanceof pn?[s]:[]))}processChildren(t,e,o,i){let r=[];for(let s of Object.keys(o.children))s==="primary"?r.unshift(s):r.push(s);return je(r).pipe(Hn(s=>{let u=o.children[s],p=WE(e,s);return this.processSegmentGroup(t,p,u,s,i)}),Up((s,u)=>(s.push(...u),s)),To(null),zp(),Ge(s=>{if(s===null)return Yr(o);let u=Gy(s);return kI(u),Y(u)}))}processSegment(t,e,o,i,r,s,u){return je(e).pipe(Hn(p=>this.processSegmentAgainstRoute(p._injector??t,e,p,o,i,r,s,u).pipe(ae(C=>{if(C instanceof Ls)return Y(null);throw C}))),_o(p=>!!p),ae(p=>{if($y(p))return EI(o,i,r)?Y(new kh):Yr(o);throw p}))}processSegmentAgainstRoute(t,e,o,i,r,s,u,p){return Ln(o)!==s&&(s===Ce||!Gd(i,r,o))?Yr(i):o.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,o,r,s,p):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,o,r,s,p):Yr(i)}expandSegmentAgainstRouteUsingRedirect(t,e,o,i,r,s,u){let{matched:p,parameters:C,consumedSegments:y,positionalParamSegments:x,remainingSegments:O}=qy(e,i,r);if(!p)return Yr(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>DI&&(this.allowRedirects=!1));let P=new Wi(r,C,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,vy(i),Ln(i),i.component??i._loadedComponent??null,i,yy(i)),F=Hd(P,u,this.paramsInheritanceStrategy);return P.params=Object.freeze(F.params),P.data=Object.freeze(F.data),this.applyRedirects.applyRedirectCommands(y,i.redirectTo,x,P,t).pipe(mt(Q=>this.applyRedirects.lineralizeSegments(i,Q)),Ge(Q=>this.processSegment(t,o,e,Q.concat(O),s,!1,u)))}matchSegmentAgainstRoute(t,e,o,i,r,s){let u=MI(e,o,i,t,this.urlSerializer);return o.path==="**"&&(e.children={}),u.pipe(mt(p=>p.matched?(t=o._injector??t,this.getChildConfig(t,o,i).pipe(mt(({routes:C})=>{let y=o._loadedInjector??t,{parameters:x,consumedSegments:O,remainingSegments:P}=p,F=new Wi(O,x,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,vy(o),Ln(o),o.component??o._loadedComponent??null,o,yy(o)),Z=Hd(F,s,this.paramsInheritanceStrategy);F.params=Object.freeze(Z.params),F.data=Object.freeze(Z.data);let{segmentGroup:Q,slicedSegments:X}=Cy(e,O,P,C);if(X.length===0&&Q.hasChildren())return this.processChildren(y,C,Q,F).pipe(J(Jt=>new pn(F,Jt)));if(C.length===0&&X.length===0)return Y(new pn(F,[]));let it=Ln(o)===r;return this.processSegment(y,C,Q,X,it?Ce:r,!0,F).pipe(J(Jt=>new pn(F,Jt instanceof pn?[Jt]:[])))}))):Yr(e)))}getChildConfig(t,e,o){return e.children?Y({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?Y({routes:e._loadedRoutes,injector:e._loadedInjector}):_I(t,e,o,this.urlSerializer).pipe(Ge(i=>i?this.configLoader.loadChildren(t,e).pipe(yt(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):yI(e))):Y({routes:[],injector:t})}};function kI(n){n.sort((t,e)=>t.value.outlet===Ce?-1:e.value.outlet===Ce?1:t.value.outlet.localeCompare(e.value.outlet))}function TI(n){let t=n.value.routeConfig;return t&&t.path===""}function Gy(n){let t=[],e=new Set;for(let o of n){if(!TI(o)){t.push(o);continue}let i=t.find(r=>o.value.routeConfig===r.value.routeConfig);i!==void 0?(i.children.push(...o.children),e.add(i)):t.push(o)}for(let o of e){let i=Gy(o.children);t.push(new pn(o.value,i))}return t.filter(o=>!e.has(o))}function vy(n){return n.data||{}}function yy(n){return n.resolve||{}}function AI(n,t,e,o,i,r){return Ge(s=>II(n,t,e,o,s.extractedUrl,i,r).pipe(J(({state:u,tree:p})=>$(w({},s),{targetSnapshot:u,urlAfterRedirects:p}))))}function NI(n,t){return Ge(e=>{let{targetSnapshot:o,guards:{canActivateChecks:i}}=e;if(!i.length)return Y(e);let r=new Set(i.map(p=>p.route)),s=new Set;for(let p of r)if(!s.has(p))for(let C of Yy(p))s.add(C);let u=0;return je(s).pipe(Hn(p=>r.has(p)?RI(p,o,n,t):(p.data=Hd(p,p.parent,n).resolve,Y(void 0))),yt(()=>u++),vr(1),Ge(p=>u===s.size?Y(e):Tt))})}function Yy(n){let t=n.children.map(e=>Yy(e)).flat();return[n,...t]}function RI(n,t,e,o){let i=n.routeConfig,r=n._resolve;return i?.title!==void 0&&!jy(i)&&(r[js]=i.title),Ea(()=>(n.data=Hd(n,n.parent,e).resolve,FI(r,n,t,o).pipe(J(s=>(n._resolvedData=s,n.data=w(w({},n.data),s),null)))))}function FI(n,t,e,o){let i=yh(n);if(i.length===0)return Y({});let r={};return je(i).pipe(Ge(s=>LI(n[s],t,e,o).pipe(_o(),yt(u=>{if(u instanceof oa)throw $d(new Zo,u);r[s]=u}))),vr(1),J(()=>r),ae(s=>$y(s)?Tt:Se(s)))}function LI(n,t,e,o){let i=ra(t)??o,r=aa(n,i),s=r.resolve?r.resolve(t,e):Mt(i,()=>r(t,e));return Eo(s)}function Ch(n){return mt(t=>{let e=n(t);return e?je(e).pipe(J(()=>t)):Y(t)})}var Lh=(()=>{class n{buildTitle(e){let o,i=e.root;for(;i!==void 0;)o=this.getResolvedTitleForRoute(i)??o,i=i.children.find(r=>r.outlet===Ce);return o}getResolvedTitleForRoute(e){return e.data[js]}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:()=>A(Zy),providedIn:"root"})}return n})(),Zy=(()=>{class n extends Lh{title;constructor(e){super(),this.title=e}updateTitle(e){let o=this.buildTitle(e);o!==void 0&&this.title.setTitle(o)}static \u0275fac=function(o){return new(o||n)(j(my))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jo=new K("",{providedIn:"root",factory:()=>({})}),Ki=new K(""),Yd=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=A(If);loadComponent(e,o){if(this.componentLoaders.get(o))return this.componentLoaders.get(o);if(o._loadedComponent)return Y(o._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(o);let i=Eo(Mt(e,()=>o.loadComponent())).pipe(J(Qy),mt(Jy),yt(s=>{this.onLoadEndListener&&this.onLoadEndListener(o),o._loadedComponent=s}),Ao(()=>{this.componentLoaders.delete(o)})),r=new mr(i,()=>new Ve).pipe(pr());return this.componentLoaders.set(o,r),r}loadChildren(e,o){if(this.childrenLoaders.get(o))return this.childrenLoaders.get(o);if(o._loadedRoutes)return Y({routes:o._loadedRoutes,injector:o._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(o);let r=Ky(o,this.compiler,e,this.onLoadEndListener).pipe(Ao(()=>{this.childrenLoaders.delete(o)})),s=new mr(r,()=>new Ve).pipe(pr());return this.childrenLoaders.set(o,s),s}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ky(n,t,e,o){return Eo(Mt(e,()=>n.loadChildren())).pipe(J(Qy),mt(Jy),Ge(i=>i instanceof Wl||Array.isArray(i)?Y(i):je(t.compileModuleAsync(i))),J(i=>{o&&o(n);let r,s,u=!1;return Array.isArray(i)?(s=i,u=!0):(r=i.create(e).injector,s=r.get(Ki,[],{optional:!0,self:!0}).flat()),{routes:s.map(Fh),injector:r}}))}function VI(n){return n&&typeof n=="object"&&"default"in n}function Qy(n){return VI(n)?n.default:n}function Jy(n){return Y(n)}var Zd=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:()=>A(jI),providedIn:"root"})}return n})(),jI=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,o){return e}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vh=new K(""),jh=new K("");function Xy(n,t,e){let o=n.get(jh),i=n.get(tt);if(!i.startViewTransition||o.skipNextTransition)return o.skipNextTransition=!1,new Promise(C=>setTimeout(C));let r,s=new Promise(C=>{r=C}),u=i.startViewTransition(()=>(r(),zI(n)));u.ready.catch(C=>{});let{onViewTransitionCreated:p}=o;return p&&Mt(n,()=>p({transition:u,from:t,to:e})),s}function zI(n){return new Promise(t=>{as({read:()=>setTimeout(t)},{injector:n})})}var zh=new K(""),Kd=(()=>{class n{currentNavigation=Ft(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ve;transitionAbortWithErrorSubject=new Ve;configLoader=A(Yd);environmentInjector=A(rt);destroyRef=A(vn);urlSerializer=A(Gi);rootContexts=A(Yi);location=A(Go);inputBindingEnabled=A(zs,{optional:!0})!==null;titleStrategy=A(Lh);options=A(Jo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=A(Zd);createViewTransition=A(Vh,{optional:!0});navigationErrorHandler=A(zh,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Y(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new Rd(i)),o=i=>this.events.next(new Fd(i));this.configLoader.onLoadEndListener=o,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let o=++this.navigationId;at(()=>{this.transitions?.next($(w({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:o}))})}setupNavigations(e){return this.transitions=new Ne(null),this.transitions.pipe(vt(o=>o!==null),mt(o=>{let i=!1;return Y(o).pipe(mt(r=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Zt.SupersededByNewNavigation),Tt;this.currentTransition=o,this.currentNavigation.set({id:r.id,initialUrl:r.rawUrl,extractedUrl:r.extractedUrl,targetBrowserUrl:typeof r.extras.browserUrl=="string"?this.urlSerializer.parse(r.extras.browserUrl):r.extras.browserUrl,trigger:r.source,extras:r.extras,previousNavigation:this.lastSuccessfulNavigation?$(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>r.abortController.abort()});let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=r.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&u!=="reload")return this.events.next(new lo(r.id,this.urlSerializer.serialize(r.rawUrl),"",Xr.IgnoredSameUrlNavigation)),r.resolve(!1),Tt;if(this.urlHandlingStrategy.shouldProcessUrl(r.rawUrl))return Y(r).pipe(mt(p=>(this.events.next(new Qo(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),p.id!==this.navigationId?Tt:Promise.resolve(p))),AI(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),yt(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation.update(y=>(y.finalUrl=p.urlAfterRedirects,y));let C=new Ts(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(C)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(r.currentRawUrl)){let{id:p,extractedUrl:C,source:y,restoredState:x,extras:O}=r,P=new Qo(p,this.urlSerializer.serialize(C),y,x);this.events.next(P);let F=Ly(this.rootComponentType).snapshot;return this.currentTransition=o=$(w({},r),{targetSnapshot:F,urlAfterRedirects:C,extras:$(w({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(Z=>(Z.finalUrl=C,Z)),Y(o)}else return this.events.next(new lo(r.id,this.urlSerializer.serialize(r.extractedUrl),"",Xr.IgnoredByUrlHandlingStrategy)),r.resolve(!1),Tt}),yt(r=>{let s=new kd(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot);this.events.next(s)}),J(r=>(this.currentTransition=o=$(w({},r),{guards:JE(r.targetSnapshot,r.currentSnapshot,this.rootContexts)}),o)),lI(this.environmentInjector,r=>this.events.next(r)),yt(r=>{if(o.guardsResult=r.guardsResult,r.guardsResult&&typeof r.guardsResult!="boolean")throw $d(this.urlSerializer,r.guardsResult);let s=new Td(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot,!!r.guardsResult);this.events.next(s)}),vt(r=>r.guardsResult?!0:(this.cancelNavigationTransition(r,"",Zt.GuardRejected),!1)),Ch(r=>{if(r.guards.canActivateChecks.length!==0)return Y(r).pipe(yt(s=>{let u=new Ad(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(u)}),mt(s=>{let u=!1;return Y(s).pipe(NI(this.paramsInheritanceStrategy,this.environmentInjector),yt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(s,"",Zt.NoDataFromResolver)}}))}),yt(s=>{let u=new Nd(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(u)}))}),Ch(r=>{let s=u=>{let p=[];if(u.routeConfig?.loadComponent){let C=ra(u)??this.environmentInjector;p.push(this.configLoader.loadComponent(C,u.routeConfig).pipe(yt(y=>{u.component=y}),J(()=>{})))}for(let C of u.children)p.push(...s(C));return p};return Sa(s(r.targetSnapshot.root)).pipe(To(null),gn(1))}),Ch(()=>this.afterPreactivation()),mt(()=>{let{currentSnapshot:r,targetSnapshot:s}=o,u=this.createViewTransition?.(this.environmentInjector,r.root,s.root);return u?je(u).pipe(J(()=>o)):Y(o)}),J(r=>{let s=GE(e.routeReuseStrategy,r.targetSnapshot,r.currentRouterState);return this.currentTransition=o=$(w({},r),{targetRouterState:s}),this.currentNavigation.update(u=>(u.targetRouterState=s,u)),o}),yt(()=>{this.events.next(new As)}),QE(this.rootContexts,e.routeReuseStrategy,r=>this.events.next(r),this.inputBindingEnabled),gn(1),St(new ye(r=>{let s=o.abortController.signal,u=()=>r.next();return s.addEventListener("abort",u),()=>s.removeEventListener("abort",u)}).pipe(vt(()=>!i&&!o.targetRouterState),yt(()=>{this.cancelNavigationTransition(o,o.abortController.signal.reason+"",Zt.Aborted)}))),yt({next:r=>{i=!0,this.lastSuccessfulNavigation=at(this.currentNavigation),this.events.next(new Kt(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects))),this.titleStrategy?.updateTitle(r.targetRouterState.snapshot),r.resolve(!0)},complete:()=>{i=!0}}),St(this.transitionAbortWithErrorSubject.pipe(yt(r=>{throw r}))),Ao(()=>{i||this.cancelNavigationTransition(o,"",Zt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ae(r=>{if(this.destroyed)return o.resolve(!1),Tt;if(i=!0,Hy(r))this.events.next(new so(o.id,this.urlSerializer.serialize(o.extractedUrl),r.message,r.cancellationCode)),KE(r)?this.events.next(new na(r.url,r.navigationBehaviorOptions)):o.resolve(!1);else{let s=new ea(o.id,this.urlSerializer.serialize(o.extractedUrl),r,o.targetSnapshot??void 0);try{let u=Mt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(u instanceof oa){let{message:p,cancellationCode:C}=$d(this.urlSerializer,u);this.events.next(new so(o.id,this.urlSerializer.serialize(o.extractedUrl),p,C)),this.events.next(new na(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(s),r}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Tt}))}))}cancelNavigationTransition(e,o,i){let r=new so(e.id,this.urlSerializer.serialize(e.extractedUrl),o,i);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),o=at(this.currentNavigation),i=o?.targetBrowserUrl??o?.extractedUrl;return e.toString()!==i?.toString()&&!o?.extras.skipLocationChange}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BI(n){return n!==Qr}var eb=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:()=>A(UI),providedIn:"root"})}return n})(),qd=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},UI=(()=>{class n extends qd{static \u0275fac=(()=>{let e;return function(i){return(e||(e=dn(n)))(i||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tb=(()=>{class n{urlSerializer=A(Gi);options=A(Jo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=A(Go);urlHandlingStrategy=A(Zd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new co;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:o,targetBrowserUrl:i}){let r=e!==void 0?this.urlHandlingStrategy.merge(e,o):o,s=i??r;return s instanceof co?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:o,initialUrl:i}){o&&e?(this.currentUrlTree=o,this.rawUrlTree=this.urlHandlingStrategy.merge(o,i),this.routerState=e):this.rawUrlTree=i}routerState=Ly(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:()=>A(HI),providedIn:"root"})}return n})(),HI=(()=>{class n extends tb{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(o=>{o.type==="popstate"&&setTimeout(()=>{e(o.url,o.state,"popstate")})})}handleRouterEvent(e,o){e instanceof Qo?this.updateStateMemento():e instanceof lo?this.commitTransition(o):e instanceof Ts?this.urlUpdateStrategy==="eager"&&(o.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(o),o)):e instanceof As?(this.commitTransition(o),this.urlUpdateStrategy==="deferred"&&!o.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(o),o)):e instanceof so&&e.code!==Zt.SupersededByNewNavigation&&e.code!==Zt.Redirect?this.restoreHistory(o):e instanceof ea?this.restoreHistory(o,!0):e instanceof Kt&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:o,id:i}){let{replaceUrl:r,state:s}=o;if(this.location.isCurrentPathEqualTo(e)||r){let u=this.browserPageId,p=w(w({},s),this.generateNgRouterState(i,u));this.location.replaceState(e,"",p)}else{let u=w(w({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(e,"",u)}}restoreHistory(e,o=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,r=this.currentPageId-i;r!==0?this.location.historyGo(r):this.getCurrentUrlTree()===e.finalUrl&&r===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(o&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,o){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=dn(n)))(i||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qd(n,t){n.events.pipe(vt(e=>e instanceof Kt||e instanceof so||e instanceof ea||e instanceof lo),J(e=>e instanceof Kt||e instanceof lo?0:(e instanceof so?e.code===Zt.Redirect||e.code===Zt.SupersededByNewNavigation:!1)?2:1),vt(e=>e!==2),gn(1)).subscribe(()=>{t()})}var $I={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},WI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ae=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=A(vf);stateManager=A(tb);options=A(Jo,{optional:!0})||{};pendingTasks=A(Qn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=A(Kd);urlSerializer=A(Gi);location=A(Go);urlHandlingStrategy=A(Zd);injector=A(rt);_events=new Ve;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=A(eb);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=A(Ki,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!A(zs,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ze;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(o=>{try{let i=this.navigationTransitions.currentTransition,r=at(this.navigationTransitions.currentNavigation);if(i!==null&&r!==null){if(this.stateManager.handleRouterEvent(o,r),o instanceof so&&o.code!==Zt.Redirect&&o.code!==Zt.SupersededByNewNavigation)this.navigated=!0;else if(o instanceof Kt)this.navigated=!0;else if(o instanceof na){let s=o.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(o.url,i.currentRawUrl),p=w({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||BI(i.source)},s);this.scheduleNavigation(u,Qr,null,p,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}HE(o)&&this._events.next(o)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,o,i)=>{this.navigateToSyncWithBrowser(e,i,o)})}navigateToSyncWithBrowser(e,o,i){let r={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let p=w({},i);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(r.state=p)}let u=this.parseUrl(e);this.scheduleNavigation(u,o,s,r).catch(p=>{this.disposed||this.injector.get(Wt)(p)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return at(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Fh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,o={}){let{relativeTo:i,queryParams:r,fragment:s,queryParamsHandling:u,preserveFragment:p}=o,C=p?this.currentUrlTree.fragment:s,y=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":y=w(w({},this.currentUrlTree.queryParams),r);break;case"preserve":y=this.currentUrlTree.queryParams;break;default:y=r||null}y!==null&&(y=this.removeEmptyProps(y));let x;try{let O=i?i.snapshot:this.routerState.snapshot.root;x=Ay(O)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),x=this.currentUrlTree.root}return Ny(x,e,y,C??null)}navigateByUrl(e,o={skipLocationChange:!1}){let i=Ko(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(r,Qr,null,o)}navigate(e,o={skipLocationChange:!1}){return qI(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,o){let i;if(o===!0?i=w({},$I):o===!1?i=w({},WI):i=o,Ko(e))return gy(this.currentUrlTree,e,i);let r=this.parseUrl(e);return gy(this.currentUrlTree,r,i)}removeEmptyProps(e){return Object.entries(e).reduce((o,[i,r])=>(r!=null&&(o[i]=r),o),{})}scheduleNavigation(e,o,i,r,s){if(this.disposed)return Promise.resolve(!1);let u,p,C;s?(u=s.resolve,p=s.reject,C=s.promise):C=new Promise((x,O)=>{u=x,p=O});let y=this.pendingTasks.add();return Qd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(y))}),this.navigationTransitions.handleNavigationRequest({source:o,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:u,reject:p,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(x=>Promise.reject(x))}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qI(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new U(4008,!1)}var wt=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ft(null);get href(){return at(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ve;applicationErrorHandler=A(Wt);options=A(Jo,{optional:!0});constructor(e,o,i,r,s,u){this.router=e,this.route=o,this.tabIndexAttribute=i,this.renderer=r,this.el=s,this.locationStrategy=u,this.reactiveHref.set(A(new Jl("href"),{optional:!0}));let p=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=p==="a"||p==="area"||!!(typeof customElements=="object"&&customElements.get(p)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,o=i=>i==="merge"||i==="preserve";e||=o(this.queryParamsHandling),e||=!this.queryParamsHandling&&!o(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Kt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ko(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,o,i,r,s){let u=this.urlTree;if(u===null||this.isAnchorElement&&(e!==0||o||i||r||s||typeof this.target=="string"&&this.target!="_self"))return!0;let p={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,p)?.catch(C=>{this.applicationErrorHandler(C)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,o){let i=this.renderer,r=this.el.nativeElement;o!==null?i.setAttribute(r,e,o):i.removeAttribute(r,e)}get urlTree(){return this.routerLinkInput===null?null:Ko(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(o){return new(o||n)(D(Ae),D(uo),ts("tabindex"),D(yn),D(Lt),D(Rn))};static \u0275dir=Ee({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(o,i){o&1&&v("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),o&2&&V("href",i.reactiveHref(),Hg)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",qo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",qo],replaceUrl:[2,"replaceUrl","replaceUrl",qo],routerLink:"routerLink"},features:[It]})}return n})(),Uh=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new z;constructor(e,o,i,r,s){this.router=e,this.element=o,this.renderer=i,this.cdr=r,this.link=s,this.routerEventsSubscription=e.events.subscribe(u=>{u instanceof Kt&&this.update()})}ngAfterContentInit(){Y(this.links.changes,Y(null)).pipe(Un()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=je(e).pipe(Un()).subscribe(o=>{this._isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(e){let o=Array.isArray(e)?e:e.split(" ");this.classes=o.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(o=>{e?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let o=GI(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let r=i.urlTree;return r?e.isActive(r,o):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(o){return new(o||n)(D(Ae),D(Lt),D(yn),D(no),D(wt,8))};static \u0275dir=Ee({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(o,i,r){if(o&1&&Ri(r,wt,5),o&2){let s;Fi(s=Li())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[It]})}return n})();function GI(n){return!!n.paths}var Us=class{};var nb=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(e,o,i,r){this.router=e,this.injector=o,this.preloadingStrategy=i,this.loader=r}setUpPreloading(){this.subscription=this.router.events.pipe(vt(e=>e instanceof Kt),Hn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){let i=[];for(let r of o){r.providers&&!r._injector&&(r._injector=Vr(r.providers,e,`Route: ${r.path}`));let s=r._injector??e,u=r._loadedInjector??s;(r.loadChildren&&!r._loadedRoutes&&r.canLoad===void 0||r.loadComponent&&!r._loadedComponent)&&i.push(this.preloadConfig(s,r)),(r.children||r._loadedRoutes)&&i.push(this.processRoutes(u,r.children??r._loadedRoutes))}return je(i).pipe(Un())}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>{let i;o.loadChildren&&o.canLoad===void 0?i=this.loader.loadChildren(e,o):i=Y(null);let r=i.pipe(Ge(s=>s===null?Y(void 0):(o._loadedRoutes=s.routes,o._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(o.loadComponent&&!o._loadedComponent){let s=this.loader.loadComponent(e,o);return je([r,s]).pipe(Un())}else return r})}static \u0275fac=function(o){return new(o||n)(j(Ae),j(rt),j(Us),j(Yd))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ob=new K(""),YI=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Qr;restoredId=0;store={};constructor(e,o,i,r,s={}){this.urlSerializer=e,this.transitions=o,this.viewportScroller=i,this.zone=r,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Qo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Kt?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof lo&&e.code===Xr.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ta&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.zone.runOutsideAngular(()=>jn(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ta(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,o))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(o){cf()};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function Hh(n,...t){return Vo([{provide:Ki,multi:!0,useValue:n},[],{provide:uo,useFactory:ib,deps:[Ae]},{provide:ss,multi:!0,useFactory:rb},t.map(e=>e.\u0275providers)])}function ib(n){return n.routerState.root}function Hs(n,t){return{\u0275kind:n,\u0275providers:t}}function rb(){let n=A(Ut);return t=>{let e=n.get(Po);if(t!==e.components[0])return;let o=n.get(Ae),i=n.get(ab);n.get($h)===1&&o.initialNavigation(),n.get(lb,null,{optional:!0})?.setUpPreloading(),n.get(ob,null,{optional:!0})?.init(),o.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ab=new K("",{factory:()=>new Ve}),$h=new K("",{providedIn:"root",factory:()=>1});function sb(){let n=[{provide:jg,useValue:!0},{provide:$h,useValue:0},Yl(()=>{let t=A(Ut);return t.get(zf,Promise.resolve()).then(()=>new Promise(o=>{let i=t.get(Ae),r=t.get(ab);Qd(i,()=>{o(!0)}),t.get(Kd).afterPreactivation=()=>(o(!0),r.closed?Y(void 0):r),i.initialNavigation()}))})];return Hs(2,n)}function cb(){let n=[Yl(()=>{A(Ae).setUpLocationChangeListener()}),{provide:$h,useValue:2}];return Hs(3,n)}var lb=new K("");function db(n){return Hs(0,[{provide:lb,useExisting:nb},{provide:Us,useExisting:n}])}function ub(){return Hs(8,[Nh,{provide:zs,useExisting:Nh}])}function pb(n){ki("NgRouterViewTransitions");let t=[{provide:Vh,useValue:Xy},{provide:jh,useValue:w({skipNextTransition:!!n?.skipInitialTransition},n)}];return Hs(9,t)}var mb=[Go,{provide:Gi,useClass:Zo},Ae,Yi,{provide:uo,useFactory:ib,deps:[Ae]},Yd,[]],fe=(()=>{class n{constructor(){}static forRoot(e,o){return{ngModule:n,providers:[mb,[],{provide:Ki,multi:!0,useValue:e},[],o?.errorHandler?{provide:zh,useValue:o.errorHandler}:[],{provide:Jo,useValue:o||{}},o?.useHash?KI():QI(),ZI(),o?.preloadingStrategy?db(o.preloadingStrategy).\u0275providers:[],o?.initialNavigation?JI(o):[],o?.bindToComponentInputs?ub().\u0275providers:[],o?.enableViewTransitions?pb().\u0275providers:[],XI()]}}static forChild(e){return{ngModule:n,providers:[{provide:Ki,multi:!0,useValue:e}]}}static \u0275fac=function(o){return new(o||n)};static \u0275mod=qt({type:n});static \u0275inj=Nt({})}return n})();function ZI(){return{provide:ob,useFactory:()=>{let n=A($1),t=A(We),e=A(Jo),o=A(Kd),i=A(Gi);return e.scrollOffset&&n.setOffset(e.scrollOffset),new YI(i,o,n,t,e)}}}function KI(){return{provide:Rn,useClass:Zf}}function QI(){return{provide:Rn,useClass:nd}}function JI(n){return[n.initialNavigation==="disabled"?cb().\u0275providers:[],n.initialNavigation==="enabledBlocking"?sb().\u0275providers:[]]}var Bh=new K("");function XI(){return[{provide:Bh,useFactory:rb},{provide:ss,multi:!0,useExisting:Bh}]}var Jd=class n{intercept(t,e){let o=t.clone({setHeaders:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization, Accept","Content-Type":"application/json",Accept:"application/json"}});return e.handle(o)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})};var xb=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,o){this._renderer=e,this._elementRef=o}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(o){return new(o||n)(D(yn),D(Lt))};static \u0275dir=Ee({type:n})}return n})(),Ks=(()=>{class n extends xb{static \u0275fac=(()=>{let e;return function(i){return(e||(e=dn(n)))(i||n)}})();static \u0275dir=Ee({type:n,features:[xt]})}return n})(),Do=new K(""),eD={provide:Do,useExisting:gt(()=>Yh),multi:!0},Yh=(()=>{class n extends Ks{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=dn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(o,i){o&1&&v("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[jt([eD]),xt]})}return n})(),tD={provide:Do,useExisting:gt(()=>ve),multi:!0};function nD(){let n=Mn()?Mn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var oD=new K(""),ve=(()=>{class n extends xb{_compositionMode;_composing=!1;constructor(e,o,i){super(e,o),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!nD())}writeValue(e){let o=e??"";this.setProperty("value",o)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(o){return new(o||n)(D(yn),D(Lt),D(oD,8))};static \u0275dir=Ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(o,i){o&1&&v("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[jt([tD]),xt]})}return n})();function Zh(n){return n==null||Kh(n)===0}function Kh(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Ji=new K(""),du=new K(""),iD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,st=class{static min(t){return Pb(t)}static max(t){return Ob(t)}static required(t){return wb(t)}static requiredTrue(t){return rD(t)}static email(t){return aD(t)}static minLength(t){return sD(t)}static maxLength(t){return cD(t)}static pattern(t){return lD(t)}static nullValidator(t){return eu()}static compose(t){return Tb(t)}static composeAsync(t){return Ab(t)}};function Pb(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function Ob(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function wb(n){return Zh(n.value)?{required:!0}:null}function rD(n){return n.value===!0?null:{required:!0}}function aD(n){return Zh(n.value)||iD.test(n.value)?null:{email:!0}}function sD(n){return t=>{let e=t.value?.length??Kh(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function cD(n){return t=>{let e=t.value?.length??Kh(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function lD(n){if(!n)return eu;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),o=>{if(Zh(o.value))return null;let i=o.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function eu(n){return null}function Sb(n){return n!=null}function Eb(n){return xo(n)?je(n):n}function Ib(n){let t={};return n.forEach(e=>{t=e!=null?w(w({},t),e):t}),Object.keys(t).length===0?null:t}function Db(n,t){return t.map(e=>e(n))}function dD(n){return!n.validate}function kb(n){return n.map(t=>dD(t)?t:e=>t.validate(e))}function Tb(n){if(!n)return null;let t=n.filter(Sb);return t.length==0?null:function(e){return Ib(Db(e,t))}}function Qh(n){return n!=null?Tb(kb(n)):null}function Ab(n){if(!n)return null;let t=n.filter(Sb);return t.length==0?null:function(e){let o=Db(e,t).map(Eb);return Rp(o).pipe(J(Ib))}}function Jh(n){return n!=null?Ab(kb(n)):null}function gb(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Nb(n){return n._rawValidators}function Rb(n){return n._rawAsyncValidators}function Wh(n){return n?Array.isArray(n)?n:[n]:[]}function tu(n,t){return Array.isArray(n)?n.includes(t):n===t}function fb(n,t){let e=Wh(t);return Wh(n).forEach(i=>{tu(e,i)||e.push(i)}),e}function hb(n,t){return Wh(t).filter(e=>!tu(n,e))}var nu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Qh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Jh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Io=class extends nu{name;get formDirective(){return null}get path(){return null}},Qi=class extends nu{_parent=null;name=null;valueAccessor=null},ou=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},uD={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},bZ=$(w({},uD),{"[class.ng-submitted]":"isSubmitted"}),se=(()=>{class n extends ou{constructor(e){super(e)}static \u0275fac=function(o){return new(o||n)(D(Qi,2))};static \u0275dir=Ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(o,i){o&2&&H("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[xt]})}return n})(),Ie=(()=>{class n extends ou{constructor(e){super(e)}static \u0275fac=function(o){return new(o||n)(D(Io,10))};static \u0275dir=Ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(o,i){o&2&&H("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[xt]})}return n})();var $s="VALID",Xd="INVALID",sa="PENDING",Ws="DISABLED",Xo=class{},iu=class extends Xo{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Gs=class extends Xo{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Ys=class extends Xo{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},ca=class extends Xo{status;source;constructor(t,e){super(),this.status=t,this.source=e}},ru=class extends Xo{source;constructor(t){super(),this.source=t}},au=class extends Xo{source;constructor(t){super(),this.source=t}};function Xh(n){return(uu(n)?n.validators:n)||null}function pD(n){return Array.isArray(n)?Qh(n):n||null}function e0(n,t){return(uu(t)?t.asyncValidators:n)||null}function mD(n){return Array.isArray(n)?Jh(n):n||null}function uu(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Fb(n,t,e){let o=n.controls;if(!(t?Object.keys(o):o).length)throw new U(1e3,"");if(!o[e])throw new U(1001,"")}function Lb(n,t,e){n._forEachChild((o,i)=>{if(e[i]===void 0)throw new U(1002,"")})}var la=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return at(this.statusReactive)}set status(t){at(()=>this.statusReactive.set(t))}_status=Vi(()=>this.statusReactive());statusReactive=Ft(void 0);get valid(){return this.status===$s}get invalid(){return this.status===Xd}get pending(){return this.status==sa}get disabled(){return this.status===Ws}get enabled(){return this.status!==Ws}errors;get pristine(){return at(this.pristineReactive)}set pristine(t){at(()=>this.pristineReactive.set(t))}_pristine=Vi(()=>this.pristineReactive());pristineReactive=Ft(!0);get dirty(){return!this.pristine}get touched(){return at(this.touchedReactive)}set touched(t){at(()=>this.touchedReactive.set(t))}_touched=Vi(()=>this.touchedReactive());touchedReactive=Ft(!1);get untouched(){return!this.touched}_events=new Ve;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(fb(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(fb(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(hb(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(hb(t,this._rawAsyncValidators))}hasValidator(t){return tu(this._rawValidators,t)}hasAsyncValidator(t){return tu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let o=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched($(w({},t),{sourceControl:o})),e&&t.emitEvent!==!1&&this._events.next(new Ys(!0,o))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let o=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:o})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,o),e&&t.emitEvent!==!1&&this._events.next(new Ys(!1,o))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let o=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty($(w({},t),{sourceControl:o})),e&&t.emitEvent!==!1&&this._events.next(new Gs(!1,o))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let o=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,o),e&&t.emitEvent!==!1&&this._events.next(new Gs(!0,o))}markAsPending(t={}){this.status=sa;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ca(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending($(w({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ws,this.errors=null,this._forEachChild(i=>{i.disable($(w({},t),{onlySelf:!0}))}),this._updateValue();let o=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new iu(this.value,o)),this._events.next(new ca(this.status,o)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors($(w({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=$s,this._forEachChild(o=>{o.enable($(w({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors($(w({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let o=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$s||this.status===sa)&&this._runAsyncValidator(o,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new iu(this.value,e)),this._events.next(new ca(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity($(w({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ws:$s}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=sa,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let o=Eb(this.asyncValidator(this));this._asyncValidationSubscription=o.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((o,i)=>o&&o._find(i),this)}getError(t,e){let o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,o){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||o)&&this._events.next(new ca(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,o)}_initObservables(){this.valueChanges=new z,this.statusChanges=new z}_calculateStatus(){return this._allControlsDisabled()?Ws:this.errors?Xd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sa)?sa:this._anyControlsHaveStatus(Xd)?Xd:$s}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let o=!this._anyControlsDirty(),i=this.pristine!==o;this.pristine=o,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new Gs(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Ys(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){uu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=pD(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=mD(this._rawAsyncValidators)}},da=class extends la{constructor(t,e,o){super(Xh(e),e0(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,o={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Lb(this,!0,t),Object.keys(t).forEach(o=>{Fb(this,!0,o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(o=>{let i=this.controls[o];i&&i.patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((o,i)=>{o.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,o)=>(t[o]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,o)=>o._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let o=this.controls[e];o&&t(o,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,o]of Object.entries(this.controls))if(this.contains(e)&&t(o))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,o,i)=>((o.enabled||this.disabled)&&(e[i]=o.value),e))}_reduceChildren(t,e){let o=t;return this._forEachChild((i,r)=>{o=e(o,i,r)}),o}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var qh=class extends da{};var Qs=new K("",{providedIn:"root",factory:()=>pu}),pu="always";function Vb(n,t){return[...t.path,n]}function su(n,t,e=pu){t0(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),fD(n,t),_D(n,t),hD(n,t),gD(n,t)}function _b(n,t,e=!0){let o=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(o),t.valueAccessor.registerOnTouched(o)),lu(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function cu(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function gD(n,t){if(t.valueAccessor.setDisabledState){let e=o=>{t.valueAccessor.setDisabledState(o)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function t0(n,t){let e=Nb(n);t.validator!==null?n.setValidators(gb(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let o=Rb(n);t.asyncValidator!==null?n.setAsyncValidators(gb(o,t.asyncValidator)):typeof o=="function"&&n.setAsyncValidators([o]);let i=()=>n.updateValueAndValidity();cu(t._rawValidators,i),cu(t._rawAsyncValidators,i)}function lu(n,t){let e=!1;if(n!==null){if(t.validator!==null){let i=Nb(n);if(Array.isArray(i)&&i.length>0){let r=i.filter(s=>s!==t.validator);r.length!==i.length&&(e=!0,n.setValidators(r))}}if(t.asyncValidator!==null){let i=Rb(n);if(Array.isArray(i)&&i.length>0){let r=i.filter(s=>s!==t.asyncValidator);r.length!==i.length&&(e=!0,n.setAsyncValidators(r))}}}let o=()=>{};return cu(t._rawValidators,o),cu(t._rawAsyncValidators,o),e}function fD(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&jb(n,t)})}function hD(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&jb(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function jb(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function _D(n,t){let e=(o,i)=>{t.valueAccessor.writeValue(o),i&&t.viewToModelUpdate(o)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function zb(n,t){n==null,t0(n,t)}function CD(n,t){return lu(n,t)}function Bb(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function vD(n){return Object.getPrototypeOf(n.constructor)===Ks}function Ub(n,t){n._syncPendingControls(),t.forEach(e=>{let o=e.control;o.updateOn==="submit"&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function Hb(n,t){if(!t)return null;Array.isArray(t);let e,o,i;return t.forEach(r=>{r.constructor===ve?e=r:vD(r)?o=r:i=r}),i||o||e||null}function yD(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var bD={provide:Io,useExisting:gt(()=>$e)},qs=Promise.resolve(),$e=(()=>{class n extends Io{callSetDisabledState;get submitted(){return at(this.submittedReactive)}_submitted=Vi(()=>this.submittedReactive());submittedReactive=Ft(!1);_directives=new Set;form;ngSubmit=new z;options;constructor(e,o,i){super(),this.callSetDisabledState=i,this.form=new da({},Qh(e),Jh(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){qs.then(()=>{let o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),su(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){qs.then(()=>{let o=this._findContainer(e.path);o&&o.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){qs.then(()=>{let o=this._findContainer(e.path),i=new da({});zb(i,e),o.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){qs.then(()=>{let o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){qs.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Ub(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new ru(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1),this.form._events.next(new au(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(o){return new(o||n)(D(Ji,10),D(du,10),D(Qs,8))};static \u0275dir=Ee({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(o,i){o&1&&v("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[jt([bD]),xt]})}return n})();function Cb(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function vb(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Zs=class extends la{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,o){super(Xh(e),e0(o,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uu(e)&&(e.nonNullable||e.initialValueIsDefault)&&(vb(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(o=>o(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Cb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Cb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){vb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var MD=n=>n instanceof Zs;var xD={provide:Qi,useExisting:gt(()=>he)},yb=Promise.resolve(),he=(()=>{class n extends Qi{_changeDetectorRef;callSetDisabledState;control=new Zs;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new z;constructor(e,o,i,r,s,u){super(),this._changeDetectorRef=s,this.callSetDisabledState=u,this._parent=e,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=Hb(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Bb(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){su(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){yb.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let o=e.isDisabled.currentValue,i=o!==0&&qo(o);yb.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Vb(e,this._parent):[e]}static \u0275fac=function(o){return new(o||n)(D(Io,9),D(Ji,10),D(du,10),D(Do,10),D(no,8),D(Qs,8))};static \u0275dir=Ee({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[jt([xD]),xt,It]})}return n})();var De=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275dir=Ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),PD={provide:Do,useExisting:gt(()=>ct),multi:!0},ct=(()=>{class n extends Ks{writeValue(e){let o=e??"";this.setProperty("value",o)}registerOnChange(e){this.onChange=o=>{e(o==""?null:parseFloat(o))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=dn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(o,i){o&1&&v("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[jt([PD]),xt]})}return n})();var $b=new K("");var OD={provide:Io,useExisting:gt(()=>Xi)},Xi=(()=>{class n extends Io{callSetDisabledState;get submitted(){return at(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Vi(()=>this._submittedReactive());_submittedReactive=Ft(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new z;constructor(e,o,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(o)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(lu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let o=this.form.get(e.path);return su(o,e,this.callSetDisabledState),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),o}getControl(e){return this.form.get(e.path)}removeControl(e){_b(e.control||null,e,!1),yD(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,o){this.form.get(e.path).setValue(o)}onSubmit(e){return this._submittedReactive.set(!0),Ub(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new ru(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,o={}){this.form.reset(e,o),this._submittedReactive.set(!1),o?.emitEvent!==!1&&this.form._events.next(new au(this.form))}_updateDomValue(){this.directives.forEach(e=>{let o=e.control,i=this.form.get(e.path);o!==i&&(_b(o||null,e),MD(i)&&(su(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let o=this.form.get(e.path);zb(o,e),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let o=this.form.get(e.path);o&&CD(o,e)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){t0(this.form,this),this._oldForm&&lu(this._oldForm,this)}static \u0275fac=function(o){return new(o||n)(D(Ji,10),D(du,10),D(Qs,8))};static \u0275dir=Ee({type:n,selectors:[["","formGroup",""]],hostBindings:function(o,i){o&1&&v("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[jt([OD]),xt,It]})}return n})();var wD={provide:Qi,useExisting:gt(()=>er)},er=(()=>{class n extends Qi{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new z;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,o,i,r,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(o),this._setAsyncValidators(i),this.valueAccessor=Hb(this,r)}ngOnChanges(e){this._added||this._setUpControl(),Bb(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Vb(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(o){return new(o||n)(D(Io,13),D(Ji,10),D(du,10),D(Do,10),D($b,8))};static \u0275dir=Ee({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[jt([wD]),xt,It]})}return n})();var SD={provide:Do,useExisting:gt(()=>Pe),multi:!0};function Wb(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function ED(n){return n.split(":")[0]}var Pe=(()=>{class n extends Ks{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;appRefInjector=A(Po).injector;destroyRef=A(vn);cdr=A(no);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,as({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(e){this.cdr.markForCheck(),this.value=e;let o=this._getOptionId(e),i=Wb(o,e);this.setProperty("value",i)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){let o=ED(e);return this._optionMap.has(o)?this._optionMap.get(o):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=dn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(o,i){o&1&&v("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[jt([SD]),xt]})}return n})(),Oe=(()=>{class n{_element;_renderer;_select;id;constructor(e,o,i){this._element=e,this._renderer=o,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Wb(this.id,e)),this._select._writeValueAfterRender())}set value(e){this._setElementValue(e),this._select&&this._select._writeValueAfterRender()}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(o){return new(o||n)(D(Lt),D(yn),D(Pe,9))};static \u0275dir=Ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),ID={provide:Do,useExisting:gt(()=>qb),multi:!0};function bb(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function DD(n){return n.split(":")[0]}var qb=(()=>{class n extends Ks{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let o;if(Array.isArray(e)){let i=e.map(r=>this._getOptionId(r));o=(r,s)=>{r._setSelected(i.indexOf(s.toString())>-1)}}else o=(i,r)=>{i._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{let i=[],r=o.selectedOptions;if(r!==void 0){let s=r;for(let u=0;u<s.length;u++){let p=s[u],C=this._getOptionValue(p.value);i.push(C)}}else{let s=o.options;for(let u=0;u<s.length;u++){let p=s[u];if(p.selected){let C=this._getOptionValue(p.value);i.push(C)}}}this.value=i,e(i)}}_registerOption(e){let o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(let o of this._optionMap.keys())if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){let o=DD(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=dn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(o,i){o&1&&v("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[jt([ID]),xt]})}return n})(),we=(()=>{class n{_element;_renderer;_select;id;_value;constructor(e,o,i){this._element=e,this._renderer=o,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(bb(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(bb(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(o){return new(o||n)(D(Lt),D(yn),D(qb,9))};static \u0275dir=Ee({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function Gb(n){return typeof n=="number"?n:parseFloat(n)}var n0=(()=>{class n{_validator=eu;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let o=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):eu,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(o){return new(o||n)};static \u0275dir=Ee({type:n,features:[It]})}return n})(),kD={provide:Ji,useExisting:gt(()=>o0),multi:!0},o0=(()=>{class n extends n0{max;inputName="max";normalizeInput=e=>Gb(e);createValidator=e=>Ob(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=dn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(o,i){o&2&&V("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[jt([kD]),xt]})}return n})(),TD={provide:Ji,useExisting:gt(()=>_t),multi:!0},_t=(()=>{class n extends n0{min;inputName="min";normalizeInput=e=>Gb(e);createValidator=e=>Pb(e);static \u0275fac=(()=>{let e;return function(i){return(e||(e=dn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(o,i){o&2&&V("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[jt([TD]),xt]})}return n})(),AD={provide:Ji,useExisting:gt(()=>Xe),multi:!0};var Xe=(()=>{class n extends n0{required;inputName="required";normalizeInput=qo;createValidator=e=>wb;enabled(e){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=dn(n)))(i||n)}})();static \u0275dir=Ee({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(o,i){o&2&&V("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[jt([AD]),xt]})}return n})();var Yb=(()=>{class n{static \u0275fac=function(o){return new(o||n)};static \u0275mod=qt({type:n});static \u0275inj=Nt({})}return n})(),Gh=class extends la{constructor(t,e,o){super(Xh(e),e0(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){Array.isArray(t)?t.forEach(o=>{this.controls.push(o),this._registerControl(o)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,o={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(t,e={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,o={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Lb(this,!1,t),t.forEach((o,i)=>{Fb(this,!1,i),this.at(i).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((o,i)=>{this.at(i)&&this.at(i).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((o,i)=>{o.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,o)=>o._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,o)=>{t(e,o)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Mb(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var ua=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,o=null){let i=this._reduceControls(e),r={};return Mb(o)?r=o:o!==null&&(r.validators=o.validator,r.asyncValidators=o.asyncValidator),new da(i,r)}record(e,o=null){let i=this._reduceControls(e);return new qh(i,o)}control(e,o,i){let r={};return this.useNonNullable?(Mb(o)?r=o:(r.validators=o,r.asyncValidators=i),new Zs(e,$(w({},r),{nonNullable:!0}))):new Zs(e,o,i)}array(e,o,i){let r=e.map(s=>this._createControl(s));return new Gh(r,o,i)}_reduceControls(e){let o={};return Object.keys(e).forEach(i=>{o[i]=this._createControl(e[i])}),o}_createControl(e){if(e instanceof Zs)return e;if(e instanceof la)return e;if(Array.isArray(e)){let o=e[0],i=e.length>1?e[1]:null,r=e.length>2?e[2]:null;return this.control(o,i,r)}else return this.control(e)}static \u0275fac=function(o){return new(o||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ie=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Qs,useValue:e.callSetDisabledState??pu}]}}static \u0275fac=function(o){return new(o||n)};static \u0275mod=qt({type:n});static \u0275inj=Nt({imports:[Yb]})}return n})(),pa=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:$b,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Qs,useValue:e.callSetDisabledState??pu}]}}static \u0275fac=function(o){return new(o||n)};static \u0275mod=qt({type:n});static \u0275inj=Nt({imports:[Yb]})}return n})();var ma=class n{clockInterval;currentTime=new Date;ngOnInit(){this.startClock()}ngOnDestroy(){this.clockInterval&&clearInterval(this.clockInterval)}startClock(){let t=()=>{let e=new Date,o=e.getSeconds(),i=e.getMinutes(),r=e.getHours()%12,s=o/60*360,u=(i+o/60)/60*360,p=(r+i/60)/12*360;document.documentElement.style.setProperty("--second-rotation",`${s}deg`),document.documentElement.style.setProperty("--minute-rotation",`${u}deg`),document.documentElement.style.setProperty("--hour-rotation",`${p}deg`),this.currentTime=e};t(),this.clockInterval=setInterval(t,1e3)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-analog-clock"]],decls:34,vars:4,consts:[[1,"analog-clock"],[1,"clock-face"],[1,"numbers"],[1,"hand","hour-hand"],[1,"hand","minute-hand"],[1,"hand","second-hand"],[1,"center-dot"],[1,"date"]],template:function(e,o){e&1&&(Dt(0,"div",0)(1,"div",1)(2,"div",2)(3,"span"),l(4,"12"),Pt(),Dt(5,"span"),l(6,"1"),Pt(),Dt(7,"span"),l(8,"2"),Pt(),Dt(9,"span"),l(10,"3"),Pt(),Dt(11,"span"),l(12,"4"),Pt(),Dt(13,"span"),l(14,"5"),Pt(),Dt(15,"span"),l(16,"6"),Pt(),Dt(17,"span"),l(18,"7"),Pt(),Dt(19,"span"),l(20,"8"),Pt(),Dt(21,"span"),l(22,"9"),Pt(),Dt(23,"span"),l(24,"10"),Pt(),Dt(25,"span"),l(26,"11"),Pt()(),jr(27,"div",3)(28,"div",4)(29,"div",5)(30,"div",6),Pt(),Dt(31,"div",7),l(32),te(33,"date"),Pt()()),e&2&&(d(32),b(Gt(33,1,o.currentTime,"EEEE, MMMM d, y")))},dependencies:[R,un],styles:['[_ngcontent-%COMP%]:root{--second-rotation: 0deg;--minute-rotation: 0deg;--hour-rotation: 0deg}.analog-clock[_ngcontent-%COMP%]{text-align:center;color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;gap:1.5rem}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]{width:300px;height:300px;border-radius:50%;background:#00000080;position:relative;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);box-shadow:0 0 30px #0000004d;border:2px solid rgba(255,255,255,.1)}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;top:0;left:0;border-radius:50%;background:linear-gradient(45deg,rgba(255,255,255,.1),transparent)}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;width:30px;height:30px;text-align:center;font-size:1.2rem;font-weight:500;color:#fff}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){top:10px;left:calc(50% - 15px)}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){top:10%;right:25%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){top:25%;right:10%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){top:calc(50% - 15px);right:10px}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){bottom:25%;right:10%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(6){bottom:10%;right:25%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(7){bottom:10px;left:calc(50% - 15px)}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(8){bottom:10%;left:25%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(9){bottom:25%;left:10%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(10){top:calc(50% - 15px);left:10px}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(11){top:25%;left:10%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(12){top:10%;left:25%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]{position:absolute;bottom:50%;left:50%;transform-origin:bottom;border-radius:4px;pointer-events:none;z-index:2}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .hand.hour-hand[_ngcontent-%COMP%]{width:4px;height:70px;background:#fff;transform:translate(-50%) rotate(var(--hour-rotation))}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .hand.minute-hand[_ngcontent-%COMP%]{width:3px;height:90px;background:#fff;transform:translate(-50%) rotate(var(--minute-rotation))}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .hand.second-hand[_ngcontent-%COMP%]{width:2px;height:100px;background:#ff6b6b;transform:translate(-50%) rotate(var(--second-rotation))}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .center-dot[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:12px;height:12px;border-radius:50%;background:#fff;transform:translate(-50%,-50%);z-index:3}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .center-dot[_ngcontent-%COMP%]:after{content:"";position:absolute;width:6px;height:6px;background:#ff6b6b;border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%)}.analog-clock[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:400;opacity:.9;text-shadow:0 2px 4px rgba(0,0,0,.2);margin-top:1rem}']})};var ND=["formTemplate"];function RD(n,t){if(n&1&&(a(0,"div",9)(1,"span"),l(2),c(),a(3,"a",10),l(4),c()()),n&2){let e=f();d(2),b(e.authLinkText),d(),m("routerLink",e.authLinkRoute),d(),b(e.authLinkLabel)}}var ga=class n{title="";showAuthLinks=!0;authLinkText="";authLinkLabel="";authLinkRoute="";formTemplate;currentYear=new Date().getFullYear();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-auth-layout"]],contentQueries:function(e,o,i){if(e&1&&Ri(i,ND,5),e&2){let r;Fi(r=Li())&&(o.formTemplate=r.first)}},inputs:{title:"title",showAuthLinks:"showAuthLinks",authLinkText:"authLinkText",authLinkLabel:"authLinkLabel",authLinkRoute:"authLinkRoute"},decls:18,vars:4,consts:[[1,"auth-page"],[1,"auth-section"],[1,"auth-container"],[1,"logo-container"],["src","assets/img/logo.png","alt","Gemura Logo",1,"logo"],["class","auth-links",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"footer-text"],[1,"background-section"],[1,"auth-links"],[3,"routerLink"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),g(4,"img",4),c(),a(5,"h1"),l(6),c(),M(7,RD,5,3,"div",5),Ni(8,6),a(9,"div",7)(10,"p"),l(11),c(),a(12,"p"),l(13,"A comprehensive dairy farming management system"),c(),a(14,"p"),l(15,"Developed for Rwandan Dairy Farmers"),c()()()(),a(16,"div",8),g(17,"app-analog-clock"),c()()),e&2&&(d(6),b(o.title),d(),m("ngIf",o.showAuthLinks),d(),m("ngTemplateOutlet",o.formTemplate),d(3),T("\xA9 ",o.currentYear," Gemura"))},dependencies:[R,G,Cs,fe,wt,ma],styles:[`.auth-page[_ngcontent-%COMP%]{display:flex;min-height:100vh;width:100%}.auth-section[_ngcontent-%COMP%]{width:40%;min-width:500px;background:#fff;display:flex;align-items:center;justify-content:center;padding:2rem}.auth-container[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:0 20px}.auth-container[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.auth-container[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-width:100px;height:auto;object-fit:contain}.auth-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:500;color:#333;margin-bottom:1rem;text-align:center}.auth-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#004aad;font-weight:600}.auth-container[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;font-size:.9rem;color:#666}.auth-container[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#004aad;text-decoration:none;font-weight:500;margin-left:.25rem}.auth-container[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.footer-text[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;color:#666;font-size:.8rem;line-height:1.4}.footer-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0}.background-section[_ngcontent-%COMP%]{flex:1;background:linear-gradient(#0000004d,#0000004d),url(/assets/img/splash.jpg);background-size:cover;background-position:center;position:relative;display:flex;align-items:center;justify-content:center}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:15px;color:#666;z-index:2}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:12px 15px 12px 40px;border:1px solid #e0e0e0;border-radius:4px;font-size:.9rem;transition:all .3s ease;background:#fff}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder{color:#999}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#004aad;box-shadow:0 0 2px #004aad1a}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input.is-invalid[_ngcontent-%COMP%], .auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select.is-invalid[_ngcontent-%COMP%]{border-color:#e74c3c}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input.is-invalid[_ngcontent-%COMP%]:focus, .auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 2px #e74c3c1a}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right 12px center;background-size:16px;padding-right:40px}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#004aad}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px;background:#fff;color:#333}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:15px;background:none;border:none;color:#666;cursor:pointer;padding:4px;z-index:2}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover{color:#004aad}.auth-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{color:#e74c3c;font-size:.85rem;margin-top:.5rem}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]{width:100%;padding:12px;background:#004aad;color:#fff;border:none;border-radius:4px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#003f94;transform:translateY(-1px);box-shadow:0 4px 8px #004aad4d}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none;box-shadow:none}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem}.auth-form[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem}.auth-form[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]{color:#004aad;text-decoration:none;font-size:.9rem;font-weight:500}.auth-form[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 992px){.auth-section[_ngcontent-%COMP%]{width:100%;min-width:auto}.background-section[_ngcontent-%COMP%]{display:none}}`]})};function FD(n,t){if(n&1&&g(0,"i"),n&2){let e=f();Fe(e.iconClass)}}function LD(n,t){if(n&1){let e=k();a(0,"input",7),v("input",function(i){h(e);let r=f();return _(r.onInput(i))})("blur",function(){h(e);let i=f();return _(i.onBlur())})("focus",function(){h(e);let i=f();return _(i.onFocus())}),c()}if(n&2){let e=f();H("is-invalid",e.isInvalid),m("type",e.inputType)("placeholder",e.placeholder)("value",e.value)("disabled",e.disabled)}}function VD(n,t){if(n&1&&(a(0,"option",11),l(1),c()),n&2){let e=t.$implicit;m("value",e.value),d(),T(" ",e.label," ")}}function jD(n,t){if(n&1){let e=k();a(0,"select",8),v("change",function(i){h(e);let r=f();return _(r.onSelectChange(i))})("blur",function(){h(e);let i=f();return _(i.onBlur())})("focus",function(){h(e);let i=f();return _(i.onFocus())}),a(1,"option",9),l(2),c(),M(3,VD,2,2,"option",10),c()}if(n&2){let e=f();H("is-invalid",e.isInvalid),m("value",e.value)("disabled",e.disabled),d(2),b(e.placeholder),d(),m("ngForOf",e.options)}}function zD(n,t){if(n&1){let e=k();a(0,"button",12),v("click",function(){h(e);let i=f();return _(i.togglePassword())}),g(1,"i",13),c()}if(n&2){let e=f();d(),H("fa-eye",!e.showPassword)("fa-eye-slash",e.showPassword)}}function BD(n,t){if(n&1&&(a(0,"div",14),l(1),c()),n&2){let e=f();d(),T(" ",e.errorMessage," ")}}var po=class n{type="text";placeholder="";iconClass="";errorMessage="";isInvalid=!1;disabled=!1;showPasswordToggle=!1;options=[];inputChange=new z;focusEvent=new z;blurEvent=new z;value="";showPassword=!1;inputType=this.type;onChange=t=>{};onTouched=()=>{};ngOnInit(){this.inputType=this.type}onInput(t){let e=t.target;this.value=e.value,this.onChange(this.value),this.inputChange.emit(this.value)}onSelectChange(t){let e=t.target;this.value=e.value,this.onChange(this.value),this.inputChange.emit(this.value)}onFocus(){this.focusEvent.emit()}onBlur(){this.onTouched(),this.blurEvent.emit()}togglePassword(){this.showPassword=!this.showPassword,this.inputType=this.showPassword?"text":"password"}writeValue(t){this.value=t||""}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-form-input"]],inputs:{type:"type",placeholder:"placeholder",iconClass:"iconClass",errorMessage:"errorMessage",isInvalid:"isInvalid",disabled:"disabled",showPasswordToggle:"showPasswordToggle",options:"options"},outputs:{inputChange:"inputChange",focusEvent:"focusEvent",blurEvent:"blurEvent"},features:[jt([{provide:Do,useExisting:gt(()=>n),multi:!0}])],decls:7,vars:5,consts:[[1,"form-group"],[1,"input-wrapper"],[3,"class",4,"ngIf"],[3,"type","placeholder","value","disabled","is-invalid","input","blur","focus",4,"ngIf"],[3,"value","disabled","is-invalid","change","blur","focus",4,"ngIf"],["type","button","class","password-toggle",3,"click",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[3,"input","blur","focus","type","placeholder","value","disabled"],[3,"change","blur","focus","value","disabled"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","button",1,"password-toggle",3,"click"],[1,"fas"],[1,"invalid-feedback"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1),M(2,FD,1,2,"i",2)(3,LD,1,6,"input",3)(4,jD,4,6,"select",4)(5,zD,2,4,"button",5),c(),M(6,BD,2,1,"div",6),c()),e&2&&(d(2),m("ngIf",o.iconClass),d(),m("ngIf",o.type!=="select"),d(),m("ngIf",o.type==="select"),d(),m("ngIf",o.showPasswordToggle&&o.type!=="select"),d(),m("ngIf",o.isInvalid&&o.errorMessage))},dependencies:[R,ee,G],styles:[`.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.input-wrapper[_ngcontent-%COMP%]{position:relative}.input-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:16px;top:50%;transform:translateY(-50%);color:#6b7280;z-index:2;font-size:.9rem;transition:color .3s ease}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:14px 15px 14px 45px;border:1px solid #e5e7eb;border-radius:8px;font-size:.95rem;font-weight:400;transition:all .3s ease;background:#f8fafc;color:#374151}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder{color:#6b7280;font-weight:500;opacity:1}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#004aad;background:#fff;box-shadow:0 0 0 3px #004aad1a,0 1px 3px #0000001a;transform:translateY(-1px)}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover:not(:focus), .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover:not(:focus){border-color:#d1d5db;background:#f1f5f9;box-shadow:0 1px 3px #0000001a}.input-wrapper[_ngcontent-%COMP%]   input.is-invalid[_ngcontent-%COMP%], .input-wrapper[_ngcontent-%COMP%]   select.is-invalid[_ngcontent-%COMP%]{border-color:#e74c3c;background:#fef2f2}.input-wrapper[_ngcontent-%COMP%]   input.is-invalid[_ngcontent-%COMP%]:focus, .input-wrapper[_ngcontent-%COMP%]   select.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 3px #e74c3c1a,0 1px 3px #0000001a}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;color:#9ca3af;opacity:.7;cursor:not-allowed;border-color:#e5e7eb}.input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{cursor:pointer;appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right 16px center;background-size:16px;padding-right:45px}.input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover:not(:focus){border-color:#d1d5db;background:#f1f5f9}.input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:12px 16px;background:#fff;color:#374151;font-size:.95rem}.input-wrapper[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:16px;top:50%;transform:translateY(-50%);background:none;border:none;color:#6b7280;cursor:pointer;padding:6px;z-index:2;border-radius:4px;transition:all .3s ease}.input-wrapper[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover{color:#004aad;background:#004aad1a}.input-wrapper[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:static;transform:none;font-size:.9rem}.invalid-feedback[_ngcontent-%COMP%]{color:#e74c3c;font-size:.875rem;font-weight:500;margin-top:.5rem;display:block;padding-left:4px}`]})};function UD(n,t){if(n&1&&g(0,"i"),n&2){let e=f(2);Fe(e.iconClass)}}function HD(n,t){if(n&1&&(a(0,"div",1),M(1,UD,1,2,"i",2),l(2),c()),n&2){let e=f();m("ngClass","alert-"+e.type),d(),m("ngIf",e.iconClass),d(),T(" ",e.message," ")}}var mo=class n{type="info";message="";get iconClass(){switch(this.type){case"success":return"fas fa-check-circle";case"danger":return"fas fa-exclamation-circle";case"warning":return"fas fa-exclamation-triangle";case"info":return"fas fa-info-circle";default:return""}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-alert"]],inputs:{type:"type",message:"message"},decls:1,vars:1,consts:[["class","alert",3,"ngClass",4,"ngIf"],[1,"alert",3,"ngClass"],[3,"class",4,"ngIf"]],template:function(e,o){e&1&&M(0,HD,3,3,"div",0),e&2&&m("ngIf",o.message)},dependencies:[R,Yt,G],styles:[".alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:4px;margin-bottom:1rem;font-size:.9rem;display:flex;align-items:center;gap:8px}.alert.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.alert.alert-success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#28a745}.alert.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.alert.alert-danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#dc3545}.alert.alert-warning[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404;border:1px solid #ffeaa7}.alert.alert-warning[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc107}.alert.alert-info[_ngcontent-%COMP%]{background-color:#d1ecf1;color:#0c5460;border:1px solid #bee5eb}.alert.alert-info[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#17a2b8}"]})};var Zb={production:!1,apiBaseUrl:"https://api.gemura.rw/v2",appName:"Gemura",appVersion:"1.0.0",features:{enableAnalytics:!0,enableNotifications:!0,enableChat:!0,enableReports:!0},auth:{tokenKey:"gemura.token",userKey:"gemura.user",loginKey:"gemura.isLoggedIn",sessionTimeout:18e5},ui:{theme:{primary:"#004AAD",secondary:"#515365",success:"#1abc9c",info:"#3498db",warning:"#f1c40f",danger:"#e74c3c"},sidebar:{width:240,miniWidth:70,headerHeight:90}},endpoints:{auth:"/auth",profile:"/profile",users:"/users",entities:"/entities",roles:"/roles",permissions:"/permissions",audit:"/audit",logs:"/logs"}};var Pn=class n{config=Zb;get apiBaseUrl(){return this.config.apiBaseUrl}get authEndpoint(){return this.config.endpoints.auth}get profileEndpoint(){return this.config.endpoints.profile}get usersEndpoint(){return this.config.endpoints.users}get entitiesEndpoint(){return this.config.endpoints.entities}get rolesEndpoint(){return this.config.endpoints.roles}get permissionsEndpoint(){return this.config.endpoints.permissions}get auditEndpoint(){return this.config.endpoints.audit}get logsEndpoint(){return this.config.endpoints.logs}get appName(){return this.config.appName}get appVersion(){return this.config.appVersion}get isProduction(){return this.config.production}get features(){return this.config.features}isFeatureEnabled(t){return this.config.features[t]}get authConfig(){return this.config.auth}get tokenKey(){return this.config.auth.tokenKey}get userKey(){return this.config.auth.userKey}get loginKey(){return this.config.auth.loginKey}get sessionTimeout(){return this.config.auth.sessionTimeout}get uiConfig(){return this.config.ui}get theme(){return this.config.ui.theme}get sidebarConfig(){return this.config.ui.sidebar}getFullUrl(t){return`${this.apiBaseUrl}${t}`}getAuthUrl(t){return`${this.apiBaseUrl}${this.authEndpoint}${t}`}getProfileUrl(t){return`${this.apiBaseUrl}${this.profileEndpoint}${t}`}get isDevelopment(){return!this.isProduction}get isDebugMode(){return this.isDevelopment}static \u0275fac=function(e){return new(e||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var Le=class n{constructor(t,e){this.http=t;this.configService=e;let o=localStorage.getItem(this.configService.userKey);o&&(this.currentUser=JSON.parse(o));let i=localStorage.getItem("gemura.currentAccount");i&&(this.currentAccount=JSON.parse(i));let r=localStorage.getItem("gemura.availableAccounts");r&&(this.availableAccounts=JSON.parse(r)),this.currentAccountSubject.next(this.currentAccount)}currentUser=null;currentAccount=null;availableAccounts=[];currentAccountSubject=new Ne(null);currentAccount$=this.currentAccountSubject.asObservable();login(t,e){let o={identifier:t,password:e};return console.log("\u{1F527} AuthService: Attempting login with:",{identifier:t,password:"***"}),console.log("\u{1F527} AuthService: API URL:",this.configService.getAuthUrl("/login")),je(fetch(this.configService.getAuthUrl("/login"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(o),mode:"cors"}).then(i=>i.json().then(r=>{if(r.code&&r.status==="error")throw new Error(r.message||"Login failed");return r}))).pipe(J(i=>{if(console.log("\u{1F527} AuthService: Full API response:",i),console.log("\u{1F527} AuthService: Response code:",i.code),console.log("\u{1F527} AuthService: Response status:",i.status),i.code===200&&i.status==="success"){let r=i.data;if(console.log("\u{1F527} AuthService: Response data:",r),r){let{user:s,account:u,accounts:p,total_accounts:C,profile_completion:y}=r,x={id:s.id.toString(),name:s.name,email:s.email,phoneNumber:s.phone,role:u?.type||s.account_type,accountType:u?.type||s.account_type||"mcc",accountCode:u?.code,accountName:u?.name,avatar:s.profilePicture||s.profile_img,createdAt:new Date,lastLoginAt:new Date,isActive:s.status==="active",about:s.about,address:s.address,province:s.province,district:s.district,sector:s.sector,cell:s.cell,village:s.village,idNumber:s.idNumber||s.id_number,kycStatus:s.kycStatus||s.kyc_status,token:s.token,permissions:s.permissions,isAgentCandidate:s.isAgentCandidate||!1};this.currentUser=x,this.currentAccount=u;let O=(p||[]).filter(P=>!P.account_name.toLowerCase().includes("system"));return this.availableAccounts=O,localStorage.setItem(this.configService.userKey,JSON.stringify(x)),localStorage.setItem(this.configService.tokenKey,x.token||""),localStorage.setItem(this.configService.loginKey,"true"),localStorage.setItem("gemura.currentAccount",JSON.stringify(u)),localStorage.setItem("gemura.availableAccounts",JSON.stringify(O)),localStorage.setItem("gemura.profileCompletion",y.toString()),this.currentAccountSubject.next(u),x}}throw i.code&&i.status==="error"?new Error(i.message||"Login failed"):new Error("Unexpected response format")}),ae(i=>(console.error("\u{1F527} AuthService: Login error:",i),console.error("\u{1F527} AuthService: Error message:",i.message),i.message?Se(()=>i.message):i.name==="TypeError"&&i.message.includes("fetch")?Se(()=>"Please check your internet connection and try again."):Se(()=>"An unexpected error occurred. Please try again."))))}logout(){return this.http.post(this.configService.getAuthUrl("/logout"),{}).pipe(J(()=>{this.clearLocalData()}),ae(()=>(this.clearLocalData(),Y(null))))}clearLocalData(){this.currentUser=null,this.currentAccount=null,this.availableAccounts=[],localStorage.removeItem(this.configService.userKey),localStorage.removeItem(this.configService.tokenKey),localStorage.removeItem(this.configService.loginKey),localStorage.removeItem("gemura.currentAccount"),localStorage.removeItem("gemura.availableAccounts"),localStorage.removeItem("gemura.profileCompletion")}isLoggedIn(){return!!this.currentUser}getCurrentUser(){return this.currentUser}getToken(){return localStorage.getItem(this.configService.tokenKey)}getUserRole(){return this.currentUser?.role||""}register(t){let e={name:t.name,account_name:t.accountName,email:t.email,phone:t.phoneNumber,password:t.password,nid:t.idNumber,role:t.accountType,account_type:t.accountType,permissions:t.permissions||{},is_agent_candidate:t.isAgentCandidate||!1};return this.http.post(this.configService.getAuthUrl("/register"),e).pipe(J(o=>{if(o.statusCode===200||o.statusCode===201){let i=o.data;if(i){let{user:r,account:s,token:u}=i,p={id:r.id,name:r.name,email:r.email,phoneNumber:r.phoneNumber||r.phone,role:s?.type||r.role,accountType:s?.type||r.accountType||"mcc",accountCode:s?.code,accountName:s?.name,avatar:r.profilePicture||r.profile_img,createdAt:new Date(r.createdAt||r.created_at),isActive:r.isActive!==!1,about:r.about,address:r.address,province:r.province,district:r.district,sector:r.sector,cell:r.cell,village:r.village,idNumber:r.idNumber||r.id_number,kycStatus:r.kycStatus||r.kyc_status,token:r.token||u,permissions:r.permissions,isAgentCandidate:r.isAgentCandidate||!1};return this.currentUser=p,localStorage.setItem(this.configService.userKey,JSON.stringify(p)),localStorage.setItem(this.configService.tokenKey,p.token||u),localStorage.setItem(this.configService.loginKey,"true"),p}}throw new Error(o.message||"Registration failed")}),ae(o=>(console.error("Registration error:",o),Se(()=>this.handleHttpError(o)))))}requestPasswordReset(t){let e={};return t&&t.trim()!==""&&(e.email=t),this.http.post(this.configService.getAuthUrl("/request_reset.php"),e).pipe(J(o=>o),ae(o=>(console.error("Password reset request error:",o),Se(()=>this.handleHttpError(o)))))}resetPassword(t,e,o){return this.http.post(this.configService.getAuthUrl("/reset_password.php"),{user_id:t,reset_code:e,new_password:o}).pipe(J(i=>i),ae(i=>(console.error("Password reset error:",i),Se(()=>this.handleHttpError(i)))))}handleHttpError(t){if(t.status===0)return"Please check your internet connection and try again.";switch(t.status){case 400:return`Bad request: ${t.error?.message||"Invalid request"}`;case 401:return"Authentication failed. Please try again.";case 403:return`Access denied: ${t.error?.message||"Insufficient permissions"}`;case 404:return`Resource not found: ${t.error?.message||"Requested resource not found"}`;case 422:return`Validation error: ${t.error?.message||"Please check your input"}`;case 500:return"Something went wrong. Please try again later.";default:return`Error ${t.status}: ${t.error?.message||"An unexpected error occurred"}`}}getProfile(){let t=this.getToken();return t?this.http.post(this.configService.getProfileUrl("/get.php"),{token:t}).pipe(J(e=>{if(e.statusCode===200&&e.data){let o=e.data.user,i={id:o.id,name:o.name,email:o.email,phoneNumber:o.phoneNumber||o.phone,role:o.role,accountType:o.accountType||o.account_type,accountCode:o.accountCode||o.account_code,accountName:o.accountName||o.account_name,avatar:o.profilePicture||o.profile_img,createdAt:new Date(o.createdAt||o.created_at),lastLoginAt:o.lastLoginAt?new Date(o.lastLoginAt):void 0,isActive:o.isActive!==!1,about:o.about,address:o.address,province:o.province,district:o.district,sector:o.sector,cell:o.cell,village:o.village,idNumber:o.idNumber||o.id_number,kycStatus:o.kycStatus||o.kyc_status,token:o.token,permissions:o.permissions,isAgentCandidate:o.isAgentCandidate};return this.currentUser=i,localStorage.setItem(this.configService.userKey,JSON.stringify(i)),i}else throw new Error(e.message||"Failed to fetch profile")}),ae(e=>{console.error("Profile fetch error:",e);let o=localStorage.getItem(this.configService.userKey);if(o){let i=JSON.parse(o);return this.currentUser=i,Y(i)}return Se(()=>this.handleHttpError(e))})):Se(()=>"No authentication token found")}updateProfile(t){let e=this.getToken();if(!e)return Se(()=>"No authentication token found");let o=w({token:e},t);return this.http.post(this.configService.getProfileUrl("/update.php"),o).pipe(J(i=>{if(i.statusCode===200&&i.data){let r=i.data.user,s=$(w(w({},this.currentUser),r),{id:r.id||this.currentUser.id,createdAt:r.createdAt?new Date(r.createdAt):this.currentUser.createdAt});return this.currentUser=s,localStorage.setItem(this.configService.userKey,JSON.stringify(s)),s}else throw new Error(i.message||"Profile update failed")}),ae(i=>(console.error("Profile update error:",i),Se(()=>this.handleHttpError(i)))))}validatePassword(t){let e=this.getToken();return e?this.http.post(this.configService.getAuthUrl("/validate-password"),{password:t},{headers:{Authorization:`Bearer ${e}`}}).pipe(J(o=>o.success&&o.data?.valid===!0),ae(()=>Y(!1))):Se(()=>"No authentication token found")}getCurrentAccount(){return this.currentAccount}getAvailableAccounts(){return this.availableAccounts}fetchUserAccounts(){let t=this.getToken();return t?this.http.post(this.configService.getFullUrl("/accounts/get"),{token:t}).pipe(J(e=>{if(e.code===200&&e.data){let{accounts:o}=e.data,i=(o||[]).filter(s=>!s.account_name.toLowerCase().includes("system"));this.availableAccounts=i;let r=i.find(s=>s.is_default);return r&&(!this.currentAccount||this.currentAccount.account_id!==r.account_id)&&(this.currentAccount=r,localStorage.setItem("gemura.currentAccount",JSON.stringify(r))),localStorage.setItem("gemura.availableAccounts",JSON.stringify(i)),e.data}throw new Error(e.message||"Failed to fetch accounts")}),ae(e=>(console.error("Failed to fetch user accounts:",e),Se(()=>this.handleHttpError(e))))):Se(()=>"No authentication token found")}switchAccount(t){let e=this.getToken();return e?this.http.post(this.configService.getFullUrl("/accounts/switch"),{token:e,account_id:t.account_id}).pipe(J(o=>{if(o.code===200&&o.data){let{account:i,accounts:r}=o.data,s=(r||[]).filter(u=>!u.account_name.toLowerCase().includes("system"));return this.currentAccount=i,this.availableAccounts=s,this.currentUser&&(this.currentUser.role=i.role,this.currentUser.accountType=i.account_type,this.currentUser.accountCode=i.account_code,this.currentUser.accountName=i.account_name,this.currentUser.permissions=i.permissions,localStorage.setItem(this.configService.userKey,JSON.stringify(this.currentUser))),localStorage.setItem("gemura.currentAccount",JSON.stringify(i)),localStorage.setItem("gemura.availableAccounts",JSON.stringify(s)),this.currentAccountSubject.next(i),console.log("\u{1F527} AuthService: Account switched to:",i.account_name),o.data}throw new Error(o.message||"Failed to switch account")}),ae(o=>(console.error("Failed to switch account:",o),Se(()=>this.handleHttpError(o))))):Se(()=>"No authentication token found")}getProfileCompletion(){let t=localStorage.getItem("gemura.profileCompletion");return t?parseInt(t,10):0}hasMultipleAccounts(){return this.availableAccounts.length>1}getDefaultAccount(){return this.availableAccounts.find(t=>t.is_default)||null}getAccountById(t){return this.availableAccounts.find(e=>e.account_id===t)||null}static \u0275fac=function(e){return new(e||n)(j(ot),j(Pn))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function $D(n,t){n&1&&g(0,"span",11)}function WD(n,t){if(n&1){let e=k();a(0,"form",2),v("ngSubmit",function(){h(e);let i=f();return _(i.onSubmit())}),g(1,"app-form-input",3)(2,"app-form-input",4)(3,"app-alert",5)(4,"app-alert",6),a(5,"button",7),M(6,$D,1,0,"span",8),l(7),c(),a(8,"div",9)(9,"a",10),l(10," Forgot Password? "),c()()()}if(n&2){let e,o,i=f();m("formGroup",i.loginForm),d(),m("isInvalid",!!((e=i.loginForm.get("identifier"))!=null&&e.invalid&&((e=i.loginForm.get("identifier"))!=null&&e.touched))),d(),m("isInvalid",!!((o=i.loginForm.get("password"))!=null&&o.invalid&&((o=i.loginForm.get("password"))!=null&&o.touched)))("showPasswordToggle",!0),d(),m("message",i.errorMessage),d(),m("message",i.successMessage),d(),m("disabled",i.loginForm.invalid||i.isLoading),d(),m("ngIf",i.isLoading),d(),T(" ",i.isLoading?"Logging in...":"Log In"," ")}}var mu=class n{constructor(t,e,o){this.fb=t;this.authService=e;this.router=o;this.loginForm=this.fb.group({identifier:["",[st.required]],password:["",st.required]})}loginForm;isLoading=!1;errorMessage="";successMessage="";isSuccess=!1;ngOnInit(){}onSubmit(){if(this.loginForm.valid){this.isLoading=!0,this.errorMessage="";let{identifier:t,password:e}=this.loginForm.value;this.authService.login(t,e).subscribe({next:o=>{console.log("\u{1F527} LoginComponent: Login successful:",o),this.isLoading=!1,this.isSuccess=!0,this.successMessage="",this.errorMessage="",this.router.navigate(["/dashboard"])},error:o=>{console.log("\u{1F527} LoginComponent: Login failed:",o),this.isLoading=!1,this.isSuccess=!1,this.errorMessage=o,this.successMessage=""}})}else Object.keys(this.loginForm.controls).forEach(t=>{let e=this.loginForm.get(t);e?.invalid&&e.markAsTouched()})}static \u0275fac=function(e){return new(e||n)(D(ua),D(Le),D(Ae))};static \u0275cmp=N({type:n,selectors:[["app-login"]],decls:3,vars:0,consts:[["formTemplate",""],["title","Log In to Gemura","authLinkText","New Here?","authLinkLabel","Create Account","authLinkRoute","/register"],[1,"auth-form",3,"ngSubmit","formGroup"],["type","text","placeholder","Email or Phone Number","iconClass","fas fa-user","formControlName","identifier","errorMessage","Please enter a valid email or phone number",3,"isInvalid"],["type","password","placeholder","Password","iconClass","fas fa-lock","formControlName","password","errorMessage","Password is required",3,"isInvalid","showPasswordToggle"],["type","danger",3,"message"],["type","success",3,"message"],["type","submit",1,"auth-btn",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"auth-links"],["routerLink","/forgot-password",1,"forgot-password-link"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,o){e&1&&(a(0,"app-auth-layout",1),M(1,WD,11,9,"ng-template",null,0,ut),c())},dependencies:[R,G,fe,wt,pa,De,se,Ie,Xi,er,ga,po,mo],styles:[`.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]{width:100%;padding:12px;background:#004aad;color:#fff;border:none;border-radius:4px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#003f94;transform:translateY(-1px);box-shadow:0 4px 8px #004aad4d}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none;box-shadow:none}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem}.auth-form[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem}.auth-form[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]{color:#004aad;text-decoration:none;font-size:.9rem;font-weight:500}.auth-form[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]:hover{text-decoration:underline}[_ngcontent-%COMP%]:root{--second-rotation: 0deg;--minute-rotation: 0deg;--hour-rotation: 0deg}.auth-page[_ngcontent-%COMP%]{display:flex;min-height:100vh;width:100%}.login-section[_ngcontent-%COMP%]{width:40%;min-width:500px;background:#fff;display:flex;align-items:center;justify-content:center;padding:2rem}.login-container[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:0 20px}.login-container[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-container[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-width:100px;height:auto;object-fit:contain}.login-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:500;color:#333;margin-bottom:1rem}.login-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#004aad;font-weight:600}.new-user[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:.9rem}.new-user[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#666}.new-user[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#004aad;text-decoration:none;font-weight:500}.new-user[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:4px;margin-bottom:1rem;font-size:.9rem;display:flex;align-items:center;gap:8px}.login-form[_ngcontent-%COMP%]   .alert.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.login-form[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.login-form[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#28a745}.input-wrapper[_ngcontent-%COMP%]{position:relative}.input-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:#666;font-size:1rem}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:12px 15px 12px 40px;border:1px solid #e0e0e0;border-radius:4px;font-size:.9rem;transition:all .3s ease;background-color:#fff;cursor:pointer}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder{color:#999}.input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#004aad;box-shadow:0 0 2px #004aad1a}.input-wrapper[_ngcontent-%COMP%]   input.is-invalid[_ngcontent-%COMP%], .input-wrapper[_ngcontent-%COMP%]   select.is-invalid[_ngcontent-%COMP%]{border-color:#e74c3c}.input-wrapper[_ngcontent-%COMP%]   input.is-invalid[_ngcontent-%COMP%]:focus, .input-wrapper[_ngcontent-%COMP%]   select.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 2px #e74c3c1a}.input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right 12px center;background-size:16px;padding-right:40px;cursor:pointer}.input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#c7c7c7}.input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px;background-color:#fff;color:#333;font-size:.9rem}.input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:first-child{color:#999;font-style:italic}.input-wrapper[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:38px;top:50%;transform:translateY(-50%);background:none;border:none;color:#666;cursor:pointer;padding:4px;font-size:.9rem;transition:color .3s ease;z-index:2}.input-wrapper[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover{color:#004aad}.input-wrapper[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:focus{outline:none;color:#004aad}.input-wrapper[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.login-btn[_ngcontent-%COMP%]{width:100%;padding:12px;background:#004aad;color:#fff;border:none;border-radius:4px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#003f94}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.auth-links[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.auth-links[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]{color:#004aad;text-decoration:none;font-size:14px;font-weight:500;transition:color .3s ease}.auth-links[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]:hover{color:#00347a;text-decoration:underline}.auth-links[_ngcontent-%COMP%]   .back-to-login-link[_ngcontent-%COMP%]{color:#004aad;text-decoration:none;font-size:14px;font-weight:500;transition:color .3s ease}.auth-links[_ngcontent-%COMP%]   .back-to-login-link[_ngcontent-%COMP%]:hover{color:#00347a;text-decoration:underline}.footer-text[_ngcontent-%COMP%]{margin-top:3rem;text-align:left;color:#666;font-size:.85rem}.footer-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.3rem 0;line-height:1.4}.background-section[_ngcontent-%COMP%]{flex:1;background:linear-gradient(#0000004d,#0000004d),url("./media/splash-XWW2IWNT.jpg");background-size:cover;background-position:center;position:relative;display:flex;align-items:center;justify-content:center}.analog-clock[_ngcontent-%COMP%]{text-align:center;color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;gap:1.5rem}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]{width:300px;height:300px;border-radius:50%;background:#00000080;position:relative;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);box-shadow:0 0 30px #0000004d;border:2px solid rgba(255,255,255,.1)}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;top:0;left:0;border-radius:50%;background:linear-gradient(45deg,rgba(255,255,255,.1),transparent)}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;width:30px;height:30px;text-align:center;font-size:1.2rem;font-weight:500;color:#fff}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){top:10px;left:calc(50% - 15px)}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){top:10%;right:25%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){top:25%;right:10%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){top:calc(50% - 15px);right:10px}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){bottom:25%;right:10%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(6){bottom:10%;right:25%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(7){bottom:10px;left:calc(50% - 15px)}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(8){bottom:10%;left:25%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(9){bottom:25%;left:10%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(10){top:calc(50% - 15px);left:10px}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(11){top:25%;left:10%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(12){top:10%;left:25%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]{position:absolute;bottom:50%;left:50%;transform-origin:bottom;border-radius:4px;pointer-events:none;z-index:2}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .hand.hour-hand[_ngcontent-%COMP%]{width:4px;height:70px;background:#fff;transform:translate(-50%) rotate(var(--hour-rotation))}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .hand.minute-hand[_ngcontent-%COMP%]{width:3px;height:90px;background:#fff;transform:translate(-50%) rotate(var(--minute-rotation))}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .hand.second-hand[_ngcontent-%COMP%]{width:2px;height:100px;background:#ff6b6b;transform:translate(-50%) rotate(var(--second-rotation))}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .center-dot[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:12px;height:12px;border-radius:50%;background:#fff;transform:translate(-50%,-50%);z-index:3}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .center-dot[_ngcontent-%COMP%]:after{content:"";position:absolute;width:6px;height:6px;background:#ff6b6b;border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%)}.analog-clock[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:400;opacity:.9;text-shadow:0 2px 4px rgba(0,0,0,.2);margin-top:1rem}@media (max-width: 992px){.login-section[_ngcontent-%COMP%]{width:100%;min-width:auto}.background-section[_ngcontent-%COMP%]{display:none}}`]})};function qD(n,t){if(n&1&&(a(0,"option",23),l(1),c()),n&2){let e=t.$implicit;m("value",e.code),d(),ke(" ",e.flag," ",e.code," ")}}function GD(n,t){n&1&&(a(0,"div",24),l(1," Phone number is required "),c())}function YD(n,t){n&1&&g(0,"span",25)}function ZD(n,t){if(n&1){let e=k();a(0,"form",2),v("ngSubmit",function(){h(e);let i=f();return _(i.onSubmit())}),g(1,"app-form-input",3)(2,"app-form-input",4)(3,"app-form-input",5),a(4,"div",6)(5,"div",7)(6,"div",8)(7,"div",9)(8,"select",10),M(9,qD,2,3,"option",11),c()(),a(10,"div",12),g(11,"i",13)(12,"input",14),c()()(),M(13,GD,2,0,"div",15),c(),g(14,"div",16)(15,"app-form-input",17)(16,"app-form-input",18)(17,"app-form-input",19)(18,"app-alert",20),a(19,"button",21),M(20,YD,1,0,"span",22),l(21),c()()}if(n&2){let e,o,i,r,s,u,p,C,y=f();m("formGroup",y.registerForm),d(),m("isInvalid",!!((e=y.registerForm.get("accountType"))!=null&&e.invalid&&((e=y.registerForm.get("accountType"))!=null&&e.touched)))("options",y.accountTypeOptions),d(),m("isInvalid",!!((o=y.registerForm.get("name"))!=null&&o.invalid&&((o=y.registerForm.get("name"))!=null&&o.touched))),d(),m("isInvalid",!!((i=y.registerForm.get("email"))!=null&&i.invalid&&((i=y.registerForm.get("email"))!=null&&i.touched))),d(6),m("ngForOf",y.countryCodes),d(3),H("is-invalid",!!((r=y.registerForm.get("phoneNumber"))!=null&&r.invalid&&((r=y.registerForm.get("phoneNumber"))!=null&&r.touched))),d(),m("ngIf",!!((s=y.registerForm.get("phoneNumber"))!=null&&s.invalid&&((s=y.registerForm.get("phoneNumber"))!=null&&s.touched))),d(2),m("isInvalid",!!((u=y.registerForm.get("idNumber"))!=null&&u.invalid&&((u=y.registerForm.get("idNumber"))!=null&&u.touched))),d(),m("isInvalid",!!((p=y.registerForm.get("password"))!=null&&p.invalid&&((p=y.registerForm.get("password"))!=null&&p.touched)))("showPasswordToggle",!0),d(),m("isInvalid",!!((C=y.registerForm.get("confirmPassword"))!=null&&C.invalid&&((C=y.registerForm.get("confirmPassword"))!=null&&C.touched)))("showPasswordToggle",!0),d(),m("message",y.errorMessage),d(),m("disabled",y.registerForm.invalid||y.isLoading),d(),m("ngIf",y.isLoading),d(),T(" ",y.isLoading?"Creating Account...":"Create Account"," ")}}var gu=class n{constructor(t,e,o){this.fb=t;this.authService=e;this.router=o;this.registerForm=this.fb.group({name:["",[st.required,st.minLength(2)]],accountName:["",[st.required,st.minLength(2)]],email:["",[st.email]],countryCode:["+250",[st.required]],phoneNumber:["",[st.required,st.pattern(/^[0-9\s\-\(\)]+$/)]],idNumber:[""],password:["",[st.required,st.minLength(6)]],confirmPassword:["",[st.required]],accountType:["",[st.required]]},{validators:this.passwordMatchValidator}),this.registerForm.get("name")?.valueChanges.subscribe(i=>{i&&i.trim()&&this.registerForm.get("accountName")?.setValue(i.trim(),{emitEvent:!1})})}registerForm;isLoading=!1;errorMessage="";countryCodes=[{code:"+250",country:"Rwanda",flag:"\u{1F1F7}\u{1F1FC}"},{code:"+256",country:"Uganda",flag:"\u{1F1FA}\u{1F1EC}"},{code:"+254",country:"Kenya",flag:"\u{1F1F0}\u{1F1EA}"},{code:"+255",country:"Tanzania",flag:"\u{1F1F9}\u{1F1FF}"},{code:"+243",country:"DRC",flag:"\u{1F1E8}\u{1F1E9}"},{code:"+257",country:"Burundi",flag:"\u{1F1E7}\u{1F1EE}"},{code:"+1",country:"USA",flag:"\u{1F1FA}\u{1F1F8}"},{code:"+1",country:"Canada",flag:"\u{1F1E8}\u{1F1E6}"},{code:"+44",country:"UK",flag:"\u{1F1EC}\u{1F1E7}"},{code:"+33",country:"France",flag:"\u{1F1EB}\u{1F1F7}"},{code:"+49",country:"Germany",flag:"\u{1F1E9}\u{1F1EA}"},{code:"+86",country:"China",flag:"\u{1F1E8}\u{1F1F3}"},{code:"+91",country:"India",flag:"\u{1F1EE}\u{1F1F3}"},{code:"+81",country:"Japan",flag:"\u{1F1EF}\u{1F1F5}"},{code:"+82",country:"South Korea",flag:"\u{1F1F0}\u{1F1F7}"},{code:"+61",country:"Australia",flag:"\u{1F1E6}\u{1F1FA}"},{code:"+27",country:"South Africa",flag:"\u{1F1FF}\u{1F1E6}"},{code:"+234",country:"Nigeria",flag:"\u{1F1F3}\u{1F1EC}"},{code:"+233",country:"Ghana",flag:"\u{1F1EC}\u{1F1ED}"},{code:"+254",country:"Kenya",flag:"\u{1F1F0}\u{1F1EA}"},{code:"+251",country:"Ethiopia",flag:"\u{1F1EA}\u{1F1F9}"},{code:"+212",country:"Morocco",flag:"\u{1F1F2}\u{1F1E6}"},{code:"+20",country:"Egypt",flag:"\u{1F1EA}\u{1F1EC}"},{code:"+234",country:"Nigeria",flag:"\u{1F1F3}\u{1F1EC}"},{code:"+27",country:"South Africa",flag:"\u{1F1FF}\u{1F1E6}"},{code:"+7",country:"Russia",flag:"\u{1F1F7}\u{1F1FA}"},{code:"+55",country:"Brazil",flag:"\u{1F1E7}\u{1F1F7}"},{code:"+54",country:"Argentina",flag:"\u{1F1E6}\u{1F1F7}"},{code:"+52",country:"Mexico",flag:"\u{1F1F2}\u{1F1FD}"},{code:"+57",country:"Colombia",flag:"\u{1F1E8}\u{1F1F4}"},{code:"+51",country:"Peru",flag:"\u{1F1F5}\u{1F1EA}"},{code:"+56",country:"Chile",flag:"\u{1F1E8}\u{1F1F1}"},{code:"+598",country:"Uruguay",flag:"\u{1F1FA}\u{1F1FE}"},{code:"+595",country:"Paraguay",flag:"\u{1F1F5}\u{1F1FE}"},{code:"+591",country:"Bolivia",flag:"\u{1F1E7}\u{1F1F4}"},{code:"+593",country:"Ecuador",flag:"\u{1F1EA}\u{1F1E8}"},{code:"+58",country:"Venezuela",flag:"\u{1F1FB}\u{1F1EA}"},{code:"+39",country:"Italy",flag:"\u{1F1EE}\u{1F1F9}"},{code:"+34",country:"Spain",flag:"\u{1F1EA}\u{1F1F8}"},{code:"+31",country:"Netherlands",flag:"\u{1F1F3}\u{1F1F1}"},{code:"+32",country:"Belgium",flag:"\u{1F1E7}\u{1F1EA}"},{code:"+41",country:"Switzerland",flag:"\u{1F1E8}\u{1F1ED}"},{code:"+43",country:"Austria",flag:"\u{1F1E6}\u{1F1F9}"},{code:"+45",country:"Denmark",flag:"\u{1F1E9}\u{1F1F0}"},{code:"+46",country:"Sweden",flag:"\u{1F1F8}\u{1F1EA}"},{code:"+47",country:"Norway",flag:"\u{1F1F3}\u{1F1F4}"},{code:"+358",country:"Finland",flag:"\u{1F1EB}\u{1F1EE}"},{code:"+48",country:"Poland",flag:"\u{1F1F5}\u{1F1F1}"},{code:"+420",country:"Czech Republic",flag:"\u{1F1E8}\u{1F1FF}"},{code:"+421",country:"Slovakia",flag:"\u{1F1F8}\u{1F1F0}"},{code:"+36",country:"Hungary",flag:"\u{1F1ED}\u{1F1FA}"},{code:"+40",country:"Romania",flag:"\u{1F1F7}\u{1F1F4}"},{code:"+359",country:"Bulgaria",flag:"\u{1F1E7}\u{1F1EC}"},{code:"+385",country:"Croatia",flag:"\u{1F1ED}\u{1F1F7}"},{code:"+386",country:"Slovenia",flag:"\u{1F1F8}\u{1F1EE}"},{code:"+372",country:"Estonia",flag:"\u{1F1EA}\u{1F1EA}"},{code:"+371",country:"Latvia",flag:"\u{1F1F1}\u{1F1FB}"},{code:"+370",country:"Lithuania",flag:"\u{1F1F1}\u{1F1F9}"},{code:"+353",country:"Ireland",flag:"\u{1F1EE}\u{1F1EA}"},{code:"+351",country:"Portugal",flag:"\u{1F1F5}\u{1F1F9}"},{code:"+30",country:"Greece",flag:"\u{1F1EC}\u{1F1F7}"},{code:"+90",country:"Turkey",flag:"\u{1F1F9}\u{1F1F7}"},{code:"+966",country:"Saudi Arabia",flag:"\u{1F1F8}\u{1F1E6}"},{code:"+971",country:"UAE",flag:"\u{1F1E6}\u{1F1EA}"},{code:"+974",country:"Qatar",flag:"\u{1F1F6}\u{1F1E6}"},{code:"+965",country:"Kuwait",flag:"\u{1F1F0}\u{1F1FC}"},{code:"+973",country:"Bahrain",flag:"\u{1F1E7}\u{1F1ED}"},{code:"+968",country:"Oman",flag:"\u{1F1F4}\u{1F1F2}"},{code:"+60",country:"Malaysia",flag:"\u{1F1F2}\u{1F1FE}"},{code:"+65",country:"Singapore",flag:"\u{1F1F8}\u{1F1EC}"},{code:"+66",country:"Thailand",flag:"\u{1F1F9}\u{1F1ED}"},{code:"+84",country:"Vietnam",flag:"\u{1F1FB}\u{1F1F3}"},{code:"+63",country:"Philippines",flag:"\u{1F1F5}\u{1F1ED}"},{code:"+62",country:"Indonesia",flag:"\u{1F1EE}\u{1F1E9}"},{code:"+880",country:"Bangladesh",flag:"\u{1F1E7}\u{1F1E9}"},{code:"+92",country:"Pakistan",flag:"\u{1F1F5}\u{1F1F0}"},{code:"+93",country:"Afghanistan",flag:"\u{1F1E6}\u{1F1EB}"},{code:"+98",country:"Iran",flag:"\u{1F1EE}\u{1F1F7}"},{code:"+964",country:"Iraq",flag:"\u{1F1EE}\u{1F1F6}"},{code:"+963",country:"Syria",flag:"\u{1F1F8}\u{1F1FE}"},{code:"+961",country:"Lebanon",flag:"\u{1F1F1}\u{1F1E7}"},{code:"+962",country:"Jordan",flag:"\u{1F1EF}\u{1F1F4}"},{code:"+972",country:"Israel",flag:"\u{1F1EE}\u{1F1F1}"},{code:"+970",country:"Palestine",flag:"\u{1F1F5}\u{1F1F8}"},{code:"+20",country:"Egypt",flag:"\u{1F1EA}\u{1F1EC}"},{code:"+218",country:"Libya",flag:"\u{1F1F1}\u{1F1FE}"},{code:"+216",country:"Tunisia",flag:"\u{1F1F9}\u{1F1F3}"},{code:"+213",country:"Algeria",flag:"\u{1F1E9}\u{1F1FF}"},{code:"+212",country:"Morocco",flag:"\u{1F1F2}\u{1F1E6}"},{code:"+220",country:"Gambia",flag:"\u{1F1EC}\u{1F1F2}"},{code:"+221",country:"Senegal",flag:"\u{1F1F8}\u{1F1F3}"},{code:"+223",country:"Mali",flag:"\u{1F1F2}\u{1F1F1}"},{code:"+224",country:"Guinea",flag:"\u{1F1EC}\u{1F1F3}"},{code:"+225",country:"Ivory Coast",flag:"\u{1F1E8}\u{1F1EE}"},{code:"+226",country:"Burkina Faso",flag:"\u{1F1E7}\u{1F1EB}"},{code:"+227",country:"Niger",flag:"\u{1F1F3}\u{1F1EA}"},{code:"+228",country:"Togo",flag:"\u{1F1F9}\u{1F1EC}"},{code:"+229",country:"Benin",flag:"\u{1F1E7}\u{1F1EF}"},{code:"+230",country:"Mauritius",flag:"\u{1F1F2}\u{1F1FA}"},{code:"+231",country:"Liberia",flag:"\u{1F1F1}\u{1F1F7}"},{code:"+232",country:"Sierra Leone",flag:"\u{1F1F8}\u{1F1F1}"},{code:"+233",country:"Ghana",flag:"\u{1F1EC}\u{1F1ED}"},{code:"+234",country:"Nigeria",flag:"\u{1F1F3}\u{1F1EC}"},{code:"+235",country:"Chad",flag:"\u{1F1F9}\u{1F1E9}"},{code:"+236",country:"Central African Republic",flag:"\u{1F1E8}\u{1F1EB}"},{code:"+237",country:"Cameroon",flag:"\u{1F1E8}\u{1F1F2}"},{code:"+238",country:"Cape Verde",flag:"\u{1F1E8}\u{1F1FB}"},{code:"+239",country:"S\xE3o Tom\xE9 and Pr\xEDncipe",flag:"\u{1F1F8}\u{1F1F9}"},{code:"+240",country:"Equatorial Guinea",flag:"\u{1F1EC}\u{1F1F6}"},{code:"+241",country:"Gabon",flag:"\u{1F1EC}\u{1F1E6}"},{code:"+242",country:"Republic of the Congo",flag:"\u{1F1E8}\u{1F1EC}"},{code:"+243",country:"DRC",flag:"\u{1F1E8}\u{1F1E9}"},{code:"+244",country:"Angola",flag:"\u{1F1E6}\u{1F1F4}"},{code:"+245",country:"Guinea-Bissau",flag:"\u{1F1EC}\u{1F1FC}"},{code:"+246",country:"British Indian Ocean Territory",flag:"\u{1F1EE}\u{1F1F4}"},{code:"+248",country:"Seychelles",flag:"\u{1F1F8}\u{1F1E8}"},{code:"+249",country:"Sudan",flag:"\u{1F1F8}\u{1F1E9}"},{code:"+250",country:"Rwanda",flag:"\u{1F1F7}\u{1F1FC}"},{code:"+251",country:"Ethiopia",flag:"\u{1F1EA}\u{1F1F9}"},{code:"+252",country:"Somalia",flag:"\u{1F1F8}\u{1F1F4}"},{code:"+253",country:"Djibouti",flag:"\u{1F1E9}\u{1F1EF}"},{code:"+254",country:"Kenya",flag:"\u{1F1F0}\u{1F1EA}"},{code:"+255",country:"Tanzania",flag:"\u{1F1F9}\u{1F1FF}"},{code:"+256",country:"Uganda",flag:"\u{1F1FA}\u{1F1EC}"},{code:"+257",country:"Burundi",flag:"\u{1F1E7}\u{1F1EE}"},{code:"+258",country:"Mozambique",flag:"\u{1F1F2}\u{1F1FF}"},{code:"+260",country:"Zambia",flag:"\u{1F1FF}\u{1F1F2}"},{code:"+261",country:"Madagascar",flag:"\u{1F1F2}\u{1F1EC}"},{code:"+262",country:"R\xE9union",flag:"\u{1F1F7}\u{1F1EA}"},{code:"+263",country:"Zimbabwe",flag:"\u{1F1FF}\u{1F1FC}"},{code:"+264",country:"Namibia",flag:"\u{1F1F3}\u{1F1E6}"},{code:"+265",country:"Malawi",flag:"\u{1F1F2}\u{1F1FC}"},{code:"+266",country:"Lesotho",flag:"\u{1F1F1}\u{1F1F8}"},{code:"+267",country:"Botswana",flag:"\u{1F1E7}\u{1F1FC}"},{code:"+268",country:"Swaziland",flag:"\u{1F1F8}\u{1F1FF}"},{code:"+269",country:"Comoros",flag:"\u{1F1F0}\u{1F1F2}"},{code:"+290",country:"Saint Helena",flag:"\u{1F1F8}\u{1F1ED}"},{code:"+291",country:"Eritrea",flag:"\u{1F1EA}\u{1F1F7}"},{code:"+297",country:"Aruba",flag:"\u{1F1E6}\u{1F1FC}"},{code:"+298",country:"Faroe Islands",flag:"\u{1F1EB}\u{1F1F4}"},{code:"+299",country:"Greenland",flag:"\u{1F1EC}\u{1F1F1}"}];accountTypeOptions=[{value:"farmer",label:"Farmer"},{value:"veterinarian",label:"Veterinarian"},{value:"supplier",label:"Supplier"},{value:"customer",label:"Customer"},{value:"agent",label:"Agent"},{value:"collector",label:"Collector"},{value:"mcc",label:"MCC"}];ngOnInit(){}passwordMatchValidator(t){let e=t.get("password"),o=t.get("confirmPassword");return e&&o&&e.value!==o.value?(o.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):(o&&o.hasError("passwordMismatch")&&o.setErrors(null),null)}onSubmit(){if(this.registerForm.valid){this.isLoading=!0,this.errorMessage="";let t=this.registerForm.value,e={name:t.name,accountName:t.accountName,email:t.email||null,phoneNumber:t.countryCode+t.phoneNumber,idNumber:t.idNumber||null,password:t.password,accountType:t.accountType};this.authService.register(e).subscribe({next:o=>{this.isLoading=!1,this.router.navigate(["/dashboard"])},error:o=>{this.isLoading=!1,this.errorMessage=o}})}else Object.keys(this.registerForm.controls).forEach(t=>{let e=this.registerForm.get(t);e?.invalid&&e.markAsTouched()})}static \u0275fac=function(e){return new(e||n)(D(ua),D(Le),D(Ae))};static \u0275cmp=N({type:n,selectors:[["app-register"]],decls:3,vars:0,consts:[["formTemplate",""],["title","Join Gemura","authLinkText","Already have an account?","authLinkLabel","Sign In","authLinkRoute","/login"],[1,"auth-form",3,"ngSubmit","formGroup"],["type","select","placeholder","Select Account Type","iconClass","fas fa-user-tag","formControlName","accountType","errorMessage","Please select an account type",3,"isInvalid","options"],["type","text","placeholder","Full Name","iconClass","fas fa-user","formControlName","name","errorMessage","Full name is required",3,"isInvalid"],["type","email","placeholder","Email (Optional)","iconClass","fas fa-envelope","formControlName","email","errorMessage","Please enter a valid email address",3,"isInvalid"],[1,"form-group"],[1,"unified-phone-input"],[1,"phone-input-wrapper"],[1,"country-code-section"],["formControlName","countryCode",1,"country-code-select"],[3,"value",4,"ngFor","ngForOf"],[1,"phone-number-section"],[1,"fas","fa-phone","input-icon"],["type","tel","placeholder","788123456","formControlName","phoneNumber",1,"phone-input"],["class","invalid-feedback",4,"ngIf"],[2,"margin-top","1rem"],["type","text","placeholder","National ID (Optional)","iconClass","fas fa-id-card","formControlName","idNumber","errorMessage","Please enter a valid National ID",3,"isInvalid"],["type","password","placeholder","Password","iconClass","fas fa-key","formControlName","password","errorMessage","Password is required and must be at least 6 characters",3,"isInvalid","showPasswordToggle"],["type","password","placeholder","Confirm Password","iconClass","fas fa-key","formControlName","confirmPassword","errorMessage","Passwords do not match",3,"isInvalid","showPasswordToggle"],["type","danger",3,"message"],["type","submit",1,"auth-btn",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[3,"value"],[1,"invalid-feedback"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,o){e&1&&(a(0,"app-auth-layout",1),M(1,ZD,22,18,"ng-template",null,0,ut),c())},dependencies:[R,ee,G,fe,pa,De,Oe,we,ve,Pe,se,Ie,Xi,er,ga,po,mo],styles:[`.auth-form[_ngcontent-%COMP%]   .unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]{display:flex;border:1px solid #d1d5db;border-radius:4px;background:#f9fafb;transition:all .2s ease;overflow:hidden}.auth-form[_ngcontent-%COMP%]   .unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#004aad;background:#fff;box-shadow:0 0 0 3px #004aad1a}.auth-form[_ngcontent-%COMP%]   .unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .country-code-section[_ngcontent-%COMP%]{flex-shrink:0;border-right:1px solid #d1d5db;background:#f3f4f6}.auth-form[_ngcontent-%COMP%]   .unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .country-code-section[_ngcontent-%COMP%]   .country-code-select[_ngcontent-%COMP%]{border:none;background:transparent;padding:12px 8px;font-size:14px;cursor:pointer;outline:none;min-width:100px;color:#374151}.auth-form[_ngcontent-%COMP%]   .unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .country-code-section[_ngcontent-%COMP%]   .country-code-select[_ngcontent-%COMP%]:focus{outline:none}.auth-form[_ngcontent-%COMP%]   .unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;align-items:center}.auth-form[_ngcontent-%COMP%]   .unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.auth-form[_ngcontent-%COMP%]   .unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]   .phone-input[_ngcontent-%COMP%]{width:100%;border:none;background:transparent;padding:12px 12px 12px 44px;font-size:16px;outline:none}.auth-form[_ngcontent-%COMP%]   .unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]   .phone-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.auth-form[_ngcontent-%COMP%]   .unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]   .phone-input[_ngcontent-%COMP%]:focus{outline:none}.auth-form[_ngcontent-%COMP%]   .unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]   .phone-input.is-invalid[_ngcontent-%COMP%]{color:#dc2626}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]{width:100%;padding:12px;background:#004aad;color:#fff;border:none;border-radius:4px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#003f94;transform:translateY(-1px);box-shadow:0 4px 8px #004aad4d}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none;box-shadow:none}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:1rem;height:1rem}[_ngcontent-%COMP%]:root{--second-rotation: 0deg;--minute-rotation: 0deg;--hour-rotation: 0deg}.auth-page[_ngcontent-%COMP%]{display:flex;min-height:100vh;width:100%}.login-section[_ngcontent-%COMP%]{width:40%;min-width:500px;background:#fff;display:flex;align-items:center;justify-content:center;padding:2rem}.login-section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{width:100%;max-width:400px}.login-section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-width:100px;height:auto;object-fit:contain}.login-section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin-bottom:.5rem;color:#333}.login-section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#004aad}.login-section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .new-user[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:.9rem;color:#666}.login-section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .new-user[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#004aad;text-decoration:none;font-weight:500}.login-section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .new-user[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#004aad;text-decoration:none;font-weight:500}.login-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:#666;font-size:1rem}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:12px 15px 12px 40px;border:1px solid #e0e0e0;border-radius:4px;font-size:.9rem;transition:all .3s ease;background-color:#fff;cursor:pointer}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder{color:#999}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#004aad;box-shadow:0 0 2px #004aad1a}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input.is-invalid[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select.is-invalid[_ngcontent-%COMP%]{border-color:#e74c3c}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input.is-invalid[_ngcontent-%COMP%]:focus, .login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 2px #e74c3c1a}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right 12px center;background-size:16px;padding-right:40px;cursor:pointer}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:hover{border-color:#c7c7c7}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{padding:8px;background-color:#fff;color:#333;font-size:.9rem}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:first-child{color:#999;font-style:italic}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{position:absolute;right:38px;top:50%;transform:translateY(-50%);background:none;border:none;color:#666;cursor:pointer;padding:4px;font-size:.9rem;transition:color .3s ease;z-index:2}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:hover{color:#004aad}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]:focus{outline:none;color:#004aad}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.login-btn[_ngcontent-%COMP%]{width:100%;padding:12px;background:#004aad;color:#fff;border:none;border-radius:4px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#003f94}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.auth-links[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.auth-links[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]{color:#004aad;text-decoration:none;font-size:14px;font-weight:500;transition:color .3s ease}.auth-links[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]:hover{color:#00347a;text-decoration:underline}.auth-links[_ngcontent-%COMP%]   .back-to-login-link[_ngcontent-%COMP%]{color:#004aad;text-decoration:none;font-size:14px;font-weight:500;transition:color .3s ease}.auth-links[_ngcontent-%COMP%]   .back-to-login-link[_ngcontent-%COMP%]:hover{color:#00347a;text-decoration:underline}.footer-text[_ngcontent-%COMP%]{margin-top:3rem;text-align:left;color:#666;font-size:.85rem}.footer-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.3rem 0;line-height:1.4}.background-section[_ngcontent-%COMP%]{flex:1;background:linear-gradient(#0000004d,#0000004d),url("./media/splash-XWW2IWNT.jpg");background-size:cover;background-position:center;position:relative;display:flex;align-items:center;justify-content:center}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]{text-align:center;color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;gap:1.5rem}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]{width:300px;height:300px;border-radius:50%;background:#00000080;position:relative;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);box-shadow:0 0 30px #0000004d;border:2px solid rgba(255,255,255,.1)}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;top:0;left:0;border-radius:50%;background:linear-gradient(45deg,rgba(255,255,255,.1),transparent)}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;width:30px;height:30px;text-align:center;font-size:1.2rem;font-weight:500;color:#fff}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){top:10px;left:calc(50% - 15px)}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){top:10%;right:25%}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){top:25%;right:10%}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){top:calc(50% - 15px);right:10px}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){bottom:25%;right:10%}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(6){bottom:10%;right:25%}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(7){bottom:10px;left:calc(50% - 15px)}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(8){bottom:10%;left:25%}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(9){bottom:25%;left:10%}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(10){top:calc(50% - 15px);left:10px}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(11){top:25%;left:10%}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(12){top:10%;left:25%}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]{position:absolute;bottom:50%;left:50%;transform-origin:bottom;border-radius:4px;pointer-events:none;z-index:2}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .hand.hour-hand[_ngcontent-%COMP%]{width:4px;height:70px;background:#fff;transform:translate(-50%) rotate(var(--hour-rotation))}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .hand.minute-hand[_ngcontent-%COMP%]{width:3px;height:90px;background:#fff;transform:translate(-50%) rotate(var(--minute-rotation))}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .hand.second-hand[_ngcontent-%COMP%]{width:2px;height:100px;background:#ff6b6b;transform:translate(-50%) rotate(var(--second-rotation))}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .center-dot[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:12px;height:12px;border-radius:50%;background:#fff;transform:translate(-50%,-50%);z-index:3}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .center-dot[_ngcontent-%COMP%]:after{content:"";position:absolute;width:6px;height:6px;background:#ff6b6b;border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%)}.background-section[_ngcontent-%COMP%]   .analog-clock[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:400;opacity:.9;text-shadow:0 2px 4px rgba(0,0,0,.2);margin-top:1rem}.invalid-feedback[_ngcontent-%COMP%]{color:#e74c3c;font-size:.8rem;margin-top:.25rem;display:block}.alert[_ngcontent-%COMP%]{padding:.75rem 1rem;margin-bottom:1rem;border-radius:4px;font-size:.9rem}.alert.alert-success[_ngcontent-%COMP%]{background-color:#1abc9c1a;border:1px solid rgba(26,188,156,.2);color:#0e6252}.alert.alert-danger[_ngcontent-%COMP%]{background-color:#e74c3c1a;border:1px solid rgba(231,76,60,.2);color:#a82315}`]})};function KD(n,t){n&1&&g(0,"span",25)}var fu=class n{constructor(t,e,o){this.fb=t;this.authService=e;this.router=o;this.forgotPasswordForm=this.fb.group({email:["",[st.required,st.email]]})}forgotPasswordForm;isLoading=!1;currentTime=new Date;currentYear=new Date().getFullYear();errorMessage="";successMessage="";ngOnInit(){setInterval(()=>{this.currentTime=new Date,this.updateClockHands()},1e3)}updateClockHands(){let t=new Date,e=t.getSeconds(),o=t.getMinutes(),i=t.getHours()%12,r=e/60*360,s=(o+e/60)/60*360,u=(i+o/60)/12*360;document.documentElement.style.setProperty("--second-rotation",`${r}deg`),document.documentElement.style.setProperty("--minute-rotation",`${s}deg`),document.documentElement.style.setProperty("--hour-rotation",`${u}deg`)}onSubmit(){if(this.forgotPasswordForm.valid){this.isLoading=!0,this.errorMessage="",this.successMessage="";let{email:t}=this.forgotPasswordForm.value;this.authService.requestPasswordReset(t).subscribe({next:e=>{this.isLoading=!1,this.successMessage="Password reset link has been sent to your email address. Please check your inbox and follow the instructions."},error:e=>{this.isLoading=!1,this.errorMessage=e}})}else Object.keys(this.forgotPasswordForm.controls).forEach(t=>{let e=this.forgotPasswordForm.get(t);e?.invalid&&e.markAsTouched()})}static \u0275fac=function(e){return new(e||n)(D(ua),D(Le),D(Ae))};static \u0275cmp=N({type:n,selectors:[["app-forgot-password"]],decls:66,vars:12,consts:[[1,"auth-page"],[1,"login-section"],[1,"login-container"],[1,"logo-container"],["src","assets/img/logo.png","alt","Gemura Logo",1,"logo"],[1,"new-user"],["routerLink","/login"],[1,"login-form",3,"ngSubmit","formGroup"],["type","email","placeholder","Enter your email address","iconClass","fas fa-envelope","formControlName","email","errorMessage","Please enter a valid email address",3,"isInvalid"],["type","success",3,"message"],["type","danger",3,"message"],["type","submit",1,"login-btn",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"auth-links"],["routerLink","/login",1,"back-to-login-link"],[1,"footer-text"],[1,"background-section"],[1,"analog-clock"],[1,"clock-face"],[1,"numbers"],[1,"hand","hour-hand"],[1,"hand","minute-hand"],[1,"hand","second-hand"],[1,"center-dot"],[1,"date"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,o){if(e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),g(4,"img",4),c(),a(5,"h1"),l(6,"Reset "),a(7,"span"),l(8,"Password"),c()(),a(9,"div",5)(10,"span"),l(11,"Remember your password? "),c(),a(12,"a",6),l(13,"Sign In"),c()(),a(14,"form",7),v("ngSubmit",function(){return o.onSubmit()}),g(15,"app-form-input",8)(16,"app-alert",9)(17,"app-alert",10),a(18,"button",11),M(19,KD,1,0,"span",12),l(20),c(),a(21,"div",13)(22,"a",14),l(23," \u2190 Back to Login "),c()()(),a(24,"div",15)(25,"p"),l(26),c(),a(27,"p"),l(28,"A comprehensive dairy farming management system"),c(),a(29,"p"),l(30,"Developed for Rwandan Dairy Farmers"),c()()()(),a(31,"div",16)(32,"div",17)(33,"div",18)(34,"div",19)(35,"span"),l(36,"12"),c(),a(37,"span"),l(38,"1"),c(),a(39,"span"),l(40,"2"),c(),a(41,"span"),l(42,"3"),c(),a(43,"span"),l(44,"4"),c(),a(45,"span"),l(46,"5"),c(),a(47,"span"),l(48,"6"),c(),a(49,"span"),l(50,"7"),c(),a(51,"span"),l(52,"8"),c(),a(53,"span"),l(54,"9"),c(),a(55,"span"),l(56,"10"),c(),a(57,"span"),l(58,"11"),c()(),g(59,"div",20)(60,"div",21)(61,"div",22)(62,"div",23),c(),a(63,"div",24),l(64),te(65,"date"),c()()()()),e&2){let i;d(14),m("formGroup",o.forgotPasswordForm),d(),m("isInvalid",!!((i=o.forgotPasswordForm.get("email"))!=null&&i.invalid&&((i=o.forgotPasswordForm.get("email"))!=null&&i.touched))),d(),m("message",o.successMessage),d(),m("message",o.errorMessage),d(),m("disabled",o.forgotPasswordForm.invalid||o.isLoading),d(),m("ngIf",o.isLoading),d(),T(" ",o.isLoading?"Sending...":"Send Reset Link"," "),d(6),T("\xA9 ",o.currentYear," Gemura"),d(38),b(Gt(65,9,o.currentTime,"EEEE, MMMM d, y"))}},dependencies:[R,G,fe,wt,pa,De,se,Ie,Xi,er,po,mo,un],styles:['[_ngcontent-%COMP%]:root{--second-rotation: 0deg;--minute-rotation: 0deg;--hour-rotation: 0deg}.auth-page[_ngcontent-%COMP%]{display:flex;min-height:100vh;width:100%}.login-section[_ngcontent-%COMP%]{width:40%;min-width:500px;background:#fff;display:flex;align-items:center;justify-content:center;padding:2rem}.login-section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]{width:100%;max-width:400px}.login-section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.login-section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{max-width:100px;height:auto;object-fit:contain}.login-section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:600;margin-bottom:.5rem;color:#333}.login-section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#004aad}.login-section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .new-user[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:.9rem;color:#666}.login-section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .new-user[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#004aad;text-decoration:none;font-weight:500}.login-section[_ngcontent-%COMP%]   .login-container[_ngcontent-%COMP%]   .new-user[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#004aad;text-decoration:none;font-weight:500}.login-section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{position:relative}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:15px;top:50%;transform:translateY(-50%);color:#666;font-size:1rem}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:12px 15px 12px 40px;border:1px solid #e0e0e0;border-radius:4px;font-size:.9rem;transition:all .3s ease;background-color:#fff;cursor:pointer}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#999}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#004aad;box-shadow:0 0 2px #004aad1a}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input.is-invalid[_ngcontent-%COMP%]{border-color:#e74c3c}.login-form[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 2px #e74c3c1a}.login-btn[_ngcontent-%COMP%]{width:100%;padding:12px;background:#004aad;color:#fff;border:none;border-radius:4px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#003f94}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.auth-links[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.auth-links[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]{color:#004aad;text-decoration:none;font-size:14px;font-weight:500;transition:color .3s ease}.auth-links[_ngcontent-%COMP%]   .forgot-password-link[_ngcontent-%COMP%]:hover{color:#00347a;text-decoration:underline}.auth-links[_ngcontent-%COMP%]   .back-to-login-link[_ngcontent-%COMP%]{color:#004aad;text-decoration:none;font-size:14px;font-weight:500;transition:color .3s ease}.auth-links[_ngcontent-%COMP%]   .back-to-login-link[_ngcontent-%COMP%]:hover{color:#00347a;text-decoration:underline}.footer-text[_ngcontent-%COMP%]{margin-top:3rem;text-align:left;color:#666;font-size:.85rem}.footer-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.3rem 0;line-height:1.4}.background-section[_ngcontent-%COMP%]{flex:1;background:linear-gradient(#0000004d,#0000004d),url("./media/splash-XWW2IWNT.jpg");background-size:cover;background-position:center;position:relative;display:flex;align-items:center;justify-content:center}.analog-clock[_ngcontent-%COMP%]{text-align:center;color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;gap:1.5rem}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]{width:300px;height:300px;border-radius:50%;background:#00000080;position:relative;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);box-shadow:0 0 30px #0000004d;border:2px solid rgba(255,255,255,.1)}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;top:0;left:0;border-radius:50%;background:linear-gradient(45deg,rgba(255,255,255,.1),transparent)}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;width:30px;height:30px;text-align:center;font-size:1.2rem;font-weight:500;color:#fff}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){top:10px;left:calc(50% - 15px)}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){top:10%;right:25%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){top:25%;right:10%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){top:calc(50% - 15px);right:10px}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){bottom:25%;right:10%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(6){bottom:10%;right:25%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(7){bottom:10px;left:calc(50% - 15px)}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(8){bottom:10%;left:25%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(9){bottom:25%;left:10%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(10){top:calc(50% - 15px);left:10px}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(11){top:25%;left:10%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(12){top:10%;left:25%}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .hand[_ngcontent-%COMP%]{position:absolute;bottom:50%;left:50%;transform-origin:bottom;border-radius:4px;pointer-events:none;z-index:2}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .hand.hour-hand[_ngcontent-%COMP%]{width:4px;height:70px;background:#fff;transform:translate(-50%) rotate(var(--hour-rotation))}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .hand.minute-hand[_ngcontent-%COMP%]{width:3px;height:90px;background:#fff;transform:translate(-50%) rotate(var(--minute-rotation))}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .hand.second-hand[_ngcontent-%COMP%]{width:2px;height:100px;background:#ff6b6b;transform:translate(-50%) rotate(var(--second-rotation))}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .center-dot[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;width:12px;height:12px;border-radius:50%;background:#fff;transform:translate(-50%,-50%);z-index:3}.analog-clock[_ngcontent-%COMP%]   .clock-face[_ngcontent-%COMP%]   .center-dot[_ngcontent-%COMP%]:after{content:"";position:absolute;width:6px;height:6px;background:#ff6b6b;border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%)}.analog-clock[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:400;opacity:.9;text-shadow:0 2px 4px rgba(0,0,0,.2);margin-top:1rem}.invalid-feedback[_ngcontent-%COMP%]{color:#e74c3c;font-size:.8rem;margin-top:.25rem;display:block}.alert[_ngcontent-%COMP%]{padding:.75rem 1rem;margin-bottom:1rem;border-radius:4px;font-size:.9rem}.alert.alert-success[_ngcontent-%COMP%]{background-color:#1abc9c1a;border:1px solid rgba(26,188,156,.2);color:#0e6252}.alert.alert-danger[_ngcontent-%COMP%]{background-color:#e74c3c1a;border:1px solid rgba(231,76,60,.2);color:#a82315}']})};function QD(n,t){if(n&1&&(a(0,"div",24)(1,"h4"),l(2,"Login Result:"),c(),a(3,"pre"),l(4),te(5,"json"),c()()),n&2){let e=f();d(4),b(_e(5,1,e.loginResult))}}function JD(n,t){if(n&1&&(a(0,"div",24)(1,"h4"),l(2,"Register Result:"),c(),a(3,"pre"),l(4),te(5,"json"),c()()),n&2){let e=f();d(4),b(_e(5,1,e.registerResult))}}function XD(n,t){if(n&1&&(a(0,"div",24)(1,"h4"),l(2,"Profile Result:"),c(),a(3,"pre"),l(4),te(5,"json"),c()()),n&2){let e=f();d(4),b(_e(5,1,e.profileResult))}}function ek(n,t){if(n&1&&(a(0,"div",24)(1,"h4"),l(2,"Password Reset Result:"),c(),a(3,"pre"),l(4),te(5,"json"),c()()),n&2){let e=f();d(4),b(_e(5,1,e.resetResult))}}function tk(n,t){if(n&1&&(a(0,"div",25),l(1),c()),n&2){let e=f();d(),T(" ",e.errorMessage," ")}}var hu=class n{constructor(t){this.authService=t}isLoading=!1;errorMessage="";loginIdentifier="";loginPassword="";loginResult=null;registerData={name:"",accountName:"",email:"",phoneNumber:"",password:"",accountType:""};registerResult=null;profileResult=null;resetEmail="";resetResult=null;testLogin(){if(!this.loginIdentifier||!this.loginPassword){this.errorMessage="Please enter both identifier and password";return}this.isLoading=!0,this.errorMessage="",this.loginResult=null,this.authService.login(this.loginIdentifier,this.loginPassword).subscribe({next:t=>{this.isLoading=!1,this.loginResult=t},error:t=>{this.isLoading=!1,this.errorMessage=t}})}testRegister(){if(!this.registerData.name||!this.registerData.accountName||!this.registerData.phoneNumber||!this.registerData.password||!this.registerData.accountType){this.errorMessage="Please fill in all required fields";return}this.isLoading=!0,this.errorMessage="",this.registerResult=null,this.authService.register(this.registerData).subscribe({next:t=>{this.isLoading=!1,this.registerResult=t},error:t=>{this.isLoading=!1,this.errorMessage=t}})}testGetProfile(){this.isLoading=!0,this.errorMessage="",this.profileResult=null,this.authService.getProfile().subscribe({next:t=>{this.isLoading=!1,this.profileResult=t},error:t=>{this.isLoading=!1,this.errorMessage=t}})}testPasswordReset(){if(!this.resetEmail){this.errorMessage="Please enter an email address";return}this.isLoading=!0,this.errorMessage="",this.resetResult=null,this.authService.requestPasswordReset(this.resetEmail).subscribe({next:t=>{this.isLoading=!1,this.resetResult=t},error:t=>{this.isLoading=!1,this.errorMessage=t}})}static \u0275fac=function(e){return new(e||n)(D(Le))};static \u0275cmp=N({type:n,selectors:[["app-test-api"]],decls:56,vars:22,consts:[[1,"test-api-container"],[1,"test-section"],[1,"form-group"],["type","text","placeholder","Email or Phone",1,"form-control",3,"ngModelChange","ngModel"],["type","password","placeholder","Password",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary",3,"click","disabled"],["class","result",4,"ngIf"],["type","text","placeholder","Name",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","Account Name",1,"form-control",3,"ngModelChange","ngModel"],["type","email","placeholder","Email",1,"form-control",3,"ngModelChange","ngModel"],["type","tel","placeholder","Phone",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","farmer"],["value","veterinarian"],["value","supplier"],["value","customer"],["value","agent"],["value","collector"],["value","mcc"],[1,"btn","btn-success",3,"click","disabled"],[1,"btn","btn-info",3,"click","disabled"],[1,"btn","btn-warning",3,"click","disabled"],["class","alert alert-danger",4,"ngIf"],[1,"result"],[1,"alert","alert-danger"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"h2"),l(2,"API Integration Test"),c(),a(3,"div",1)(4,"h3"),l(5,"Login Test"),c(),a(6,"div",2)(7,"input",3),E("ngModelChange",function(r){return I(o.loginIdentifier,r)||(o.loginIdentifier=r),r}),c(),a(8,"input",4),E("ngModelChange",function(r){return I(o.loginPassword,r)||(o.loginPassword=r),r}),c(),a(9,"button",5),v("click",function(){return o.testLogin()}),l(10),c()(),M(11,QD,6,3,"div",6),c(),a(12,"div",1)(13,"h3"),l(14,"Register Test"),c(),a(15,"div",2)(16,"input",7),E("ngModelChange",function(r){return I(o.registerData.name,r)||(o.registerData.name=r),r}),c(),a(17,"input",8),E("ngModelChange",function(r){return I(o.registerData.accountName,r)||(o.registerData.accountName=r),r}),c(),a(18,"input",9),E("ngModelChange",function(r){return I(o.registerData.email,r)||(o.registerData.email=r),r}),c(),a(19,"input",10),E("ngModelChange",function(r){return I(o.registerData.phoneNumber,r)||(o.registerData.phoneNumber=r),r}),c(),a(20,"input",4),E("ngModelChange",function(r){return I(o.registerData.password,r)||(o.registerData.password=r),r}),c(),a(21,"select",11),E("ngModelChange",function(r){return I(o.registerData.accountType,r)||(o.registerData.accountType=r),r}),a(22,"option",12),l(23,"Select Account Type"),c(),a(24,"option",13),l(25,"Farmer"),c(),a(26,"option",14),l(27,"Veterinarian"),c(),a(28,"option",15),l(29,"Supplier"),c(),a(30,"option",16),l(31,"Customer"),c(),a(32,"option",17),l(33,"Agent"),c(),a(34,"option",18),l(35,"Collector"),c(),a(36,"option",19),l(37,"MCC"),c()(),a(38,"button",20),v("click",function(){return o.testRegister()}),l(39),c()(),M(40,JD,6,3,"div",6),c(),a(41,"div",1)(42,"h3"),l(43,"Profile Test"),c(),a(44,"button",21),v("click",function(){return o.testGetProfile()}),l(45),c(),M(46,XD,6,3,"div",6),c(),a(47,"div",1)(48,"h3"),l(49,"Password Reset Test"),c(),a(50,"div",2)(51,"input",9),E("ngModelChange",function(r){return I(o.resetEmail,r)||(o.resetEmail=r),r}),c(),a(52,"button",22),v("click",function(){return o.testPasswordReset()}),l(53),c()(),M(54,ek,6,3,"div",6),c(),M(55,tk,2,1,"div",23),c()),e&2&&(d(7),S("ngModel",o.loginIdentifier),d(),S("ngModel",o.loginPassword),d(),m("disabled",o.isLoading),d(),T(" ",o.isLoading?"Testing...":"Test Login"," "),d(),m("ngIf",o.loginResult),d(5),S("ngModel",o.registerData.name),d(),S("ngModel",o.registerData.accountName),d(),S("ngModel",o.registerData.email),d(),S("ngModel",o.registerData.phoneNumber),d(),S("ngModel",o.registerData.password),d(),S("ngModel",o.registerData.accountType),d(17),m("disabled",o.isLoading),d(),T(" ",o.isLoading?"Testing...":"Test Register"," "),d(),m("ngIf",o.registerResult),d(4),m("disabled",o.isLoading),d(),T(" ",o.isLoading?"Testing...":"Test Get Profile"," "),d(),m("ngIf",o.profileResult),d(5),S("ngModel",o.resetEmail),d(),m("disabled",o.isLoading),d(),T(" ",o.isLoading?"Testing...":"Test Password Reset"," "),d(),m("ngIf",o.resetResult),d(),m("ngIf",o.errorMessage))},dependencies:[R,G,ie,Oe,we,ve,Pe,se,he,Jf],styles:[".test-api-container[_ngcontent-%COMP%]{padding:20px;max-width:800px;margin:0 auto}.test-section[_ngcontent-%COMP%]{margin-bottom:30px;padding:20px;border:1px solid #ddd;border-radius:8px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}.form-control[_ngcontent-%COMP%]{width:100%;padding:8px 12px;margin-bottom:10px;border:1px solid #ccc;border-radius:4px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;cursor:pointer;margin-right:10px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.btn-success[_ngcontent-%COMP%]{background-color:#28a745;color:#fff}.btn-info[_ngcontent-%COMP%]{background-color:#17a2b8;color:#fff}.btn-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#000}.btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.result[_ngcontent-%COMP%]{margin-top:15px;padding:15px;background-color:#f8f9fa;border-radius:4px}pre[_ngcontent-%COMP%]{white-space:pre-wrap;word-wrap:break-word}.alert[_ngcontent-%COMP%]{padding:15px;margin-bottom:20px;border:1px solid transparent;border-radius:4px}.alert-danger[_ngcontent-%COMP%]{color:#721c24;background-color:#f8d7da;border-color:#f5c6cb}"]})};function nk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",4),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function ok(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"line",5)(2,"line",6)(3,"line",7),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function ik(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"polyline",8),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function rk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"polyline",9),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function ak(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"polyline",10),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function sk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"rect",11)(2,"circle",12)(3,"path",13),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function ck(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",14)(2,"path",15),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function lk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"rect",16)(2,"path",17),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function dk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",18)(2,"circle",19),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function uk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"circle",20)(2,"path",21),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function pk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",22)(2,"polyline",23)(3,"line",24),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function mk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",25)(2,"circle",20),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function gk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"line",26)(2,"line",27),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function fk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"polyline",28),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function hk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"line",29)(2,"path",30),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function _k(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",31)(2,"polyline",32)(3,"line",33),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Ck(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",31)(2,"polyline",34)(3,"line",35),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function vk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"circle",36)(2,"path",37),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function yk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"polygon",38),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function bk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"line",39)(2,"line",40),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Mk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"polyline",41)(2,"polyline",42)(3,"path",43),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function xk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"line",44)(2,"path",45)(3,"polyline",46)(4,"line",47),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Pk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",45)(2,"polyline",46)(3,"line",47),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Ok(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",48),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function wk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",49)(2,"circle",50)(3,"path",51)(4,"path",52),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Sk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"rect",53)(2,"rect",54)(3,"rect",55)(4,"rect",56),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Ek(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"ellipse",57)(2,"path",58)(3,"path",59),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Ik(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",60)(2,"polyline",61)(3,"line",62)(4,"line",63)(5,"polyline",64),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Dk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",60)(2,"polyline",61),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function kk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",65)(2,"path",66),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Tk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",67),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Ak(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"polyline",68)(2,"path",69)(3,"line",70)(4,"line",71),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Nk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"polyline",68)(2,"path",69),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Rk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"rect",72)(2,"polygon",73)(3,"circle",74)(4,"circle",75),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Fk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"circle",76)(2,"circle",77)(3,"path",78),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Lk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"line",79)(2,"line",80)(3,"line",81),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Vk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"polyline",82)(2,"polyline",83),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function jk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"polyline",84)(2,"polyline",85),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function zk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",86)(2,"polyline",87),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Bk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"circle",88)(2,"line",89)(3,"line",90),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Uk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",91)(2,"line",92)(3,"line",93),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Hk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"circle",88)(2,"line",94)(3,"line",95),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function $k(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"circle",88)(2,"line",96)(3,"line",97),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Wk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"line",98)(2,"polyline",99),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function qk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"line",26)(2,"polyline",100),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Gk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"line",101)(2,"polyline",102),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Yk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"line",27)(2,"polyline",103),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Zk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"circle",88)(2,"polyline",104),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Kk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"rect",105)(2,"line",106)(3,"line",107)(4,"line",108),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Qk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",109)(2,"polyline",110),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Jk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"circle",88)(2,"line",111)(3,"line",112),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function Xk(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"circle",88)(2,"line",112),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function eT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"circle",113)(2,"circle",114)(3,"circle",115),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function tT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"circle",113)(2,"circle",116)(3,"circle",117),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function nT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"line",118)(2,"line",119)(3,"line",120)(4,"line",121)(5,"line",122)(6,"line",123)(7,"line",124)(8,"line",125)(9,"line",126),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function oT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"rect",127)(2,"path",128),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function iT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",129)(2,"polyline",130)(3,"line",131),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function rT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",132)(2,"path",133),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function aT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",134)(2,"polyline",135)(3,"polyline",136),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function sT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"polyline",137)(2,"path",138)(3,"rect",139),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function cT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",140)(2,"circle",141),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function lT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",142),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function dT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"rect",143)(2,"line",144),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function uT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",145)(2,"line",146),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function pT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"polygon",147)(2,"polyline",148)(3,"polyline",149),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function mT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"line",150)(2,"circle",151)(3,"circle",152),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function gT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"line",153)(2,"line",154)(3,"line",155)(4,"line",156),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function fT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",157),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function hT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",158)(2,"rect",159)(3,"path",160)(4,"path",161)(5,"path",162)(6,"path",163),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function _T(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"rect",164)(2,"path",165),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function CT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",166),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function vT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"rect",167)(2,"circle",168)(3,"polyline",169),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function yT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"polyline",170)(2,"path",171),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function bT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"line",172)(2,"line",173)(3,"line",174)(4,"line",175)(5,"line",176)(6,"line",177)(7,"line",178)(8,"line",179),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function MT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",180),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function xT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",181),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function PT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"line",182)(2,"polygon",183),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function OT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"circle",184)(2,"circle",185)(3,"circle",186)(4,"line",187)(5,"line",188),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function wT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"rect",189)(2,"line",190),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function ST(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"polyline",191)(2,"line",192)(3,"path",193)(4,"polyline",191),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function ET(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",194)(2,"circle",195)(3,"polyline",196),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function IT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",194)(2,"circle",195)(3,"line",197)(4,"line",198),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function DT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"polygon",199)(2,"rect",200),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function kT(n,t){if(n&1&&(B(),a(0,"svg",3),g(1,"path",201),c()),n&2){let e=f();V("width",e.size)("height",e.size)("stroke",e.color)}}function TT(n,t){if(n&1&&g(0,"div",202),n&2){let e=f();m("title","Icon: "+e.name)}}var q=class n{name;size="24px";color="currentColor";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-lucide-icon"]],inputs:{name:"name",size:"size",color:"color"},decls:86,vars:85,consts:[[3,"ngSwitch"],["fill","none","viewBox","0 0 24 24","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",4,"ngSwitchCase"],["style","width: 16px; height: 16px; background: #ccc; border-radius: 2px; display: inline-block;",3,"title",4,"ngSwitchDefault"],["fill","none","viewBox","0 0 24 24","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["d","M22 12h-4l-3 9L9 3l-3 9H2"],["x1","4","x2","20","y1","12","y2","12"],["x1","4","x2","20","y1","6","y2","6"],["x1","4","x2","20","y1","18","y2","18"],["points","9,18 15,12 9,6"],["points","15,18 9,12 15,6"],["points","6,9 12,15 18,9"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["cx","12","cy","16","r","1"],["d","M7 11V7a5 5 0 0 1 10 0v4"],["d","M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"],["d","M10.3 21a1.94 1.94 0 0 0 3.4 0"],["x","2","y","4","width","20","height","16","rx","2"],["d","m22 7-10 5L2 7"],["d","M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["cx","12","cy","12","r","3"],["d","M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1 1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"],["d","M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"],["points","16,17 21,12 16,7"],["x1","21","x2","9","y1","12","y2","12"],["d","M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"],["x1","12","x2","12","y1","5","y2","19"],["x1","5","x2","19","y1","12","y2","12"],["points","20,6 9,17 4,12"],["x1","12","x2","12","y1","1","y2","23"],["d","M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7,10 12,15 17,10"],["x1","12","x2","12","y1","15","y2","3"],["points","17,8 12,3 7,8"],["x1","12","x2","12","y1","3","y2","15"],["cx","11","cy","11","r","8"],["d","M21 21l-4.35-4.35"],["points","22,3 2,3 10,12.46 10,19 14,21 14,12.46"],["x1","18","x2","6","y1","6","y2","18"],["x1","6","x2","18","y1","6","y2","18"],["points","23,4 23,10 17,10"],["points","1,20 1,14 7,14"],["d","M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"],["x1","16.5","x2","7.5","y1","9.4","y2","4.21"],["d","M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"],["points","3.27,6.96 12,12.01 20.73,6.96"],["x1","12","x2","12","y1","22.08","y2","12"],["d","M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["d","M22 21v-2a4 4 0 0 0-3-3.87"],["d","M16 3.13a4 4 0 0 1 0 7.75"],["x","3","y","3","width","7","height","7"],["x","14","y","3","width","7","height","7"],["x","14","y","14","width","7","height","7"],["x","3","y","14","width","7","height","7"],["cx","12","cy","5","rx","9","ry","3"],["d","M3 5v14c0 1.66 4.03 3 9 3s9-1.34 9-3V5"],["d","M3 12c0 1.66 4.03 3 9 3s9-1.34 9-3"],["d","M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"],["points","14,2 14,8 20,8"],["x1","16","x2","8","y1","13","y2","13"],["x1","16","x2","8","y1","17","y2","17"],["points","10,9 9,9 8,9"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["d","M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"],["points","3,6 5,6 21,6"],["d","M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"],["x1","10","x2","10","y1","11","y2","17"],["x1","14","x2","14","y1","11","y2","17"],["x","1","y","3","width","15","height","13"],["points","16,8 20,8 23,11 23,16 16,16"],["cx","5.5","cy","18.5","r","2.5"],["cx","18.5","cy","18.5","r","2.5"],["cx","9","cy","21","r","1"],["cx","20","cy","21","r","1"],["d","M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"],["x1","18","x2","18","y1","20","y2","10"],["x1","12","x2","12","y1","20","y2","4"],["x1","6","x2","6","y1","20","y2","14"],["points","22,7 13.5,15.5 8.5,10.5 2,17"],["points","16,7 22,7 22,13"],["points","22,17 13.5,8.5 8.5,13.5 2,7"],["points","16,17 22,17 22,11"],["d","M22 11.08V12a10 10 0 1 1-5.93-9.14"],["points","22,4 12,14.01 9,11.01"],["cx","12","cy","12","r","10"],["x1","15","x2","9","y1","9","y2","15"],["x1","9","x2","15","y1","9","y2","15"],["d","M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"],["x1","12","x2","12","y1","9","y2","13"],["x1","12","x2","12.01","y1","17","y2","17"],["x1","12","x2","12","y1","8","y2","12"],["x1","12","x2","12.01","y1","16","y2","16"],["x1","12","x2","12","y1","16","y2","12"],["x1","12","x2","12.01","y1","8","y2","8"],["x1","12","x2","12","y1","19","y2","5"],["points","5,12 12,5 19,12"],["points","19,12 12,19 5,12"],["x1","19","x2","5","y1","12","y2","12"],["points","12,19 5,12 12,5"],["points","12,5 19,12 12,19"],["points","12,6 12,12 16,14"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","x2","16","y1","2","y2","6"],["x1","8","x2","8","y1","2","y2","6"],["x1","3","x2","21","y1","10","y2","10"],["d","M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"],["points","9,22 9,12 15,12 15,22"],["x1","12","x2","12","y1","8","y2","16"],["x1","8","x2","16","y1","12","y2","12"],["cx","12","cy","12","r","1"],["cx","12","cy","5","r","1"],["cx","12","cy","19","r","1"],["cx","5","cy","12","r","1"],["cx","19","cy","12","r","1"],["x1","4","x2","4","y1","21","y2","14"],["x1","4","x2","4","y1","10","y2","3"],["x1","12","x2","12","y1","21","y2","12"],["x1","12","x2","12","y1","8","y2","3"],["x1","20","x2","20","y1","21","y2","16"],["x1","20","x2","20","y1","12","y2","3"],["x1","1","x2","7","y1","14","y2","14"],["x1","9","x2","15","y1","8","y2","8"],["x1","17","x2","23","y1","16","y2","16"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],["d","M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"],["points","15,3 21,3 21,9"],["x1","10","x2","21","y1","14","y2","3"],["d","M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"],["d","M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"],["d","M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"],["points","17,21 17,13 7,13 7,21"],["points","7,3 7,8 15,8"],["points","6,9 6,2 18,2 18,9"],["d","M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2"],["x","6","y","14","width","12","height","8"],["d","M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"],["cx","12","cy","10","r","3"],["d","M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"],["x","1","y","4","width","22","height","16","rx","2","ry","2"],["x1","1","x2","23","y1","10","y2","10"],["d","M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"],["x1","7","x2","7.01","y1","7","y2","7"],["points","12,2 2,7 12,12 22,7"],["points","2,17 12,22 22,17"],["points","2,12 12,17 22,12"],["x1","19","x2","5","y1","5","y2","19"],["cx","6.5","cy","6.5","r","2.5"],["cx","17.5","cy","17.5","r","2.5"],["x1","4","x2","20","y1","9","y2","9"],["x1","4","x2","20","y1","15","y2","15"],["x1","10","x2","8","y1","3","y2","21"],["x1","16","x2","14","y1","3","y2","21"],["d","M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"],["d","M12 8V4H8"],["x","4","y","8","width","16","height","12","rx","2"],["d","M2 14h2"],["d","M20 14h2"],["d","M15 13v2"],["d","M9 13v2"],["x","2","y","7","width","20","height","14","rx","2","ry","2"],["d","M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"],["d","M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z"],["x","3","y","3","width","18","height","18","rx","2","ry","2"],["cx","8.5","cy","8.5","r","1.5"],["points","21,15 16,10 5,21"],["points","22,12 16,12 14,15 10,15 8,12 2,12"],["d","M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"],["x1","12","x2","12","y1","2","y2","6"],["x1","12","x2","12","y1","18","y2","22"],["x1","4.93","x2","7.76","y1","4.93","y2","7.76"],["x1","16.24","x2","19.07","y1","16.24","y2","19.07"],["x1","2","x2","6","y1","12","y2","12"],["x1","18","x2","22","y1","12","y2","12"],["x1","4.93","x2","7.76","y1","19.07","y2","16.24"],["x1","16.24","x2","19.07","y1","7.76","y2","4.93"],["d","M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"],["d","M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"],["x1","22","x2","11","y1","2","y2","13"],["points","22,2 15,22 11,13 2,9"],["cx","18","cy","5","r","3"],["cx","6","cy","12","r","3"],["cx","18","cy","19","r","3"],["x1","8.59","x2","15.42","y1","13.51","y2","17.49"],["x1","15.41","x2","8.59","y1","6.51","y2","10.49"],["x","5","y","2","width","14","height","20","rx","2","ry","2"],["x1","12","x2","12.01","y1","18","y2","18"],["points","16,16 12,12 8,16"],["x1","12","x2","12","y1","12","y2","21"],["d","M20.39 18.39A5 5 0 0 0 18 9h-1.26A8 8 0 1 0 3 16.3"],["d","M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"],["cx","8.5","cy","7","r","4"],["points","17,11 19,13 23,9"],["x1","20","x2","20","y1","8","y2","14"],["x1","23","x2","17","y1","11","y2","11"],["points","23,7 16,12 23,17"],["x","1","y","5","width","15","height","14","rx","2","ry","2"],["d","M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"],[2,"width","16px","height","16px","background","#ccc","border-radius","2px","display","inline-block",3,"title"]],template:function(e,o){e&1&&(ue(0,0),M(1,nk,2,3,"svg",1)(2,ok,4,3,"svg",1)(3,ik,2,3,"svg",1)(4,rk,2,3,"svg",1)(5,ak,2,3,"svg",1)(6,sk,4,3,"svg",1)(7,ck,3,3,"svg",1)(8,lk,3,3,"svg",1)(9,dk,3,3,"svg",1)(10,uk,3,3,"svg",1)(11,pk,4,3,"svg",1)(12,mk,3,3,"svg",1)(13,gk,3,3,"svg",1)(14,fk,2,3,"svg",1)(15,hk,3,3,"svg",1)(16,_k,4,3,"svg",1)(17,Ck,4,3,"svg",1)(18,vk,3,3,"svg",1)(19,yk,2,3,"svg",1)(20,bk,3,3,"svg",1)(21,Mk,4,3,"svg",1)(22,xk,5,3,"svg",1)(23,Pk,4,3,"svg",1)(24,Ok,2,3,"svg",1)(25,wk,5,3,"svg",1)(26,Sk,5,3,"svg",1)(27,Ek,4,3,"svg",1)(28,Ik,6,3,"svg",1)(29,Dk,3,3,"svg",1)(30,kk,3,3,"svg",1)(31,Tk,2,3,"svg",1)(32,Ak,5,3,"svg",1)(33,Nk,3,3,"svg",1)(34,Rk,5,3,"svg",1)(35,Fk,4,3,"svg",1)(36,Lk,4,3,"svg",1)(37,Vk,3,3,"svg",1)(38,jk,3,3,"svg",1)(39,zk,3,3,"svg",1)(40,Bk,4,3,"svg",1)(41,Uk,4,3,"svg",1)(42,Hk,4,3,"svg",1)(43,$k,4,3,"svg",1)(44,Wk,3,3,"svg",1)(45,qk,3,3,"svg",1)(46,Gk,3,3,"svg",1)(47,Yk,3,3,"svg",1)(48,Zk,3,3,"svg",1)(49,Kk,5,3,"svg",1)(50,Qk,3,3,"svg",1)(51,Jk,4,3,"svg",1)(52,Xk,3,3,"svg",1)(53,eT,4,3,"svg",1)(54,tT,4,3,"svg",1)(55,nT,10,3,"svg",1)(56,oT,3,3,"svg",1)(57,iT,4,3,"svg",1)(58,rT,3,3,"svg",1)(59,aT,4,3,"svg",1)(60,sT,4,3,"svg",1)(61,cT,3,3,"svg",1)(62,lT,2,3,"svg",1)(63,dT,3,3,"svg",1)(64,uT,3,3,"svg",1)(65,pT,4,3,"svg",1)(66,mT,4,3,"svg",1)(67,gT,5,3,"svg",1)(68,fT,2,3,"svg",1)(69,hT,7,3,"svg",1)(70,_T,3,3,"svg",1)(71,CT,2,3,"svg",1)(72,vT,4,3,"svg",1)(73,yT,3,3,"svg",1)(74,bT,9,3,"svg",1)(75,MT,2,3,"svg",1)(76,xT,2,3,"svg",1)(77,PT,3,3,"svg",1)(78,OT,6,3,"svg",1)(79,wT,3,3,"svg",1)(80,ST,5,3,"svg",1)(81,ET,4,3,"svg",1)(82,IT,5,3,"svg",1)(83,DT,3,3,"svg",1)(84,kT,2,3,"svg",1)(85,TT,1,1,"div",2),pe()),e&2&&(m("ngSwitch",o.name),d(),m("ngSwitchCase","activity"),d(),m("ngSwitchCase","menu"),d(),m("ngSwitchCase","chevron-right"),d(),m("ngSwitchCase","chevron-left"),d(),m("ngSwitchCase","chevron-down"),d(),m("ngSwitchCase","lock"),d(),m("ngSwitchCase","bell"),d(),m("ngSwitchCase","mail"),d(),m("ngSwitchCase","user"),d(),m("ngSwitchCase","settings"),d(),m("ngSwitchCase","log-out"),d(),m("ngSwitchCase","eye"),d(),m("ngSwitchCase","plus"),d(),m("ngSwitchCase","check"),d(),m("ngSwitchCase","dollar-sign"),d(),m("ngSwitchCase","download"),d(),m("ngSwitchCase","upload"),d(),m("ngSwitchCase","search"),d(),m("ngSwitchCase","filter"),d(),m("ngSwitchCase","x"),d(),m("ngSwitchCase","refresh-cw"),d(),m("ngSwitchCase","package"),d(),m("ngSwitchCase","box"),d(),m("ngSwitchCase","shield"),d(),m("ngSwitchCase","users"),d(),m("ngSwitchCase","grid"),d(),m("ngSwitchCase","database"),d(),m("ngSwitchCase","file-text"),d(),m("ngSwitchCase","file"),d(),m("ngSwitchCase","edit"),d(),m("ngSwitchCase","edit-2"),d(),m("ngSwitchCase","trash-2"),d(),m("ngSwitchCase","trash"),d(),m("ngSwitchCase","truck"),d(),m("ngSwitchCase","shopping-cart"),d(),m("ngSwitchCase","bar-chart-2"),d(),m("ngSwitchCase","trending-up"),d(),m("ngSwitchCase","trending-down"),d(),m("ngSwitchCase","check-circle"),d(),m("ngSwitchCase","x-circle"),d(),m("ngSwitchCase","alert-triangle"),d(),m("ngSwitchCase","alert-circle"),d(),m("ngSwitchCase","info"),d(),m("ngSwitchCase","arrow-up"),d(),m("ngSwitchCase","arrow-down"),d(),m("ngSwitchCase","arrow-left"),d(),m("ngSwitchCase","arrow-right"),d(),m("ngSwitchCase","clock"),d(),m("ngSwitchCase","calendar"),d(),m("ngSwitchCase","home"),d(),m("ngSwitchCase","plus-circle"),d(),m("ngSwitchCase","minus-circle"),d(),m("ngSwitchCase","more-vertical"),d(),m("ngSwitchCase","more-horizontal"),d(),m("ngSwitchCase","sliders"),d(),m("ngSwitchCase","copy"),d(),m("ngSwitchCase","external-link"),d(),m("ngSwitchCase","link"),d(),m("ngSwitchCase","save"),d(),m("ngSwitchCase","printer"),d(),m("ngSwitchCase","map-pin"),d(),m("ngSwitchCase","phone"),d(),m("ngSwitchCase","credit-card"),d(),m("ngSwitchCase","tag"),d(),m("ngSwitchCase","layers"),d(),m("ngSwitchCase","percent"),d(),m("ngSwitchCase","hash"),d(),m("ngSwitchCase","bookmark"),d(),m("ngSwitchCase","bot"),d(),m("ngSwitchCase","briefcase"),d(),m("ngSwitchCase","droplet"),d(),m("ngSwitchCase","image"),d(),m("ngSwitchCase","inbox"),d(),m("ngSwitchCase","loader"),d(),m("ngSwitchCase","message-circle"),d(),m("ngSwitchCase","paperclip"),d(),m("ngSwitchCase","send"),d(),m("ngSwitchCase","share-2"),d(),m("ngSwitchCase","smartphone"),d(),m("ngSwitchCase","upload-cloud"),d(),m("ngSwitchCase","user-check"),d(),m("ngSwitchCase","user-plus"),d(),m("ngSwitchCase","video"),d(),m("ngSwitchCase","heart"))},dependencies:[R,ji,hs,_s],encapsulation:2})};function AT(n,t){if(n&1&&(a(0,"div",37)(1,"div",38),g(2,"app-lucide-icon",39),c(),a(3,"div",40)(4,"div",41),l(5),c(),a(6,"div",42),l(7),c(),a(8,"div",43),l(9),c()(),g(10,"div",44),c()),n&2){let e=t.$implicit;d(2),m("name",e.icon),d(3),b(e.title),d(2),b(e.message),d(2),b(e.time),d(),H("unread",!e.read)}}function NT(n,t){if(n&1){let e=k();a(0,"div",29)(1,"div",30)(2,"h6"),l(3,"Notifications"),c(),a(4,"span",31),l(5,"3 new"),c()(),a(6,"div",32),M(7,AT,11,6,"div",33),c(),a(8,"div",34)(9,"button",35),v("click",function(){h(e);let i=f();return _(i.viewAllNotifications())}),g(10,"app-lucide-icon",36),a(11,"span"),l(12,"View All Notifications"),c()()()()}if(n&2){let e=f();d(7),m("ngForOf",e.notifications)}}function RT(n,t){if(n&1&&(a(0,"div",50)(1,"div",51),g(2,"img",52),c(),a(3,"div",53)(4,"div",54),l(5),c(),a(6,"div",55),l(7),c(),a(8,"div",56),l(9),c()(),g(10,"div",57),c()),n&2){let e=t.$implicit;d(2),m("src",e.avatar,Ke)("alt",e.sender),d(3),b(e.sender),d(2),b(e.preview),d(2),b(e.time),d(),H("unread",!e.read)}}function FT(n,t){if(n&1){let e=k();a(0,"div",45)(1,"div",30)(2,"h6"),l(3,"Messages"),c(),a(4,"span",46),l(5,"5 new"),c()(),a(6,"div",47),M(7,RT,11,7,"div",48),c(),a(8,"div",34)(9,"button",35),v("click",function(){h(e);let i=f();return _(i.viewAllMessages())}),g(10,"app-lucide-icon",49),a(11,"span"),l(12,"View All Messages"),c()()()()}if(n&2){let e=f();d(7),m("ngForOf",e.messages)}}function LT(n,t){n&1&&g(0,"app-lucide-icon",65)}function VT(n,t){if(n&1){let e=k();a(0,"button",61),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.selectLanguage(i))}),g(1,"img",62),a(2,"span",63),l(3),c(),M(4,LT,1,0,"app-lucide-icon",64),c()}if(n&2){let e=t.$implicit,o=f(2);H("active",e.code===o.currentLanguage.code),d(),m("src",e.flag,Ke)("alt",e.name),d(2),b(e.name),d(),m("ngIf",e.code===o.currentLanguage.code)}}function jT(n,t){if(n&1&&(a(0,"div",58)(1,"div",59),M(2,VT,5,6,"button",60),c()()),n&2){let e=f();d(2),m("ngForOf",e.languages)}}function zT(n,t){n&1&&g(0,"app-lucide-icon",65)}function BT(n,t){if(n&1){let e=k();a(0,"button",81),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.selectAccount(i))}),g(1,"img",23),a(2,"div",82)(3,"span",63),l(4),c(),a(5,"span",83),l(6),c()(),M(7,zT,1,0,"app-lucide-icon",64),c()}if(n&2){let e=t.$implicit,o=f(2);H("active",e.account_id===(o.currentAccount==null?null:o.currentAccount.account_id)),d(),m("src",e.avatar||"assets/img/user.png",Ke)("alt",e.account_name),d(3),b(e.account_name),d(2),b(e.role),d(),m("ngIf",e.account_id===(o.currentAccount==null?null:o.currentAccount.account_id))}}function UT(n,t){if(n&1){let e=k();a(0,"div",66)(1,"div",67),g(2,"img",23),a(3,"div")(4,"h6"),l(5),c(),a(6,"span"),l(7),c()()(),a(8,"div",68)(9,"div",69)(10,"h6"),l(11,"Switch Account"),c(),a(12,"button",70),v("click",function(){h(e);let i=f();return _(i.addNewAccount())}),g(13,"app-lucide-icon",71),c()(),a(14,"div",72),M(15,BT,8,7,"button",73),c()(),g(16,"div",74),a(17,"div",59)(18,"a",75),g(19,"app-lucide-icon",76),a(20,"span"),l(21,"My Profile"),c()(),a(22,"a",75),g(23,"app-lucide-icon",77),a(24,"span"),l(25,"Settings"),c()(),g(26,"div",74),a(27,"a",78),v("click",function(){h(e);let i=f();return _(i.lockScreen())}),g(28,"app-lucide-icon",79),a(29,"span"),l(30,"Lock Screen"),c()(),a(31,"a",78),v("click",function(){h(e);let i=f();return _(i.logout())}),g(32,"app-lucide-icon",80),a(33,"span"),l(34,"Logout"),c()()()()}if(n&2){let e=f();d(2),m("src",(e.currentAccount==null?null:e.currentAccount.avatar)||"assets/img/user.png",Ke)("alt",e.currentAccount==null?null:e.currentAccount.account_name),d(3),b((e.currentAccount==null?null:e.currentAccount.account_name)||"User"),d(2),b((e.currentAccount==null?null:e.currentAccount.role)||"Guest"),d(8),m("ngForOf",e.availableAccounts)}}var _u=class n{constructor(t,e){this.authService=t;this.router=e;let o=this.authService.getCurrentUser();this.userName=o?.name||"User",this.userRole=o?.role||"Guest",this.currentAccount=this.authService.getCurrentAccount(),this.availableAccounts=this.authService.getAvailableAccounts(),this.authService.isLoggedIn()&&this.loadAccountsFromAPI()}isSidebarCollapsed=!1;toggleSidebar=new z;userName;userRole;showUserMenu=!1;showLanguageMenu=!1;showNotificationPanel=!1;showMessagePanel=!1;currentAccount=null;availableAccounts=[];currentTime="";currentDate="";timeInterval;notifications=[{id:1,title:"New Customer Added",message:"John Doe has been added to your customer list",time:"2 minutes ago",icon:"user-plus",read:!1},{id:2,title:"Payment Received",message:"Payment of RWF 15,000 received from Jane Smith",time:"1 hour ago",icon:"dollar-sign",read:!1},{id:3,title:"System Update",message:"Your system has been updated to version 2.1.0",time:"3 hours ago",icon:"download",read:!0}];messages=[{id:1,sender:"Jane Smith",preview:"Thank you for the quick delivery! The milk quality is excellent.",time:"5 minutes ago",avatar:"assets/img/user.png",read:!1},{id:2,sender:"Mike Johnson",preview:"Can we schedule the next delivery for tomorrow morning?",time:"1 hour ago",avatar:"assets/img/user.png",read:!1},{id:3,sender:"Sarah Wilson",preview:"The payment has been processed successfully. Thank you!",time:"2 hours ago",avatar:"assets/img/user.png",read:!0},{id:4,sender:"David Brown",preview:"I would like to increase my weekly order to 20 liters.",time:"3 hours ago",avatar:"assets/img/user.png",read:!1},{id:5,sender:"Lisa Davis",preview:"The delivery was perfect as always. See you next week!",time:"1 day ago",avatar:"assets/img/user.png",read:!0}];currentLanguage={code:"EN",name:"English",flag:"assets/img/flags/us.svg"};languages=[{code:"EN",name:"English",flag:"assets/img/flags/us.svg"},{code:"FR",name:"Fran\xE7ais",flag:"assets/img/flags/fr.svg"},{code:"RW",name:"Kinyarwanda",flag:"assets/img/flags/rw.svg"}];ngOnInit(){this.updateDateTime(),this.timeInterval=setInterval(()=>{this.updateDateTime()},1e3)}ngOnDestroy(){this.timeInterval&&clearInterval(this.timeInterval)}updateDateTime(){let t=new Date;this.currentTime=t.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),this.currentDate=t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}onToggleSidebar(){this.toggleSidebar.emit()}toggleUserMenu(){this.showUserMenu=!this.showUserMenu,this.showLanguageMenu=!1,this.showNotificationPanel=!1}toggleNotificationPanel(){this.showNotificationPanel=!this.showNotificationPanel,this.showUserMenu=!1,this.showLanguageMenu=!1,this.showMessagePanel=!1}toggleMessagePanel(){this.showMessagePanel=!this.showMessagePanel,this.showUserMenu=!1,this.showLanguageMenu=!1,this.showNotificationPanel=!1}viewAllNotifications(){this.showNotificationPanel=!1,console.log("View all notifications clicked")}viewAllMessages(){this.showMessagePanel=!1,console.log("View all messages clicked")}selectAccount(t){this.authService.switchAccount(t).subscribe({next:e=>{console.log("Account switch successful:",e),this.currentAccount=t,this.availableAccounts=this.authService.getAvailableAccounts(),this.showUserMenu=!1,console.log("Account switched to:",t.account_name),window.location.reload()},error:e=>{console.error("Failed to switch account:",e)}})}loadAccountsFromAPI(){this.authService.fetchUserAccounts().subscribe({next:t=>{console.log("Accounts loaded from API:",t),this.currentAccount=this.authService.getCurrentAccount(),this.availableAccounts=this.authService.getAvailableAccounts()},error:t=>{console.error("Failed to load accounts from API:",t),this.currentAccount=this.authService.getCurrentAccount(),this.availableAccounts=this.authService.getAvailableAccounts()}})}addNewAccount(){this.showUserMenu=!1,console.log("Add new account clicked")}toggleLanguageMenu(){this.showLanguageMenu=!this.showLanguageMenu,this.showUserMenu=!1}selectLanguage(t){this.currentLanguage=t,this.showLanguageMenu=!1,console.log("Language changed to:",t.name)}lockScreen(){this.showUserMenu=!1,this.router.navigate(["/lock"])}logout(){this.showUserMenu=!1,this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||n)(D(Le),D(Ae))};static \u0275cmp=N({type:n,selectors:[["app-navbar"]],inputs:{isSidebarCollapsed:"isSidebarCollapsed"},outputs:{toggleSidebar:"toggleSidebar"},decls:38,vars:15,consts:[[1,"navbar"],[1,"navbar-left"],[1,"menu-toggle",3,"click"],["name","menu","size","18px"],[1,"datetime-display"],[1,"time"],[1,"date"],[1,"navbar-right"],[1,"nav-item","notification-item",3,"click"],[1,"icon-button"],["name","bell","size","18px"],[1,"badge"],["class","notification-panel",4,"ngIf"],[1,"nav-item","message-item",3,"click"],["name","mail","size","18px"],["class","message-panel",4,"ngIf"],[1,"nav-item","language-switcher",3,"click"],[1,"language-button"],[1,"language-flag",3,"src","alt"],[1,"language-name"],["name","chevron-down","size","14px"],["class","language-menu",4,"ngIf"],[1,"nav-item","user-profile",3,"click"],[1,"avatar",3,"src","alt"],[1,"user-info"],[1,"user-name"],[1,"user-role"],["name","chevron-down","size","16px"],["class","user-menu",4,"ngIf"],[1,"notification-panel"],[1,"panel-header"],[1,"notification-count"],[1,"notification-list"],["class","notification-item",4,"ngFor","ngForOf"],[1,"panel-footer"],[1,"view-all-btn",3,"click"],["name","eye","size","14px"],[1,"notification-item"],[1,"notification-avatar"],["size","16px",3,"name"],[1,"notification-content"],[1,"notification-title"],[1,"notification-message"],[1,"notification-time"],[1,"notification-status"],[1,"message-panel"],[1,"message-count"],[1,"message-list"],["class","message-item",4,"ngFor","ngForOf"],["name","mail","size","14px"],[1,"message-item"],[1,"message-avatar"],[1,"avatar-img",3,"src","alt"],[1,"message-content"],[1,"message-sender"],[1,"message-preview"],[1,"message-time"],[1,"message-status"],[1,"language-menu"],[1,"menu-items"],["class","language-option",3,"active","click",4,"ngFor","ngForOf"],[1,"language-option",3,"click"],[1,"flag",3,"src","alt"],[1,"name"],["name","check","size","14px",4,"ngIf"],["name","check","size","14px"],[1,"user-menu"],[1,"menu-header"],[1,"account-switcher-section"],[1,"section-header"],[1,"add-account-btn",3,"click"],["name","plus","size","14px"],[1,"account-options"],["class","account-option",3,"active","click",4,"ngFor","ngForOf"],[1,"divider"],["href","javascript:void(0)",1,"menu-item"],["name","user","size","16px"],["name","settings","size","16px"],["href","javascript:void(0)",1,"menu-item",3,"click"],["name","lock","size","16px"],["name","log-out","size","16px"],[1,"account-option",3,"click"],[1,"account-details"],[1,"role"]],template:function(e,o){e&1&&(a(0,"nav",0)(1,"div",1)(2,"button",2),v("click",function(){return o.onToggleSidebar()}),g(3,"app-lucide-icon",3),c(),a(4,"div",4)(5,"div",5),l(6),c(),a(7,"div",6),l(8),c()()(),a(9,"div",7)(10,"div",8),v("click",function(){return o.toggleNotificationPanel()}),a(11,"button",9),g(12,"app-lucide-icon",10),a(13,"span",11),l(14,"3"),c()(),M(15,NT,13,1,"div",12),c(),a(16,"div",13),v("click",function(){return o.toggleMessagePanel()}),a(17,"button",9),g(18,"app-lucide-icon",14),a(19,"span",11),l(20,"5"),c()(),M(21,FT,13,1,"div",15),c(),a(22,"div",16),v("click",function(){return o.toggleLanguageMenu()}),a(23,"button",17),g(24,"img",18),a(25,"span",19),l(26),c(),g(27,"app-lucide-icon",20),c(),M(28,jT,3,1,"div",21),c(),a(29,"div",22),v("click",function(){return o.toggleUserMenu()}),g(30,"img",23),a(31,"div",24)(32,"span",25),l(33),c(),a(34,"span",26),l(35),c()(),g(36,"app-lucide-icon",27),M(37,UT,35,5,"div",28),c()()()),e&2&&(H("sidebar-collapsed",o.isSidebarCollapsed),d(6),b(o.currentTime),d(2),b(o.currentDate),d(7),m("ngIf",o.showNotificationPanel),d(6),m("ngIf",o.showMessagePanel),d(3),m("src",o.currentLanguage.flag,Ke)("alt",o.currentLanguage.name),d(2),b(o.currentLanguage.code),d(2),m("ngIf",o.showLanguageMenu),d(2),m("src",(o.currentAccount==null?null:o.currentAccount.avatar)||"assets/img/user.png",Ke)("alt",o.currentAccount==null?null:o.currentAccount.account_name),d(3),b((o.currentAccount==null?null:o.currentAccount.account_name)||"User"),d(2),b((o.currentAccount==null?null:o.currentAccount.role)||"Guest"),d(2),m("ngIf",o.showUserMenu))},dependencies:[R,ee,G,fe,q],styles:[".navbar[_ngcontent-%COMP%]{height:90px;background:#fff;border-bottom:1px solid rgba(0,74,173,.1);padding:0 .75rem;display:flex;align-items:center;justify-content:space-between;position:fixed;top:0;right:0;left:240px;z-index:1000;transition:all .3s ease}.navbar.sidebar-collapsed[_ngcontent-%COMP%]{left:70px}@media (max-width: 991px){.navbar[_ngcontent-%COMP%]{left:0;width:100%;padding:0 1rem}}@media (max-width: 576px){.navbar[_ngcontent-%COMP%]{padding:0 .75rem;height:70px}}.navbar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.navbar-left[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]{background:none;border:none;color:#6c757d;font-size:1.25rem;cursor:pointer;padding:.5rem;display:flex;align-items:center;justify-content:center;transition:color .2s ease}.navbar-left[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]:hover{color:#004aad}.navbar-left[_ngcontent-%COMP%]   .datetime-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;margin-left:1rem;padding:.5rem 0}@media (max-width: 768px){.navbar-left[_ngcontent-%COMP%]   .datetime-display[_ngcontent-%COMP%]{margin-left:.5rem}}@media (max-width: 576px){.navbar-left[_ngcontent-%COMP%]   .datetime-display[_ngcontent-%COMP%]{display:none}}.navbar-left[_ngcontent-%COMP%]   .datetime-display[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#343a40;line-height:1.2;font-family:Courier New,monospace}.navbar-left[_ngcontent-%COMP%]   .datetime-display[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{font-size:.8rem;color:#6c757d;line-height:1.2;margin-top:.125rem}.navbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.navbar-right[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{position:relative}@media (max-width: 767px){.navbar-right[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:not(.user-profile){display:none}}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);right:0;background:#fff;border-radius:4px;box-shadow:0 4px 20px #0000001a;width:320px;max-height:400px;overflow:hidden;z-index:1000}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{padding:1rem;background:#004aad08;border-bottom:1px solid #f8f9fa;display:flex;justify-content:space-between;align-items:center}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;color:#343a40;font-size:.875rem;font-weight:600}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .notification-count[_ngcontent-%COMP%]{background:#004aad;color:#fff;font-size:.75rem;padding:.25rem .5rem;border-radius:10px;font-weight:500}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]{max-height:250px;overflow-y:auto}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.75rem 1rem;border-bottom:1px solid #fafbfc;cursor:pointer;transition:background-color .2s ease}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]:hover{background:#004aad0d}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:#004aad1a;display:flex;align-items:center;justify-content:center;color:#004aad;flex-shrink:0}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]{flex-grow:1;min-width:0}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-title[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#343a40;margin-bottom:.25rem;line-height:1.2}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-message[_ngcontent-%COMP%]{font-size:.8rem;color:#6c757d;line-height:1.3;margin-bottom:.25rem;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-content[_ngcontent-%COMP%]   .notification-time[_ngcontent-%COMP%]{font-size:.75rem;color:#adb5bd}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-status[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:transparent;flex-shrink:0;margin-top:.25rem}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .notification-list[_ngcontent-%COMP%]   .notification-item[_ngcontent-%COMP%]   .notification-status.unread[_ngcontent-%COMP%]{background:#004aad}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]{padding:.75rem 1rem;border-top:1px solid #f8f9fa;background:#fafbfc80}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   .view-all-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:#004aad0d;color:#004aad;border:1px solid rgba(0,74,173,.2);border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;width:100%}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   .view-all-btn[_ngcontent-%COMP%]:hover{background:#004aad1a;border-color:#004aad4d}.navbar-right[_ngcontent-%COMP%]   .nav-item.notification-item[_ngcontent-%COMP%]   .notification-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   .view-all-btn[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{font-size:.875rem}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);right:0;background:#fff;border-radius:4px;box-shadow:0 4px 20px #0000001a;width:320px;max-height:400px;overflow:hidden;z-index:1000}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]{padding:1rem;background:#004aad08;border-bottom:1px solid #f8f9fa;display:flex;justify-content:space-between;align-items:center}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;color:#343a40;font-size:.875rem;font-weight:600}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .panel-header[_ngcontent-%COMP%]   .message-count[_ngcontent-%COMP%]{background:#004aad;color:#fff;font-size:.75rem;padding:.25rem .5rem;border-radius:10px;font-weight:500}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]{max-height:250px;overflow-y:auto}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;padding:.75rem 1rem;border-bottom:1px solid #fafbfc;cursor:pointer;transition:background-color .2s ease}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]:hover{background:#004aad0d}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;overflow:hidden;flex-shrink:0}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-avatar[_ngcontent-%COMP%]   .avatar-img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{flex-grow:1;min-width:0}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-sender[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#343a40;margin-bottom:.25rem;line-height:1.2}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-preview[_ngcontent-%COMP%]{font-size:.8rem;color:#6c757d;line-height:1.3;margin-bottom:.25rem;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{font-size:.75rem;color:#adb5bd}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-status[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:transparent;flex-shrink:0;margin-top:.25rem}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-status.unread[_ngcontent-%COMP%]{background:#004aad}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]{padding:.75rem 1rem;border-top:1px solid #f8f9fa;background:#fafbfc80}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   .view-all-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:#004aad0d;color:#004aad;border:1px solid rgba(0,74,173,.2);border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease;width:100%}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   .view-all-btn[_ngcontent-%COMP%]:hover{background:#004aad1a;border-color:#004aad4d}.navbar-right[_ngcontent-%COMP%]   .nav-item.message-item[_ngcontent-%COMP%]   .message-panel[_ngcontent-%COMP%]   .panel-footer[_ngcontent-%COMP%]   .view-all-btn[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{font-size:.875rem}.navbar-right[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]{background:none;border:none;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#6c757d;font-size:1.25rem;cursor:pointer;transition:all .2s ease}.navbar-right[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]:hover{background:#004aad0d;color:#004aad}.navbar-right[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .icon-button[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:absolute;top:-2px;right:-2px;background:#004aad;color:#fff;font-size:.75rem;width:18px;height:18px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:500}.navbar-right[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]{position:relative}.navbar-right[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .language-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;padding:.5rem .75rem;background:none;border:1px solid #e9ecef;border-radius:6px;cursor:pointer;transition:all .2s ease}.navbar-right[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .language-button[_ngcontent-%COMP%]:hover{border-color:#004aad;background:#004aad0d}.navbar-right[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .language-button[_ngcontent-%COMP%]   .language-flag[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:2px;object-fit:cover}.navbar-right[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .language-button[_ngcontent-%COMP%]   .language-name[_ngcontent-%COMP%]{color:#495057;font-size:.875rem;font-weight:500}@media (max-width: 768px){.navbar-right[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .language-button[_ngcontent-%COMP%]   .language-name[_ngcontent-%COMP%]{display:none}}.navbar-right[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .language-button[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#ced4da;font-size:.75rem}.navbar-right[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .language-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);right:0;background:#fff;border-radius:4px;box-shadow:0 4px 20px #0000001a;width:200px;overflow:hidden;z-index:1000}.navbar-right[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .language-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]{padding:.5rem 0}.navbar-right[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .language-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .language-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;background:none;border:none;width:100%;cursor:pointer;transition:all .2s ease}.navbar-right[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .language-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .language-option[_ngcontent-%COMP%]:hover{background:#004aad0d}.navbar-right[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .language-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .language-option.active[_ngcontent-%COMP%]{background:#004aad1a}.navbar-right[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .language-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .language-option[_ngcontent-%COMP%]   .flag[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:2px;object-fit:cover}.navbar-right[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .language-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .language-option[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex-grow:1;color:#495057;font-size:.875rem;text-align:left}.navbar-right[_ngcontent-%COMP%]   .language-switcher[_ngcontent-%COMP%]   .language-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .language-option[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#004aad;font-size:.875rem}.navbar-right[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.25rem;border-radius:0;cursor:pointer;transition:all .2s ease}.navbar-right[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]:hover{background:#004aad0d}.navbar-right[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;object-fit:cover}.navbar-right[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}@media (max-width: 576px){.navbar-right[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:none}}.navbar-right[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:#343a40;font-size:.875rem;font-weight:500}.navbar-right[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{color:#adb5bd;font-size:.75rem}.navbar-right[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ced4da;font-size:.75rem;margin-left:.5rem}@media (max-width: 767px){.navbar-right[_ngcontent-%COMP%]   .user-profile[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:none}}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]{position:absolute;top:calc(100% + .5rem);right:0;background:#fff;border-radius:4px;box-shadow:0 4px 20px #0000001a;width:280px;overflow:hidden;z-index:1000}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]{padding:1rem;background:#004aad08;display:flex;align-items:center;gap:.75rem;border-bottom:1px solid #f8f9fa}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;color:#343a40;font-size:.875rem;font-weight:600}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .menu-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#adb5bd;font-size:.75rem}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .account-switcher-section[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid #f8f9fa}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .account-switcher-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.75rem}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .account-switcher-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;color:#343a40;font-size:.875rem;font-weight:600}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .account-switcher-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .add-account-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:#004aad1a;color:#004aad;border:1px solid rgba(0,74,173,.2);border-radius:4px;cursor:pointer;transition:all .2s ease}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .account-switcher-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .add-account-btn[_ngcontent-%COMP%]:hover{background:#004aad33;border-color:#004aad4d}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .account-switcher-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .add-account-btn[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{font-size:12px}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .account-switcher-section[_ngcontent-%COMP%]   .account-options[_ngcontent-%COMP%]{max-height:120px;overflow-y:auto}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .account-switcher-section[_ngcontent-%COMP%]   .account-options[_ngcontent-%COMP%]   .account-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.5rem;background:none;border:none;width:100%;cursor:pointer;transition:all .2s ease;border-radius:6px}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .account-switcher-section[_ngcontent-%COMP%]   .account-options[_ngcontent-%COMP%]   .account-option[_ngcontent-%COMP%]:hover{background:#004aad0d}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .account-switcher-section[_ngcontent-%COMP%]   .account-options[_ngcontent-%COMP%]   .account-option.active[_ngcontent-%COMP%]{background:#004aad1a}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .account-switcher-section[_ngcontent-%COMP%]   .account-options[_ngcontent-%COMP%]   .account-option[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;object-fit:cover}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .account-switcher-section[_ngcontent-%COMP%]   .account-options[_ngcontent-%COMP%]   .account-option[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]{flex-grow:1;text-align:left}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .account-switcher-section[_ngcontent-%COMP%]   .account-options[_ngcontent-%COMP%]   .account-option[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;color:#343a40;font-size:.8rem;font-weight:500;line-height:1.2}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .account-switcher-section[_ngcontent-%COMP%]   .account-options[_ngcontent-%COMP%]   .account-option[_ngcontent-%COMP%]   .account-details[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{display:block;color:#adb5bd;font-size:.7rem;line-height:1.2}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .account-switcher-section[_ngcontent-%COMP%]   .account-options[_ngcontent-%COMP%]   .account-option[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#004aad;font-size:.8rem}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]{padding:.5rem 0}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.625rem 1rem;color:#495057;text-decoration:none;font-size:.875rem;transition:all .2s ease}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#adb5bd;display:flex;align-items:center;justify-content:center}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover{background:#004aad0d;color:#004aad}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]:hover   app-feather-icon[_ngcontent-%COMP%]{color:#004aad}.navbar-right[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{height:1px;background:#f8f9fa;margin:.5rem 0}"]})};var fa=class n{constructor(t){this.authService=t;this.initializeMenu()}menuItemsSubject=new Ne([]);menuItems$=this.menuItemsSubject.asObservable();menuItems=[{title:"Dashboard",icon:"grid",path:"dashboard"},{title:"Customers",icon:"users",path:"customers/list"},{title:"Suppliers",icon:"truck",path:"suppliers/list"},{title:"Inventory",icon:"package",children:[{title:"Stock List",path:"inventory"},{title:"Stock Movements",path:"inventory/movements"}]},{title:"Sales",icon:"shopping-cart",path:"sales"},{title:"Collections",icon:"dollar-sign",path:"collections"},{title:"Payroll",icon:"credit-card",children:[{title:"Employees",path:"payroll/employees"},{title:"Process Payroll",path:"payroll/processing"},{title:"Advances & Debts",path:"payroll/advances"}]},{title:"Administration",icon:"settings",children:[{title:"Users",path:"users"},{title:"Roles",path:"roles"},{title:"Audit Logs",path:"audit"}]}];initializeMenu(){let t=this.getFilteredMenuItems();this.menuItemsSubject.next(t)}getFilteredMenuItems(){let t=this.authService.getUserRole();return this.menuItems.filter(e=>!e.roles||e.roles.includes(t)).map(e=>this.filterChildItems(e,t))}filterChildItems(t,e){return t.children?$(w({},t),{children:t.children.filter(o=>!o.roles||o.roles.includes(e)).map(o=>this.filterChildItems(o,e))}):t}getMenuItems(){return this.getFilteredMenuItems()}refreshMenu(){this.initializeMenu()}static \u0275fac=function(e){return new(e||n)(j(Le))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var ei=class n{constructor(t,e,o){this.router=t;this.ngZone=e;this.authService=o}TIMEOUT=36e5;timeoutId;unsubscribe$=new Ve;userActivity=null;previousUrl="";init(){this.setupActivityMonitoring(),this.resetTimer()}setupActivityMonitoring(){this.userActivity&&this.userActivity.unsubscribe();let t=Lp(ho(document,"mousemove"),ho(document,"click"),ho(document,"keydown"),ho(document,"scroll"),ho(document,"touchstart")).pipe(Vp(300),St(this.unsubscribe$));this.userActivity=t.subscribe(()=>{this.resetTimer()})}resetTimer(){this.timeoutId&&clearTimeout(this.timeoutId),this.ngZone.runOutsideAngular(()=>{this.timeoutId=setTimeout(()=>{this.ngZone.run(()=>{this.lock()})},this.TIMEOUT)})}lock(){this.router.url!=="/login"&&this.router.url!=="/lock"&&(this.previousUrl=this.router.url,this.router.navigate(["/lock"]))}unlock(){this.previousUrl?(this.router.navigate([this.previousUrl]),this.resetTimer()):this.router.navigate(["/dashboard"])}getPreviousUrl(){return this.previousUrl||"/dashboard"}stop(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.timeoutId&&clearTimeout(this.timeoutId),this.userActivity&&this.userActivity.unsubscribe()}static \u0275fac=function(e){return new(e||n)(j(Ae),j(We),j(Le))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var HT=n=>[n];function $T(n,t){n&1&&(a(0,"span",14),l(1,"Gemura"),c())}function WT(n,t){if(n&1&&(a(0,"div",15)(1,"div",16),g(2,"img",17),c(),a(3,"div",18)(4,"h5",19),l(5),c(),a(6,"span",20),l(7),c()()()),n&2){let e=f();d(2),m("src",e.userAvatar,Ke)("alt",e.userName),d(3),b(e.userName),d(2),b(e.userRole)}}function qT(n,t){if(n&1&&g(0,"app-lucide-icon",13),n&2){let e=f(2).$implicit;m("name",e.icon)}}function GT(n,t){if(n&1&&(a(0,"span",29),l(1),c()),n&2){let e=f(2).$implicit;d(),b(e.title)}}function YT(n,t){if(n&1&&g(0,"app-lucide-icon",30),n&2){let e=f(2).$implicit;H("rotated",e.expanded)}}function ZT(n,t){if(n&1&&(a(0,"a",40),l(1),c()),n&2){let e=t.$implicit;m("routerLink",e.path),d(),T(" ",e.title," ")}}function KT(n,t){if(n&1&&(a(0,"div",38),M(1,ZT,2,2,"a",39),c()),n&2){let e=f(2).$implicit;d(),m("ngForOf",e.children)}}function QT(n,t){if(n&1){let e=k();a(0,"div",34)(1,"a",35),v("click",function(){h(e);let i=f().$implicit,r=f(4);return _(r.toggleSubmenu(i))}),l(2),g(3,"app-lucide-icon",36),c(),M(4,KT,2,1,"div",37),c()}if(n&2){let e=f().$implicit;d(),H("expanded",e.expanded),d(),T(" ",e.title," "),d(),H("rotated",e.expanded),d(),m("ngIf",e.expanded)}}function JT(n,t){if(n&1&&(a(0,"a",41),l(1),c()),n&2){let e=f().$implicit;m("routerLink",e.path),d(),T(" ",e.title," ")}}function XT(n,t){if(n&1&&(ue(0),M(1,QT,5,6,"div",32)(2,JT,2,2,"a",33),pe()),n&2){let e=t.$implicit;d(),m("ngIf",e.children),d(),m("ngIf",!e.children)}}function e3(n,t){if(n&1&&(a(0,"div",31),M(1,XT,3,2,"ng-container",8),c()),n&2){let e=f(2).$implicit;d(),m("ngForOf",e.children)}}function t3(n,t){if(n&1){let e=k();a(0,"div",23)(1,"a",24),v("click",function(){h(e);let i=f().$implicit,r=f();return _(r.toggleSubmenu(i))}),M(2,qT,1,1,"app-lucide-icon",25)(3,GT,2,1,"span",26)(4,YT,1,2,"app-lucide-icon",27),c(),M(5,e3,2,1,"div",28),c()}if(n&2){let e=f().$implicit,o=f();H("active",o.isMenuActive(e)),d(2),m("ngIf",e.icon),d(),m("ngIf",!o.isCollapsed),d(),m("ngIf",!o.isCollapsed),d(),m("ngIf",e.expanded&&!o.isCollapsed)}}function n3(n,t){if(n&1&&g(0,"app-lucide-icon",13),n&2){let e=f(2).$implicit;m("name",e.icon)}}function o3(n,t){if(n&1&&(a(0,"span",29),l(1),c()),n&2){let e=f(2).$implicit;d(),b(e.title)}}function i3(n,t){if(n&1&&(a(0,"div",23)(1,"a",42),M(2,n3,1,1,"app-lucide-icon",25)(3,o3,2,1,"span",26),c()()),n&2){let e=f().$implicit,o=f();d(),m("routerLink",Ur(3,HT,e.path)),d(),m("ngIf",e.icon),d(),m("ngIf",!o.isCollapsed)}}function r3(n,t){if(n&1&&(ue(0),M(1,t3,6,6,"div",21)(2,i3,4,5,"div",22),pe()),n&2){let e=t.$implicit;d(),m("ngIf",e.children),d(),m("ngIf",!e.children)}}function a3(n,t){n&1&&(a(0,"span"),l(1,"Lock Screen"),c())}function s3(n,t){n&1&&(a(0,"span"),l(1,"Collapse Menu"),c())}var Cu=class n{constructor(t,e,o,i){this.navigationService=t;this.router=e;this.inactivityService=o;this.authService=i;let r=this.authService.getCurrentUser();r&&(this.userName=r.name,this.userRole=r.role,r.avatar&&(this.userAvatar=r.avatar))}isCollapsed=!1;toggleCollapse=new z;menuItems=[];userName="";userRole="";userAvatar="/assets/img/user.png";menuSubscription=new Ze;ngOnInit(){this.menuSubscription=this.navigationService.menuItems$.subscribe(t=>{this.menuItems=t})}ngOnDestroy(){this.menuSubscription.unsubscribe()}onToggleCollapse(){this.toggleCollapse.emit()}toggleSubmenu(t){t.expanded=!t.expanded}isMenuActive(t){if(!t.children)return!1;let e=window.location.pathname;return t.children.some(o=>o.path&&e.includes(o.path)?!0:o.children?o.children.some(i=>i.path&&e.includes(i.path)):!1)}lockScreen(){this.router.navigate(["/lock"])}static \u0275fac=function(e){return new(e||n)(D(fa),D(Ae),D(ei),D(Le))};static \u0275cmp=N({type:n,selectors:[["app-sidebar"]],inputs:{isCollapsed:"isCollapsed"},outputs:{toggleCollapse:"toggleCollapse"},decls:16,vars:8,consts:[[1,"sidebar"],[1,"sidebar-header"],[1,"logo-container"],["src","assets/img/logo.png","alt","Gemura Logo",1,"logo"],["class","logo-text",4,"ngIf"],["class","user-info",4,"ngIf"],[1,"sidebar-content"],[1,"sidebar-nav"],[4,"ngFor","ngForOf"],[1,"sidebar-footer"],[1,"footer-item",3,"click"],["name","lock","size","18px"],[4,"ngIf"],["size","18px",3,"name"],[1,"logo-text"],[1,"user-info"],[1,"user-avatar"],[3,"src","alt"],[1,"user-details","text-center"],[1,"user-name"],[1,"user-role"],["class","nav-item",3,"active",4,"ngIf"],["class","nav-item",4,"ngIf"],[1,"nav-item"],[1,"nav-link",3,"click"],["size","18px",3,"name",4,"ngIf"],["class","nav-text",4,"ngIf"],["name","chevron-right","size","14px",3,"rotated",4,"ngIf"],["class","submenu",4,"ngIf"],[1,"nav-text"],["name","chevron-right","size","14px"],[1,"submenu"],["class","nested-submenu",4,"ngIf"],["routerLinkActive","active","class","submenu-item",3,"routerLink",4,"ngIf"],[1,"nested-submenu"],[1,"submenu-item","parent",3,"click"],["name","chevron-right","size","12px"],["class","nested-submenu-items",4,"ngIf"],[1,"nested-submenu-items"],["routerLinkActive","active","class","submenu-item nested",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"submenu-item","nested",3,"routerLink"],["routerLinkActive","active",1,"submenu-item",3,"routerLink"],["routerLinkActive","active",1,"nav-link",3,"routerLink"]],template:function(e,o){e&1&&(a(0,"aside",0)(1,"div",1)(2,"div",2),g(3,"img",3),M(4,$T,2,0,"span",4),c()(),M(5,WT,8,4,"div",5),a(6,"div",6)(7,"nav",7),M(8,r3,3,2,"ng-container",8),c()(),a(9,"div",9)(10,"div",10),v("click",function(){return o.lockScreen()}),g(11,"app-lucide-icon",11),M(12,a3,2,0,"span",12),c(),a(13,"div",10),v("click",function(){return o.onToggleCollapse()}),g(14,"app-lucide-icon",13),M(15,s3,2,0,"span",12),c()()()),e&2&&(H("collapsed",o.isCollapsed),d(4),m("ngIf",!o.isCollapsed),d(),m("ngIf",!o.isCollapsed),d(3),m("ngForOf",o.menuItems),d(4),m("ngIf",!o.isCollapsed),d(2),m("name",o.isCollapsed?"chevron-right":"chevron-left"),d(),m("ngIf",!o.isCollapsed))},dependencies:[R,ee,G,fe,wt,Uh,q],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:240px;background:#004aad;color:#fff;display:flex;flex-direction:column;transition:all .3s ease;z-index:1040}.sidebar.collapsed[_ngcontent-%COMP%]{width:70px}.sidebar.collapsed[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{justify-content:center;padding:.5rem 0}.sidebar.collapsed[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{justify-content:center;align-items:center;padding:.75rem 0;width:100%}.sidebar.collapsed[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin:0;width:24px;height:24px}.sidebar.collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:center;padding:.75rem}.sidebar.collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}@media (max-width: 991px){.sidebar[_ngcontent-%COMP%]{transform:translate(-100%);box-shadow:5px 0 25px #0000001a;z-index:1050}.sidebar.collapsed[_ngcontent-%COMP%]{transform:translate(0)}}@media (max-width: 576px){.sidebar[_ngcontent-%COMP%]{width:100%;max-width:280px}}.sidebar-header[_ngcontent-%COMP%]{height:90px;display:flex;align-items:center;padding:0 1.5rem;border-bottom:1px solid rgba(255,255,255,.1);margin-bottom:1rem}.sidebar-header[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.sidebar-header[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{width:32px;height:32px;transition:all .3s ease}.sidebar-header[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#fff}.user-info[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;align-items:center;gap:1rem;margin-bottom:1rem}.user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;overflow:hidden;border:3px solid rgba(255,255,255,.5);box-shadow:0 0 20px #0003;background:#ffffff59;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);transition:all .3s ease}.user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]:hover{border-color:#ffffffb3;background:#ffffff73;transform:scale(1.05)}.user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]{text-align:center;width:100%}.user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:#fff;font-size:1.1rem;font-weight:600;margin:0 0 .5rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-shadow:0 2px 4px rgba(0,0,0,.2)}.user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{color:#fffc;font-size:.9rem;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-transform:uppercase;letter-spacing:.5px;font-weight:500}.sidebar-content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0}.sidebar-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.sidebar-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a}.sidebar-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#fff3;border-radius:4px}.nav-item[_ngcontent-%COMP%]{margin:.35rem 0}.nav-item.active[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{background:#0003}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem 1.75rem;color:#fffc;text-decoration:none;transition:all .2s ease;cursor:pointer}.nav-link[_ngcontent-%COMP%]:hover{color:#fff;background:#00000026}.nav-link[_ngcontent-%COMP%]:hover   app-lucide-icon[_ngcontent-%COMP%]{opacity:1}.nav-link.active[_ngcontent-%COMP%]{color:#fff;background:#00000040}.nav-link.active[_ngcontent-%COMP%]   app-lucide-icon[_ngcontent-%COMP%]{opacity:1}.nav-link[_ngcontent-%COMP%]   app-lucide-icon[_ngcontent-%COMP%]{margin-right:.875rem;width:20px;height:20px;display:flex;align-items:center;justify-content:center;opacity:.8;transition:opacity .2s ease;flex-shrink:0}.nav-link[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{flex:1;font-size:.875rem;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.nav-link[_ngcontent-%COMP%]   .submenu-arrow[_ngcontent-%COMP%]{font-size:.75rem;transition:transform .2s ease}.nav-link[_ngcontent-%COMP%]   .submenu-arrow.rotated[_ngcontent-%COMP%]{transform:rotate(90deg)}.submenu[_ngcontent-%COMP%]{padding:.5rem 0;background:#0000001a}.submenu[_ngcontent-%COMP%]   .submenu-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1.75rem .75rem 4rem;color:#ffffffb3;text-decoration:none;font-size:.875rem;transition:all .2s ease;cursor:pointer}.submenu[_ngcontent-%COMP%]   .submenu-item[_ngcontent-%COMP%]:hover, .submenu[_ngcontent-%COMP%]   .submenu-item.active[_ngcontent-%COMP%]{color:#fff;background:#00000026}.submenu[_ngcontent-%COMP%]   .submenu-item.parent[_ngcontent-%COMP%]{font-weight:500}.submenu[_ngcontent-%COMP%]   .submenu-item.parent[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{transition:transform .2s ease}.submenu[_ngcontent-%COMP%]   .submenu-item.parent.expanded[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.submenu[_ngcontent-%COMP%]   .submenu-item.nested[_ngcontent-%COMP%]{padding-left:5rem;font-size:.8125rem}.submenu[_ngcontent-%COMP%]   .nested-submenu[_ngcontent-%COMP%]   .nested-submenu-items[_ngcontent-%COMP%]{background:#0000000d}.rotated[_ngcontent-%COMP%]{transform:rotate(90deg)}.sidebar-footer[_ngcontent-%COMP%]{padding:.5rem;border-top:1px solid rgba(255,255,255,.1);display:flex;flex-direction:column;gap:.5rem}.sidebar-footer[_ngcontent-%COMP%]   .footer-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem;color:#fffc;cursor:pointer;transition:all .2s ease;border-radius:4px}.sidebar-footer[_ngcontent-%COMP%]   .footer-item[_ngcontent-%COMP%]:hover{color:#fff;background:#0003}.sidebar-footer[_ngcontent-%COMP%]   .footer-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.sidebar-footer[_ngcontent-%COMP%]   .footer-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}@media (max-width: 991px){.sidebar-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;z-index:1039;opacity:0;visibility:hidden;transition:all .3s ease}.sidebar-overlay.active[_ngcontent-%COMP%]{opacity:1;visibility:visible}}"]})};var vu=class n{isSidebarCollapsed=!1;MOBILE_BREAKPOINT=992;ngOnInit(){this.checkScreenSize()}onResize(){this.checkScreenSize()}checkScreenSize(){typeof window<"u"&&(this.isSidebarCollapsed=window.innerWidth<this.MOBILE_BREAKPOINT)}toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed}onPageClick(){typeof window<"u"&&window.innerWidth<this.MOBILE_BREAKPOINT&&this.isSidebarCollapsed&&(this.isSidebarCollapsed=!1)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-main-layout"]],hostBindings:function(e,o){e&1&&v("resize",function(){return o.onResize()},Wg)},decls:5,vars:4,consts:[[1,"main-container"],[3,"toggleSidebar","isSidebarCollapsed"],[3,"toggleCollapse","isCollapsed"],[1,"page-wrapper",3,"click"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"app-navbar",1),v("toggleSidebar",function(){return o.toggleSidebar()}),c(),a(2,"app-sidebar",2),v("toggleCollapse",function(){return o.toggleSidebar()}),c(),a(3,"div",3),v("click",function(){return o.onPageClick()}),g(4,"router-outlet"),c()()),e&2&&(H("sidebar-collapsed",o.isSidebarCollapsed),d(),m("isSidebarCollapsed",o.isSidebarCollapsed),d(),m("isCollapsed",o.isSidebarCollapsed))},dependencies:[R,fe,Zi,_u,Cu],styles:['.main-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column}.page-wrapper[_ngcontent-%COMP%]{margin-top:100px;margin-left:240px;background:#f1f2f3;padding:12px;transition:all .3s ease}.main-container.sidebar-collapsed[_ngcontent-%COMP%]   .page-wrapper[_ngcontent-%COMP%]{margin-left:70px}@media (max-width: 991px){.page-wrapper[_ngcontent-%COMP%]{margin-left:0;padding:8px}.main-container.sidebar-collapsed[_ngcontent-%COMP%]   .page-wrapper[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 991px){.main-container.sidebar-collapsed[_ngcontent-%COMP%]:before{content:"";position:fixed;inset:0;background:#00000080;z-index:1040;opacity:1;transition:opacity .3s ease}}@media (max-width: 576px){.page-wrapper[_ngcontent-%COMP%]{padding:6px}}']})};function c3(n,t){n&1&&(a(0,"div",42),l(1," Name is required "),c())}function l3(n,t){if(n&1&&(a(0,"option",43),l(1),c()),n&2){let e=t.$implicit;m("value",e.code),d(),ke(" ",e.flag," ",e.code," ")}}function d3(n,t){n&1&&(a(0,"div",42),l(1," Phone number is required "),c())}function u3(n,t){n&1&&(a(0,"div",42),l(1," Price per liter is required "),c())}function p3(n,t){n&1&&g(0,"span",44)}var ha=class n{customerAdded=new z;modalClosed=new z;customerData={name:"",phone:"",email:"",address:"",idNumber:"",pricePerLiter:null,countryCode:"+250"};countryCodes=[{code:"+250",flag:"\u{1F1F7}\u{1F1FC}",name:"Rwanda"},{code:"+256",flag:"\u{1F1FA}\u{1F1EC}",name:"Uganda"},{code:"+254",flag:"\u{1F1F0}\u{1F1EA}",name:"Kenya"},{code:"+255",flag:"\u{1F1F9}\u{1F1FF}",name:"Tanzania"},{code:"+243",flag:"\u{1F1E8}\u{1F1E9}",name:"DRC"},{code:"+257",flag:"\u{1F1E7}\u{1F1EE}",name:"Burundi"}];loading=!1;ngOnInit(){this.customerData.countryCode="+250"}onSubmit(){if(this.customerData.name&&this.customerData.phone&&this.customerData.pricePerLiter){this.loading=!0;let t=`${this.customerData.countryCode}${this.customerData.phone}`,e=$(w({},this.customerData),{phone:t});setTimeout(()=>{this.customerAdded.emit(e),this.loading=!1,this.closeModal()},1500)}}closeModal(){this.modalClosed.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-add-customer-modal"]],outputs:{customerAdded:"customerAdded",modalClosed:"modalClosed"},decls:63,vars:13,consts:[["customerForm","ngForm"],["nameField","ngModel"],["phoneField","ngModel"],["priceField","ngModel"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","x","size","20px"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-group"],["for","name"],[1,"input-container"],["name","user","size","18px",1,"input-icon"],["type","text","id","name","name","name","required","","placeholder","Enter full name",1,"form-input",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","phone"],[1,"unified-phone-input"],[1,"phone-input-wrapper"],[1,"country-code-section"],["name","countryCode",1,"country-code-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"phone-number-section"],["name","phone","size","18px",1,"input-icon"],["type","tel","id","phone","name","phone","required","","placeholder","788123456",1,"phone-input",3,"ngModelChange","ngModel"],["for","email"],["name","mail","size","18px",1,"input-icon"],["type","email","id","email","name","email","placeholder","Email (optional)",1,"form-input",3,"ngModelChange","ngModel"],["for","address"],["name","map-pin","size","18px",1,"input-icon"],["type","text","id","address","name","address","placeholder","Address (optional)",1,"form-input",3,"ngModelChange","ngModel"],["for","idNumber"],["name","hash","size","18px",1,"input-icon"],["type","text","id","idNumber","name","idNumber","placeholder","National ID (optional)",1,"form-input",3,"ngModelChange","ngModel"],["for","pricePerLiter"],["name","dollar-sign","size","18px",1,"input-icon"],["type","number","id","pricePerLiter","name","pricePerLiter","required","","min","0","step","0.01","placeholder","Enter price per liter",1,"form-input",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-danger-outline",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],[1,"error-message"],[3,"value"],["role","status",1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,o){if(e&1){let i=k();a(0,"div",4),v("click",function(){return h(i),_(o.closeModal())}),a(1,"div",5),v("click",function(s){return h(i),_(s.stopPropagation())}),a(2,"div",6)(3,"h2"),l(4,"Add New Customer"),c(),a(5,"button",7),v("click",function(){return h(i),_(o.closeModal())}),g(6,"app-lucide-icon",8),c()(),a(7,"div",9)(8,"form",10,0),v("ngSubmit",function(){return h(i),_(o.onSubmit())}),a(10,"div",11)(11,"label",12),l(12,"Full Name *"),c(),a(13,"div",13),g(14,"app-lucide-icon",14),a(15,"input",15,1),E("ngModelChange",function(s){return h(i),I(o.customerData.name,s)||(o.customerData.name=s),_(s)}),c()(),M(17,c3,2,0,"div",16),c(),a(18,"div",11)(19,"label",17),l(20,"Phone Number *"),c(),a(21,"div",18)(22,"div",19)(23,"div",20)(24,"select",21),E("ngModelChange",function(s){return h(i),I(o.customerData.countryCode,s)||(o.customerData.countryCode=s),_(s)}),M(25,l3,2,3,"option",22),c()(),a(26,"div",23),g(27,"app-lucide-icon",24),a(28,"input",25,2),E("ngModelChange",function(s){return h(i),I(o.customerData.phone,s)||(o.customerData.phone=s),_(s)}),c()()()(),M(30,d3,2,0,"div",16),c(),a(31,"div",11)(32,"label",26),l(33,"Email Address"),c(),a(34,"div",13),g(35,"app-lucide-icon",27),a(36,"input",28),E("ngModelChange",function(s){return h(i),I(o.customerData.email,s)||(o.customerData.email=s),_(s)}),c()()(),a(37,"div",11)(38,"label",29),l(39,"Address"),c(),a(40,"div",13),g(41,"app-lucide-icon",30),a(42,"input",31),E("ngModelChange",function(s){return h(i),I(o.customerData.address,s)||(o.customerData.address=s),_(s)}),c()()(),a(43,"div",11)(44,"label",32),l(45,"National ID"),c(),a(46,"div",13),g(47,"app-lucide-icon",33),a(48,"input",34),E("ngModelChange",function(s){return h(i),I(o.customerData.idNumber,s)||(o.customerData.idNumber=s),_(s)}),c()()(),a(49,"div",11)(50,"label",35),l(51,"Price per Liter (RWF) *"),c(),a(52,"div",13),g(53,"app-lucide-icon",36),a(54,"input",37,3),E("ngModelChange",function(s){return h(i),I(o.customerData.pricePerLiter,s)||(o.customerData.pricePerLiter=s),_(s)}),c()(),M(56,u3,2,0,"div",16),c(),a(57,"div",38)(58,"button",39),v("click",function(){return h(i),_(o.closeModal())}),l(59,"Cancel"),c(),a(60,"button",40),M(61,p3,1,0,"span",41),l(62," Add Customer "),c()()()()()()}if(e&2){let i=xe(9),r=xe(16),s=xe(29),u=xe(55);d(15),S("ngModel",o.customerData.name),d(2),m("ngIf",r.invalid&&r.touched),d(7),S("ngModel",o.customerData.countryCode),d(),m("ngForOf",o.countryCodes),d(3),S("ngModel",o.customerData.phone),d(2),m("ngIf",s.invalid&&s.touched),d(6),S("ngModel",o.customerData.email),d(6),S("ngModel",o.customerData.address),d(6),S("ngModel",o.customerData.idNumber),d(6),S("ngModel",o.customerData.pricePerLiter),d(2),m("ngIf",u.invalid&&u.touched),d(4),m("disabled",!i.valid),d(),m("ngIf",o.loading)}},dependencies:[R,ee,G,ie,De,Oe,we,ve,ct,Pe,se,Ie,Xe,_t,he,$e,q],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;padding:20px}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:.25rem;width:100%;max-width:540px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border:none}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.btn-close-custom[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close-custom[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.btn-close-custom[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex:1}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:16px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;transition:all .2s;width:100%;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:40px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.75rem;margin-top:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:1.25rem;border-top:1px solid rgba(27,46,75,.1)}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b!important;border-color:#1b2e4b!important;color:#fff!important;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #1b2e4b33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3498db!important;border-color:#3498db!important;box-shadow:0 4px 12px #1b2e4b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;font-size:.875rem;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c!important;color:#fff!important;border:none!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #e74c3c4d}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b!important;box-shadow:0 4px 12px #e74c3c66}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:12px}.modal-container[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]{display:flex;border:1px solid #dee2e6;border-radius:.25rem;background:#fff;transition:all .2s ease;overflow:hidden}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .country-code-section[_ngcontent-%COMP%]{flex-shrink:0;border-right:1px solid #dee2e6;background:#f3f4f6}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .country-code-section[_ngcontent-%COMP%]   .country-code-select[_ngcontent-%COMP%]{border:none;background:transparent;padding:.5rem;font-size:.875rem;cursor:pointer;outline:none;min-width:90px;color:#374151}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;align-items:center}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]   .phone-input[_ngcontent-%COMP%]{width:100%;border:none;background:transparent;padding:.5rem .875rem .5rem 40px;font-size:.875rem;outline:none}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]   .phone-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}"]})};var ti=class n{constructor(t,e){this.http=t;this.configService=e}getSuppliers(){let t=localStorage.getItem("gemura.token");if(!t)throw new Error("No authentication token found");return this.http.post(this.configService.getFullUrl("/suppliers/get.php"),{token:t},{headers:{"Content-Type":"application/json"}})}getSupplierById(t){let e=localStorage.getItem("gemura.token");if(!e)throw new Error("No authentication token found");return this.http.post(this.configService.getFullUrl("/suppliers/get.php"),{token:e,supplier_id:t},{headers:{"Content-Type":"application/json"}})}createSupplier(t){let e=localStorage.getItem("gemura.token");if(!e)throw new Error("No authentication token found");return this.http.post(this.configService.getFullUrl("/suppliers/create.php"),w({token:e},t),{headers:{"Content-Type":"application/json"}})}updateSupplier(t,e){let o=localStorage.getItem("gemura.token");if(!o)throw new Error("No authentication token found");return this.http.post(this.configService.getFullUrl("/suppliers/update.php"),w({token:o,supplier_id:t},e),{headers:{"Content-Type":"application/json"}})}deleteSupplier(t){let e=localStorage.getItem("gemura.token");if(!e)throw new Error("No authentication token found");return this.http.post(this.configService.getFullUrl("/suppliers/delete.php"),{token:e,supplier_id:t},{headers:{"Content-Type":"application/json"}})}updateSupplierPrice(t,e){let o=localStorage.getItem("gemura.token");if(!o)throw new Error("No authentication token found");return this.http.post(this.configService.getFullUrl("/suppliers/update.php"),{token:o,supplier_id:t,sellingPricePerLiter:e},{headers:{"Content-Type":"application/json"}})}static \u0275fac=function(e){return new(e||n)(j(ot),j(Pn))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function g3(n,t){n&1&&(a(0,"div",42),l(1," Name is required "),c())}function f3(n,t){if(n&1&&(a(0,"option",43),l(1),c()),n&2){let e=t.$implicit;m("value",e.code),d(),ke(" ",e.flag," ",e.code," ")}}function h3(n,t){n&1&&(a(0,"div",42),l(1," Phone number is required "),c())}function _3(n,t){n&1&&(a(0,"div",42),l(1," Price per liter is required "),c())}function C3(n,t){n&1&&g(0,"span",44)}var _a=class n{supplierAdded=new z;modalClosed=new z;supplierData={name:"",phone:"",email:"",location:"",businessType:"individual",cattleCount:0,dailyProduction:0,farmType:"dairy",collectionSchedule:"daily",sellingPricePerLiter:0,qualityGrades:"B",paymentMethod:"cash",idNumber:"",notes:"",countryCode:"+250"};countryCodes=[{code:"+250",flag:"\u{1F1F7}\u{1F1FC}",name:"Rwanda"},{code:"+256",flag:"\u{1F1FA}\u{1F1EC}",name:"Uganda"},{code:"+254",flag:"\u{1F1F0}\u{1F1EA}",name:"Kenya"},{code:"+255",flag:"\u{1F1F9}\u{1F1FF}",name:"Tanzania"},{code:"+243",flag:"\u{1F1E8}\u{1F1E9}",name:"DRC"},{code:"+257",flag:"\u{1F1E7}\u{1F1EE}",name:"Burundi"}];loading=!1;suppliersService=A(ti);ngOnInit(){this.supplierData.countryCode="+250"}onSubmit(){if(this.supplierData.name&&this.supplierData.phone&&this.supplierData.sellingPricePerLiter){this.loading=!0;let t=`${this.supplierData.countryCode}${this.supplierData.phone}`,e=$(w({},this.supplierData),{phone:t});this.suppliersService.createSupplier(e).subscribe({next:o=>{console.log("Supplier added successfully:",o),this.supplierAdded.emit(o),this.closeModal()},error:o=>{console.error("Error adding supplier:",o)},complete:()=>{this.loading=!1}})}}closeModal(){this.modalClosed.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-add-supplier-modal"]],outputs:{supplierAdded:"supplierAdded",modalClosed:"modalClosed"},decls:63,vars:13,consts:[["supplierForm","ngForm"],["nameField","ngModel"],["phoneField","ngModel"],["sellingPriceField","ngModel"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","x","size","20px"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-group"],["for","name"],[1,"input-container"],["name","user","size","18px",1,"input-icon"],["type","text","id","name","name","name","required","","placeholder","Enter full name",1,"form-input",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","phone"],[1,"unified-phone-input"],[1,"phone-input-wrapper"],[1,"country-code-section"],["name","countryCode",1,"country-code-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"phone-number-section"],["name","phone","size","18px",1,"input-icon"],["type","tel","id","phone","name","phone","required","","placeholder","788123456",1,"phone-input",3,"ngModelChange","ngModel"],["for","email"],["name","mail","size","18px",1,"input-icon"],["type","email","id","email","name","email","placeholder","Email (optional)",1,"form-input",3,"ngModelChange","ngModel"],["for","location"],["name","map-pin","size","18px",1,"input-icon"],["type","text","id","location","name","location","placeholder","Address (optional)",1,"form-input",3,"ngModelChange","ngModel"],["for","idNumber"],["name","hash","size","18px",1,"input-icon"],["type","text","id","idNumber","name","idNumber","placeholder","National ID (optional)",1,"form-input",3,"ngModelChange","ngModel"],["for","sellingPricePerLiter"],["name","dollar-sign","size","18px",1,"input-icon"],["type","number","id","sellingPricePerLiter","name","sellingPricePerLiter","required","","min","0","step","0.01","placeholder","Enter price per liter",1,"form-input",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn","btn-danger-outline",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],[1,"error-message"],[3,"value"],["role","status",1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,o){if(e&1){let i=k();a(0,"div",4),v("click",function(){return h(i),_(o.closeModal())}),a(1,"div",5),v("click",function(s){return h(i),_(s.stopPropagation())}),a(2,"div",6)(3,"h2"),l(4,"Add New Supplier"),c(),a(5,"button",7),v("click",function(){return h(i),_(o.closeModal())}),g(6,"app-lucide-icon",8),c()(),a(7,"div",9)(8,"form",10,0),v("ngSubmit",function(){return h(i),_(o.onSubmit())}),a(10,"div",11)(11,"label",12),l(12,"Full Name *"),c(),a(13,"div",13),g(14,"app-lucide-icon",14),a(15,"input",15,1),E("ngModelChange",function(s){return h(i),I(o.supplierData.name,s)||(o.supplierData.name=s),_(s)}),c()(),M(17,g3,2,0,"div",16),c(),a(18,"div",11)(19,"label",17),l(20,"Phone Number *"),c(),a(21,"div",18)(22,"div",19)(23,"div",20)(24,"select",21),E("ngModelChange",function(s){return h(i),I(o.supplierData.countryCode,s)||(o.supplierData.countryCode=s),_(s)}),M(25,f3,2,3,"option",22),c()(),a(26,"div",23),g(27,"app-lucide-icon",24),a(28,"input",25,2),E("ngModelChange",function(s){return h(i),I(o.supplierData.phone,s)||(o.supplierData.phone=s),_(s)}),c()()()(),M(30,h3,2,0,"div",16),c(),a(31,"div",11)(32,"label",26),l(33,"Email Address"),c(),a(34,"div",13),g(35,"app-lucide-icon",27),a(36,"input",28),E("ngModelChange",function(s){return h(i),I(o.supplierData.email,s)||(o.supplierData.email=s),_(s)}),c()()(),a(37,"div",11)(38,"label",29),l(39,"Address"),c(),a(40,"div",13),g(41,"app-lucide-icon",30),a(42,"input",31),E("ngModelChange",function(s){return h(i),I(o.supplierData.location,s)||(o.supplierData.location=s),_(s)}),c()()(),a(43,"div",11)(44,"label",32),l(45,"National ID"),c(),a(46,"div",13),g(47,"app-lucide-icon",33),a(48,"input",34),E("ngModelChange",function(s){return h(i),I(o.supplierData.idNumber,s)||(o.supplierData.idNumber=s),_(s)}),c()()(),a(49,"div",11)(50,"label",35),l(51,"Price per Liter (RWF) *"),c(),a(52,"div",13),g(53,"app-lucide-icon",36),a(54,"input",37,3),E("ngModelChange",function(s){return h(i),I(o.supplierData.sellingPricePerLiter,s)||(o.supplierData.sellingPricePerLiter=s),_(s)}),c()(),M(56,_3,2,0,"div",16),c(),a(57,"div",38)(58,"button",39),v("click",function(){return h(i),_(o.closeModal())}),l(59,"Cancel"),c(),a(60,"button",40),M(61,C3,1,0,"span",41),l(62," Add Supplier "),c()()()()()()}if(e&2){let i=xe(9),r=xe(16),s=xe(29),u=xe(55);d(15),S("ngModel",o.supplierData.name),d(2),m("ngIf",r.invalid&&r.touched),d(7),S("ngModel",o.supplierData.countryCode),d(),m("ngForOf",o.countryCodes),d(3),S("ngModel",o.supplierData.phone),d(2),m("ngIf",s.invalid&&s.touched),d(6),S("ngModel",o.supplierData.email),d(6),S("ngModel",o.supplierData.location),d(6),S("ngModel",o.supplierData.idNumber),d(6),S("ngModel",o.supplierData.sellingPricePerLiter),d(2),m("ngIf",u.invalid&&u.touched),d(4),m("disabled",!i.valid),d(),m("ngIf",o.loading)}},dependencies:[R,ee,G,ie,De,Oe,we,ve,ct,Pe,se,Ie,Xe,_t,he,$e,q],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;padding:20px}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:.25rem;width:100%;max-width:540px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border:none}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.btn-close-custom[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close-custom[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.btn-close-custom[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex:1}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:16px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;transition:all .2s;width:100%;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:40px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.75rem;margin-top:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:1.25rem;border-top:1px solid rgba(27,46,75,.1)}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b!important;border-color:#1b2e4b!important;color:#fff!important;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #1b2e4b33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3498db!important;border-color:#3498db!important;box-shadow:0 4px 12px #1b2e4b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;font-size:.875rem;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c!important;color:#fff!important;border:none!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #e74c3c4d}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b!important;box-shadow:0 4px 12px #e74c3c66}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:12px}.modal-container[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]{display:flex;border:1px solid #dee2e6;border-radius:.25rem;background:#fff;transition:all .2s ease;overflow:hidden}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .country-code-section[_ngcontent-%COMP%]{flex-shrink:0;border-right:1px solid #dee2e6;background:#f3f4f6}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .country-code-section[_ngcontent-%COMP%]   .country-code-select[_ngcontent-%COMP%]{border:none;background:transparent;padding:.5rem;font-size:.875rem;cursor:pointer;outline:none;min-width:90px;color:#374151}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;align-items:center}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]   .phone-input[_ngcontent-%COMP%]{width:100%;border:none;background:transparent;padding:.5rem .875rem .5rem 40px;font-size:.875rem;outline:none}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]   .phone-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:20px;padding-top:16px;border-top:1px solid rgba(27,46,75,.1)}"]})};var v3=["chart"],Qb=(()=>{let t=class t{constructor(){this.chart=He(),this.annotations=He(),this.colors=He(),this.dataLabels=He(),this.series=He(),this.stroke=He(),this.labels=He(),this.legend=He(),this.markers=He(),this.noData=He(),this.parsing=He(),this.fill=He(),this.tooltip=He(),this.plotOptions=He(),this.responsive=He(),this.xaxis=He(),this.yaxis=He(),this.forecastDataPoints=He(),this.grid=He(),this.states=He(),this.title=He(),this.subtitle=He(),this.theme=He(),this.autoUpdateSeries=He(!0),this.chartReady=f1(),this.chartInstance=Ft(null),this.chartElement=h1.required("chart"),this.ngZone=A(We),this.isBrowser=H1(A(Wo))}ngOnChanges(o){this.isBrowser&&this.ngZone.runOutsideAngular(()=>{Tp.schedule(()=>this.hydrate(o))})}ngOnDestroy(){this.destroy()}hydrate(o){if(this.autoUpdateSeries()&&Object.keys(o).filter(r=>r!=="series").length===0){this.updateSeries(this.series(),!0);return}this.createElement()}createElement(){return jn(this,null,function*(){let{default:o}=yield import("./chunk-ONE2OQMO.js");window.ApexCharts||=o;let i={};["annotations","chart","colors","dataLabels","series","stroke","labels","legend","fill","tooltip","plotOptions","responsive","markers","noData","parsing","xaxis","yaxis","forecastDataPoints","grid","states","title","subtitle","theme"].forEach(u=>{let p=this[u]();p&&(i[u]=p)}),this.destroy();let s=this.ngZone.runOutsideAngular(()=>new o(this.chartElement().nativeElement,i));this.chartInstance.set(s),this.render(),this.chartReady.emit({chartObj:s})})}render(){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.render())}updateOptions(o,i,r,s){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateOptions(o,i,r,s))}updateSeries(o,i){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.updateSeries(o,i))}appendSeries(o,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendSeries(o,i))}appendData(o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.appendData(o))}highlightSeries(o){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.highlightSeries(o))}toggleSeries(o){return this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleSeries(o))}showSeries(o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.showSeries(o))}hideSeries(o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.hideSeries(o))}resetSeries(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.resetSeries())}zoomX(o,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.zoomX(o,i))}toggleDataPointSelection(o,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.toggleDataPointSelection(o,i))}destroy(){this.chartInstance()?.destroy(),this.chartInstance.set(null)}setLocale(o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.setLocale(o))}paper(){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.paper())}addXaxisAnnotation(o,i,r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addXaxisAnnotation(o,i,r))}addYaxisAnnotation(o,i,r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addYaxisAnnotation(o,i,r))}addPointAnnotation(o,i,r){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.addPointAnnotation(o,i,r))}removeAnnotation(o,i){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.removeAnnotation(o,i))}clearAnnotations(o){this.ngZone.runOutsideAngular(()=>this.chartInstance()?.clearAnnotations(o))}dataURI(o){return this.chartInstance()?.dataURI(o)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=N({type:t,selectors:[["apx-chart"]],viewQuery:function(i,r){i&1&&wf(r.chartElement,v3,5),i&2&&Sf()},inputs:{chart:[1,"chart"],annotations:[1,"annotations"],colors:[1,"colors"],dataLabels:[1,"dataLabels"],series:[1,"series"],stroke:[1,"stroke"],labels:[1,"labels"],legend:[1,"legend"],markers:[1,"markers"],noData:[1,"noData"],parsing:[1,"parsing"],fill:[1,"fill"],tooltip:[1,"tooltip"],plotOptions:[1,"plotOptions"],responsive:[1,"responsive"],xaxis:[1,"xaxis"],yaxis:[1,"yaxis"],forecastDataPoints:[1,"forecastDataPoints"],grid:[1,"grid"],states:[1,"states"],title:[1,"title"],subtitle:[1,"subtitle"],theme:[1,"theme"],autoUpdateSeries:[1,"autoUpdateSeries"]},outputs:{chartReady:"chartReady"},features:[It],decls:2,vars:0,consts:[["chart",""]],template:function(i,r){i&1&&jr(0,"div",null,0)},encapsulation:2,changeDetection:0});let n=t;return n})();var Jb=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=qt({type:t}),t.\u0275inj=Nt({});let n=t;return n})();var yu=class n{constructor(t,e){this.http=t;this.configService=e}getOverview(t,e){let o=localStorage.getItem(this.configService.tokenKey);if(!o)return Se(()=>"No authentication token found");let i={token:o};return t&&(i.date_from=t),e&&(i.date_to=e),this.http.post(this.configService.getFullUrl("/stats/overview"),i).pipe(J(r=>{if(r.code===200&&r.data)return r.data;throw new Error(r.message||"Failed to get overview data")}),ae(r=>(console.error("Failed to get overview data:",r),Se(()=>this.handleHttpError(r)))))}getWallets(){let t=localStorage.getItem(this.configService.tokenKey);return t?this.http.post(this.configService.getFullUrl("/wallets/get"),{token:t}).pipe(J(e=>{if(e.code===200&&e.data)return e.data;throw new Error(e.message||"Failed to get wallets")}),ae(e=>(console.error("Failed to get wallets:",e),Se(()=>this.handleHttpError(e))))):Se(()=>"No authentication token found")}getRoleBasedStats(){let t=localStorage.getItem(this.configService.tokenKey);return t?this.http.post(this.configService.getFullUrl("/stats/overview"),{token:t}).pipe(J(e=>{if(e.code===200&&e.data)return e.data;throw new Error(e.message||"Failed to get role-based stats")}),ae(e=>(console.error("Failed to get role-based stats:",e),Se(()=>this.handleHttpError(e))))):Se(()=>"No authentication token found")}handleHttpError(t){return t.status===401?"Authentication failed. Please login again.":t.status===404?"Service not found.":t.status===400?"Invalid parameters. Please check your input.":t.status===500?"Server error. Please try again later.":t.status===0?"No internet connection. Please check your network.":t.message||"An unexpected error occurred."}static \u0275fac=function(e){return new(e||n)(j(ot),j(Pn))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var M3=()=>({}),x3=()=>[],Xb=()=>[1,2,3,4],P3=()=>[1,2,3,4,5];function O3(n,t){if(n&1){let e=k();a(0,"div",18)(1,"div",19),v("click",function(){h(e);let i=f();return _(i.navigateToCollections())}),a(2,"div",20),g(3,"app-lucide-icon",21),c(),a(4,"div",22)(5,"div",23),l(6,"Milk Collections"),c(),a(7,"div",24)(8,"div",25),l(9),c(),a(10,"div",26)(11,"span",27),l(12),c(),a(13,"span",28),l(14),c()()()()(),a(15,"div",29),v("click",function(){h(e);let i=f();return _(i.navigateToSales())}),a(16,"div",20),g(17,"app-lucide-icon",30),c(),a(18,"div",22)(19,"div",23),l(20,"Milk Sales"),c(),a(21,"div",24)(22,"div",25),l(23),c(),a(24,"div",26)(25,"span",27),l(26),c(),a(27,"span",28),l(28),c()()()()(),a(29,"div",31),v("click",function(){h(e);let i=f();return _(i.navigateToSuppliers())}),a(30,"div",20),g(31,"app-lucide-icon",32),c(),a(32,"div",22)(33,"div",23),l(34,"Active Suppliers"),c(),a(35,"div",24)(36,"div",25),l(37),c(),a(38,"div",26)(39,"span",27),l(40),c(),a(41,"span",28),l(42),c()()()()(),a(43,"div",33),v("click",function(){h(e);let i=f();return _(i.navigateToCustomers())}),a(44,"div",20),g(45,"app-lucide-icon",34),c(),a(46,"div",22)(47,"div",23),l(48,"Active Customers"),c(),a(49,"div",24)(50,"div",25),l(51),c(),a(52,"div",26)(53,"span",27),l(54),c(),a(55,"span",28),l(56),c()()()()()()}if(n&2){let e=f();H("loading-overlay",e.isRefreshing),d(9),T("",e.formatNumber(e.overview.summary.collection.liters),"L"),d(3),T("",e.overview.summary.collection.transactions," Collections"),d(2),b(e.formatCurrency(e.overview.summary.collection.value)),d(9),T("",e.formatNumber(e.overview.summary.sales.liters),"L"),d(3),T("",e.overview.summary.sales.transactions," Sales"),d(2),b(e.formatCurrency(e.overview.summary.sales.value)),d(9),b(e.overview.summary.suppliers.active),d(3),T("",e.overview.summary.suppliers.inactive," Inactive"),d(2),T("",e.overview.summary.suppliers.active+e.overview.summary.suppliers.inactive," Total"),d(9),b(e.overview.summary.customers.active),d(3),T("",e.overview.summary.customers.inactive," Inactive"),d(2),T("",e.overview.summary.customers.active+e.overview.summary.customers.inactive," Total")}}function w3(n,t){if(n&1){let e=k();a(0,"div",35)(1,"div",36)(2,"div",37)(3,"h3"),l(4,"Milk Collection & Sales Trends"),c(),a(5,"div",38)(6,"button",39),v("click",function(i){h(e);let r=f();return _(r.updateChart("7D",i))}),l(7,"7D"),c(),a(8,"button",40),v("click",function(i){h(e);let r=f();return _(r.updateChart("30D",i))}),l(9,"30D"),c(),a(10,"button",39),v("click",function(i){h(e);let r=f();return _(r.updateChart("90D",i))}),l(11,"90D"),c()()(),a(12,"div",41),g(13,"apx-chart",42),c()(),a(14,"div",43)(15,"div",37)(16,"h3"),l(17,"Collection vs Sales Distribution"),c()(),a(18,"div",41),g(19,"apx-chart",44),c()()()}if(n&2){let e=f();H("loading-overlay",e.isRefreshing),d(13),m("series",e.chartOptions.series)("chart",e.chartOptions.chart)("xaxis",e.chartOptions.xaxis)("yaxis",e.chartOptions.yaxis)("dataLabels",e.chartOptions.dataLabels)("stroke",e.chartOptions.stroke)("fill",e.chartOptions.fill)("colors",e.chartOptions.colors)("tooltip",e.chartOptions.tooltip)("grid",e.chartOptions.grid)("legend",e.chartOptions.legend||Ot(21,M3)),d(6),m("series",e.donutChartOptions.series)("chart",e.donutChartOptions.chart)("labels",e.donutChartOptions.labels)("colors",e.donutChartOptions.colors)("dataLabels",e.donutChartOptions.dataLabels)("legend",e.donutChartOptions.legend)("tooltip",e.donutChartOptions.tooltip)("plotOptions",e.donutChartOptions.plotOptions)}}function S3(n,t){if(n&1){let e=k();a(0,"div",50),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.viewTransactionDetails(i))}),a(1,"div",51),g(2,"app-lucide-icon",52),c(),a(3,"div",53)(4,"div",54),l(5),c(),a(6,"div",55),l(7),c()(),a(8,"div",56),l(9),c()()}if(n&2){let e=t.$implicit,o=f(2);d(),Fe(e.type.toLowerCase()),d(),m("name",e.type.toLowerCase()==="collection"?"truck":"shopping-cart"),d(3),ke(" ",e.type," from ",o.getTransactionAccount(e)," "),d(2),b(o.formatDate(e.transaction_at||e.created_at)),d(),Fe(e.type.toLowerCase()),d(),T(" ",o.formatCurrency(e.total_amount)," ")}}function E3(n,t){if(n&1){let e=k();a(0,"div",45)(1,"div",46)(2,"h3"),l(3,"Recent Activity"),c(),a(4,"button",47),v("click",function(){h(e);let i=f();return _(i.navigateToTransactions())}),l(5,"View All"),c()(),a(6,"div",48),M(7,S3,10,9,"div",49),c()()}if(n&2){let e=f();H("loading-overlay",e.isRefreshing),d(7),m("ngForOf",((e.overview==null?null:e.overview.recent_transactions)||Ot(3,x3)).slice(0,5))}}function I3(n,t){n&1&&(a(0,"span"),l(1,"Refreshing..."),c())}function D3(n,t){if(n&1&&(a(0,"div",57)(1,"div",58),g(2,"span",59),a(3,"span",60),M(4,I3,2,0,"span",14),c()()()),n&2){let e=f();d(2),H("refreshing",e.isRefreshing),d(2),m("ngIf",e.isRefreshing)}}function k3(n,t){n&1&&(a(0,"div",81),g(1,"div",82)(2,"div",83),c())}function T3(n,t){n&1&&(a(0,"div",84),g(1,"div",85),a(2,"div",86),g(3,"div",87)(4,"div",88),a(5,"div",89),g(6,"div",90)(7,"div",90),c()()())}function A3(n,t){n&1&&(a(0,"div",91),g(1,"div",92),a(2,"div",93),g(3,"div",77)(4,"div",94),c(),g(5,"div",95),c())}function N3(n,t){n&1&&(a(0,"div")(1,"div",61),g(2,"div",62),a(3,"div",63),M(4,k3,3,0,"div",64),c()(),a(5,"div",65),M(6,T3,8,0,"div",66),c(),a(7,"div",67)(8,"div",68)(9,"div",69),g(10,"div",70),a(11,"div",71),g(12,"div",72)(13,"div",72)(14,"div",72),c()(),g(15,"div",73),c(),a(16,"div",74)(17,"div",69),g(18,"div",70),c(),g(19,"div",73),c()(),a(20,"div",75)(21,"div",76),g(22,"div",77)(23,"div",78),c(),a(24,"div",79),M(25,A3,6,0,"div",80),c()()()),n&2&&(d(4),m("ngForOf",Ot(3,Xb)),d(2),m("ngForOf",Ot(4,Xb)),d(19),m("ngForOf",Ot(5,P3)))}function R3(n,t){if(n&1){let e=k();a(0,"div",96)(1,"div",97),g(2,"app-lucide-icon",98),a(3,"h3"),l(4,"Failed to Load Dashboard"),c(),a(5,"p"),l(6),c(),a(7,"div",99)(8,"button",100),v("click",function(){h(e);let i=f();return _(i.forceRefresh())}),l(9,"Retry"),c(),a(10,"button",101),v("click",function(){h(e);let i=f();return _(i.refreshDashboard())}),l(11,"Refresh"),c()()()()}if(n&2){let e=f();d(6),b(e.errorMessage)}}function F3(n,t){if(n&1){let e=k();a(0,"app-add-customer-modal",102),v("customerAdded",function(i){h(e);let r=f();return _(r.onCustomerAdded(i))})("modalClosed",function(){h(e);let i=f();return _(i.closeAddCustomerModal())}),c()}}function L3(n,t){if(n&1){let e=k();a(0,"app-add-supplier-modal",103),v("supplierAdded",function(i){h(e);let r=f();return _(r.onSupplierAdded(i))})("modalClosed",function(){h(e);let i=f();return _(i.closeAddSupplierModal())}),c()}}var bu=class n{constructor(t,e,o,i){this.authService=t;this.dashboardService=e;this.navigationService=o;this.router=i;this.initializeCharts(),this.initializeDonutChart()}destroy$=new Ve;overview=null;isLoading=!0;errorMessage=null;lastUpdated=null;isRefreshing=!1;showAddCustomerModal=!1;showAddSupplierModal=!1;autoRefreshInterval=3e4;retryCount=0;maxRetryAttempts=3;chartOptions;donutChartOptions;ngOnInit(){this.loadDashboardData(),this.listenForAccountChanges()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadDashboardData(){this.isLoading=!0,this.errorMessage=null,this.dashboardService.getOverview().pipe(St(this.destroy$),Bp(t=>t.pipe(fn(2e3),mt((e,o)=>{if(o<this.maxRetryAttempts)return console.log(`Retry attempt ${o+1}/${this.maxRetryAttempts}`),di(2e3);throw e}))),ae(t=>(console.error("Failed to load overview after retries:",t),this.errorMessage=t,this.isLoading=!1,this.retryCount++,[]))).subscribe({next:t=>{this.overview=t,this.updateChartData(),this.isLoading=!1,this.lastUpdated=new Date,this.retryCount=0},error:t=>{console.error("Failed to load overview:",t),this.errorMessage=t,this.isLoading=!1}})}initializeDonutChart(){this.donutChartOptions={series:[0,0],chart:{type:"donut",height:300,toolbar:{show:!1}},labels:["Collections","Sales"],colors:["#004AAD","#6B7280"],dataLabels:{enabled:!0,formatter:function(t){return parseFloat(t).toFixed(2)+"%"}},legend:{show:!0,position:"bottom",horizontalAlign:"center"},tooltip:{y:{formatter:function(t){return t.toFixed(2)+" L"}}},plotOptions:{pie:{donut:{size:"60%",labels:{show:!0,name:{show:!0,fontSize:"14px",fontWeight:600,color:"#1e293b"},value:{show:!0,fontSize:"16px",fontWeight:700,color:"#004AAD",formatter:function(t){return parseFloat(t).toFixed(2)+" L"}},total:{show:!0,showAlways:!0,label:"Total",fontSize:"14px",fontWeight:600,color:"#64748b",formatter:function(t){return t.globals.seriesTotals.reduce((o,i)=>o+i,0).toFixed(2)+" L"}}}}}}}}initializeCharts(){let t=Array.from({length:30},(i,r)=>`Day ${r+1}`),e=Array.from({length:30},()=>Math.floor(Math.random()*200)+100),o=Array.from({length:30},()=>Math.floor(Math.random()*150)+80);this.chartOptions={series:[{name:"Collections",type:"column",data:e},{name:"Sales",type:"column",data:o}],chart:{type:"bar",height:300,toolbar:{show:!1}},xaxis:{categories:t},yaxis:{title:{text:"Liters"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},fill:{opacity:1},colors:["#004AAD","#6B7280"],tooltip:{y:{formatter:function(i){return i+" L"}}},grid:{borderColor:"#f1f5f9"},legend:{show:!0,position:"top"}}}updateChartData(){if(!this.overview)return;this.overview.recent_transactions&&this.overview.recent_transactions.length>0&&(console.log("Recent transactions data:",this.overview.recent_transactions),this.overview.recent_transactions.forEach((i,r)=>{console.log(`Transaction ${r+1}:`,{transaction_at:i.transaction_at,created_at:i.created_at,type:i.type,total_amount:i.total_amount})}));let t=Array.from({length:30},(i,r)=>`Day ${r+1}`),e=Array.from({length:30},()=>Math.floor(Math.random()*200)+100),o=Array.from({length:30},()=>Math.floor(Math.random()*150)+80);this.chartOptions=$(w({},this.chartOptions),{series:[{name:"Collections",type:"column",data:e},{name:"Sales",type:"column",data:o}],xaxis:{categories:t}}),this.updateDonutChartData()}updateDonutChartData(){if(!this.overview)return;let t=parseFloat(this.overview.summary.collection.liters.toFixed(2)),e=parseFloat(this.overview.summary.sales.liters.toFixed(2));this.donutChartOptions=$(w({},this.donutChartOptions),{series:[t,e]})}quickAction(t){switch(t){case"collect":this.router.navigate(["/collections"]);break;case"sell":this.router.navigate(["/sales"]);break;case"supplier":this.openAddSupplierModal();break;case"customer":this.openAddCustomerModal();break}}navigateToCollections(){this.router.navigate(["/collections"])}navigateToSales(){this.router.navigate(["/sales"])}navigateToSuppliers(){this.router.navigate(["/suppliers"])}navigateToCustomers(){this.router.navigate(["/customers"])}navigateToTransactions(){console.log("Navigate to transactions")}viewTransactionDetails(t){console.log("View transaction details:",t)}formatCurrency(t){return new Intl.NumberFormat("en-RW",{style:"currency",currency:"RWF",minimumFractionDigits:0}).format(t)}formatNumber(t){return new Intl.NumberFormat("en-RW").format(t)}formatDate(t){if(!t)return"Unknown date";let e=new Date(t);if(isNaN(e.getTime()))return console.warn("Invalid date string:",t),"Invalid date";let i=Math.floor((new Date().getTime()-e.getTime())/(1e3*60*60)),r=Math.floor(i/24);if(r<=5){if(i<1)return"Just now";if(i<24)return`${i} hours ago`;if(r===1)return"Yesterday";if(r===2)return"2 days ago";if(r===3)return"3 days ago";if(r===4)return"4 days ago";if(r===5)return"5 days ago"}return e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}formatChartPeriod(t){switch(t){case"daily":return"Daily";case"weekly":return"Weekly";case"monthly":return"Monthly";default:return t}}getTransactionAccount(t){return t.supplier_account?t.supplier_account.name:t.customer_account?t.customer_account.name:"Unknown"}updateChart(t,e){document.querySelectorAll(".chart-controls button").forEach(s=>s.classList.remove("active")),e?.target&&e.target instanceof HTMLElement&&e.target.classList.add("active");let o,i,r;switch(t){case"7D":r=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],o=[120,180,95,210,160,195,230],i=[100,150,80,180,140,170,200];break;case"30D":r=Array.from({length:30},(s,u)=>`Day ${u+1}`),o=Array.from({length:30},()=>Math.floor(Math.random()*200)+100),i=Array.from({length:30},()=>Math.floor(Math.random()*150)+80);break;case"90D":r=Array.from({length:12},(s,u)=>`Week ${u+1}`),o=Array.from({length:12},()=>Math.floor(Math.random()*1e3)+500),i=Array.from({length:12},()=>Math.floor(Math.random()*800)+400);break;default:r=Array.from({length:30},(s,u)=>`Day ${u+1}`),o=Array.from({length:30},()=>Math.floor(Math.random()*200)+100),i=Array.from({length:30},()=>Math.floor(Math.random()*150)+80)}this.chartOptions=$(w({},this.chartOptions),{series:[{name:"Collections",type:"column",data:o},{name:"Sales",type:"column",data:i}],xaxis:{categories:r}})}startAutoRefresh(){Fp(this.autoRefreshInterval).pipe(St(this.destroy$)).subscribe(()=>{this.isRefreshing||this.refreshDashboard()})}refreshDashboard(){this.isRefreshing=!0,this.loadDashboardData(),setTimeout(()=>{this.isRefreshing=!1},1e3)}forceRefresh(){this.retryCount=0,this.refreshDashboard()}listenForAccountChanges(){this.authService.currentAccount$.pipe(St(this.destroy$)).subscribe(t=>{t&&(console.log("Account changed, reloading dashboard for:",t.account_name),this.loadDashboardData())})}openAddCustomerModal(){this.showAddCustomerModal=!0}closeAddCustomerModal(){this.showAddCustomerModal=!1}onCustomerAdded(t){console.log("Customer added from dashboard:",t),this.closeAddCustomerModal(),this.refreshDashboard()}openAddSupplierModal(){this.showAddSupplierModal=!0}closeAddSupplierModal(){this.showAddSupplierModal=!1}onSupplierAdded(t){console.log("Supplier added from dashboard:",t),this.closeAddSupplierModal(),this.refreshDashboard()}static \u0275fac=function(e){return new(e||n)(D(Le),D(yu),D(fa),D(Ae))};static \u0275cmp=N({type:n,selectors:[["app-dashboard"]],decls:33,vars:8,consts:[[1,"dashboard-container"],[1,"quick-actions"],[1,"actions-grid"],[1,"action-btn",3,"click"],[1,"action-icon"],["name","truck","size","20px"],[1,"action-label"],["name","shopping-cart","size","20px"],["name","user-plus","size","20px"],["name","users","size","20px"],["class","stats-grid",3,"loading-overlay",4,"ngIf"],["class","charts-section",3,"loading-overlay",4,"ngIf"],["class","recent-activity",3,"loading-overlay",4,"ngIf"],["class","status-bar",4,"ngIf"],[4,"ngIf"],["class","error-section",4,"ngIf"],[3,"customerAdded","modalClosed",4,"ngIf"],[3,"supplierAdded","modalClosed",4,"ngIf"],[1,"stats-grid"],[1,"stat-card","collections",3,"click"],[1,"stat-icon"],["name","truck","size","28px"],[1,"stat-details"],[1,"stat-title"],[1,"stat-numbers"],[1,"main-stat"],[1,"sub-stats"],[1,"success"],[1,"volume"],[1,"stat-card","sales",3,"click"],["name","shopping-cart","size","28px"],[1,"stat-card","suppliers",3,"click"],["name","user-plus","size","28px"],[1,"stat-card","customers",3,"click"],["name","users","size","28px"],[1,"charts-section"],[1,"chart-container"],[1,"chart-header"],[1,"chart-controls"],[1,"btn-small",3,"click"],[1,"btn-small","active",3,"click"],[1,"chart-wrapper"],[3,"series","chart","xaxis","yaxis","dataLabels","stroke","fill","colors","tooltip","grid","legend"],[1,"chart-container","donut-chart"],[3,"series","chart","labels","colors","dataLabels","legend","tooltip","plotOptions"],[1,"recent-activity"],[1,"activity-header"],[1,"btn-link",3,"click"],[1,"activity-list"],["class","activity-item",3,"click",4,"ngFor","ngForOf"],[1,"activity-item",3,"click"],[1,"activity-icon"],["size","16px",3,"name"],[1,"activity-content"],[1,"activity-title"],[1,"activity-time"],[1,"activity-amount"],[1,"status-bar"],[1,"status-info"],[1,"status-indicator"],[1,"status-text"],[1,"skeleton-quick-actions"],[1,"skeleton-title"],[1,"skeleton-actions-grid"],["class","skeleton-action-btn",4,"ngFor","ngForOf"],[1,"skeleton-stats-grid"],["class","skeleton-stat-card",4,"ngFor","ngForOf"],[1,"skeleton-charts-section"],[1,"skeleton-chart-container"],[1,"skeleton-chart-header"],[1,"skeleton-chart-title"],[1,"skeleton-chart-controls"],[1,"skeleton-btn-small"],[1,"skeleton-chart-wrapper"],[1,"skeleton-chart-container","skeleton-donut-chart"],[1,"skeleton-recent-activity"],[1,"skeleton-activity-header"],[1,"skeleton-activity-title"],[1,"skeleton-view-all"],[1,"skeleton-activity-list"],["class","skeleton-activity-item",4,"ngFor","ngForOf"],[1,"skeleton-action-btn"],[1,"skeleton-action-icon"],[1,"skeleton-action-label"],[1,"skeleton-stat-card"],[1,"skeleton-stat-icon"],[1,"skeleton-stat-details"],[1,"skeleton-stat-title"],[1,"skeleton-main-stat"],[1,"skeleton-sub-stats"],[1,"skeleton-sub-stat"],[1,"skeleton-activity-item"],[1,"skeleton-activity-icon"],[1,"skeleton-activity-content"],[1,"skeleton-activity-time"],[1,"skeleton-activity-amount"],[1,"error-section"],[1,"error-card"],["name","alert-circle","size","32px"],[1,"error-actions"],[1,"btn-primary",3,"click"],[1,"btn-secondary",3,"click"],[3,"customerAdded","modalClosed"],[3,"supplierAdded","modalClosed"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"h3"),l(3,"Quick Actions"),c(),a(4,"div",2)(5,"button",3),v("click",function(){return o.quickAction("collect")}),a(6,"div",4),g(7,"app-lucide-icon",5),c(),a(8,"span",6),l(9,"Collect Milk"),c()(),a(10,"button",3),v("click",function(){return o.quickAction("sell")}),a(11,"div",4),g(12,"app-lucide-icon",7),c(),a(13,"span",6),l(14,"Sell Milk"),c()(),a(15,"button",3),v("click",function(){return o.quickAction("supplier")}),a(16,"div",4),g(17,"app-lucide-icon",8),c(),a(18,"span",6),l(19,"Add Supplier"),c()(),a(20,"button",3),v("click",function(){return o.quickAction("customer")}),a(21,"div",4),g(22,"app-lucide-icon",9),c(),a(23,"span",6),l(24,"Add Customer"),c()()()(),M(25,O3,57,14,"div",10)(26,w3,20,22,"div",11)(27,E3,8,4,"div",12)(28,D3,5,3,"div",13)(29,N3,26,6,"div",14)(30,R3,12,1,"div",15)(31,F3,1,0,"app-add-customer-modal",16)(32,L3,1,0,"app-add-supplier-modal",17),c()),e&2&&(d(25),m("ngIf",o.overview),d(),m("ngIf",o.overview),d(),m("ngIf",o.overview==null||o.overview.recent_transactions==null?null:o.overview.recent_transactions.length),d(),m("ngIf",o.overview||o.lastUpdated),d(),m("ngIf",o.isLoading&&!o.overview),d(),m("ngIf",o.errorMessage),d(),m("ngIf",o.showAddCustomerModal),d(),m("ngIf",o.showAddSupplierModal))},dependencies:[R,ee,G,fe,q,ha,_a,Jb,Qb],styles:['.dashboard-container[_ngcontent-%COMP%]{padding:12px;min-height:auto}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:8px}}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:24px}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;border:1px solid #e2e8f0;display:flex;align-items:center;gap:16px;transition:all .2s ease;cursor:pointer}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.stat-card.collections[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%], .stat-card.sales[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%], .stat-card.suppliers[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%], .stat-card.customers[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:transparent;color:#004aad}.stat-icon[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:12px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-details[_ngcontent-%COMP%]{flex:1}.stat-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#64748b;margin-bottom:8px}.stat-numbers[_ngcontent-%COMP%]   .main-stat[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#1e293b;margin-bottom:4px}.stat-numbers[_ngcontent-%COMP%]   .sub-stats[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:12px}.stat-numbers[_ngcontent-%COMP%]   .sub-stats[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#059669;font-weight:500}.stat-numbers[_ngcontent-%COMP%]   .sub-stats[_ngcontent-%COMP%]   .volume[_ngcontent-%COMP%]{color:#64748b}.quick-actions[_ngcontent-%COMP%]{margin-bottom:24px}.quick-actions[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1e293b;margin:0 0 16px}.actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px}@media (max-width: 768px){.actions-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:8px}}@media (max-width: 480px){.actions-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.action-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;padding:16px 12px;display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer;transition:all .2s ease;text-decoration:none;color:inherit}.action-btn[_ngcontent-%COMP%]:hover{border-color:#004aad;transform:translateY(-1px)}.action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.action-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;background:#004aad1a;display:flex;align-items:center;justify-content:center;color:#004aad;transition:all .2s ease}.action-btn[_ngcontent-%COMP%]:hover   .action-icon[_ngcontent-%COMP%]{background:#004aad;color:#fff}.action-label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#64748b;text-align:center;line-height:1.2}.action-btn[_ngcontent-%COMP%]:hover   .action-label[_ngcontent-%COMP%]{color:#004aad}.charts-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:24px;margin-bottom:24px}@media (max-width: 768px){.charts-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.donut-chart[_ngcontent-%COMP%]   .chart-wrapper[_ngcontent-%COMP%]{height:300px;display:flex;align-items:center;justify-content:center}.chart-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;border:1px solid #e2e8f0}.chart-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.chart-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1e293b;margin:0}.chart-controls[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-small[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid #e2e8f0;background:#fff;border-radius:6px;font-size:12px;font-weight:500;color:#64748b;cursor:pointer;transition:all .2s ease}.btn-small[_ngcontent-%COMP%]:hover{border-color:#004aad;color:#004aad}.btn-small.active[_ngcontent-%COMP%]{background:#004aad;border-color:#004aad;color:#fff}.chart-wrapper[_ngcontent-%COMP%]{height:290px;width:100%}.recent-activity[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;border:1px solid #e2e8f0}.activity-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.activity-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1e293b;margin:0}.btn-link[_ngcontent-%COMP%]{background:none;border:none;color:#004aad;font-size:14px;font-weight:500;cursor:pointer;text-decoration:none}.btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.activity-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.activity-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;border-radius:8px;transition:background-color .2s ease}.activity-item[_ngcontent-%COMP%]:hover{background:#f8fafc}.activity-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.activity-icon.collections[_ngcontent-%COMP%], .activity-icon.sales[_ngcontent-%COMP%], .activity-icon.suppliers[_ngcontent-%COMP%], .activity-icon.customers[_ngcontent-%COMP%]{background:#004aad1a;color:#004aad}.activity-content[_ngcontent-%COMP%]{flex:1}.activity-content[_ngcontent-%COMP%]   .activity-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#1e293b;margin-bottom:4px}.activity-content[_ngcontent-%COMP%]   .activity-time[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.activity-amount[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#004aad;text-align:right}.skeleton-loader[_ngcontent-%COMP%], .skeleton-recent-activity[_ngcontent-%COMP%]   .skeleton-activity-item[_ngcontent-%COMP%]   .skeleton-activity-amount[_ngcontent-%COMP%], .skeleton-recent-activity[_ngcontent-%COMP%]   .skeleton-activity-item[_ngcontent-%COMP%]   .skeleton-activity-content[_ngcontent-%COMP%]   .skeleton-activity-time[_ngcontent-%COMP%], .skeleton-recent-activity[_ngcontent-%COMP%]   .skeleton-activity-item[_ngcontent-%COMP%]   .skeleton-activity-content[_ngcontent-%COMP%]   .skeleton-activity-title[_ngcontent-%COMP%], .skeleton-recent-activity[_ngcontent-%COMP%]   .skeleton-activity-item[_ngcontent-%COMP%]   .skeleton-activity-icon[_ngcontent-%COMP%], .skeleton-recent-activity[_ngcontent-%COMP%]   .skeleton-activity-header[_ngcontent-%COMP%]   .skeleton-view-all[_ngcontent-%COMP%], .skeleton-recent-activity[_ngcontent-%COMP%]   .skeleton-activity-header[_ngcontent-%COMP%]   .skeleton-activity-title[_ngcontent-%COMP%], .skeleton-chart-container[_ngcontent-%COMP%]   .skeleton-chart-wrapper[_ngcontent-%COMP%], .skeleton-chart-container[_ngcontent-%COMP%]   .skeleton-chart-header[_ngcontent-%COMP%]   .skeleton-chart-controls[_ngcontent-%COMP%]   .skeleton-btn-small[_ngcontent-%COMP%], .skeleton-chart-container[_ngcontent-%COMP%]   .skeleton-chart-header[_ngcontent-%COMP%]   .skeleton-chart-title[_ngcontent-%COMP%], .skeleton-stat-card[_ngcontent-%COMP%]   .skeleton-stat-details[_ngcontent-%COMP%]   .skeleton-sub-stats[_ngcontent-%COMP%]   .skeleton-sub-stat[_ngcontent-%COMP%], .skeleton-stat-card[_ngcontent-%COMP%]   .skeleton-stat-details[_ngcontent-%COMP%]   .skeleton-main-stat[_ngcontent-%COMP%], .skeleton-stat-card[_ngcontent-%COMP%]   .skeleton-stat-details[_ngcontent-%COMP%]   .skeleton-stat-title[_ngcontent-%COMP%], .skeleton-stat-card[_ngcontent-%COMP%]   .skeleton-stat-icon[_ngcontent-%COMP%], .skeleton-quick-actions[_ngcontent-%COMP%]   .skeleton-action-btn[_ngcontent-%COMP%]   .skeleton-action-label[_ngcontent-%COMP%], .skeleton-quick-actions[_ngcontent-%COMP%]   .skeleton-action-btn[_ngcontent-%COMP%]   .skeleton-action-icon[_ngcontent-%COMP%], .skeleton-quick-actions[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_skeleton-pulse 1.5s ease-in-out infinite;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;border-radius:4px}.stats-grid[_ngcontent-%COMP%], .charts-section[_ngcontent-%COMP%], .recent-activity[_ngcontent-%COMP%]{transition:opacity .3s ease-in-out}@keyframes _ngcontent-%COMP%_skeleton-pulse{0%{background-position:-200% 0}to{background-position:200% 0}}.skeleton-quick-actions[_ngcontent-%COMP%]{margin-bottom:24px}.skeleton-quick-actions[_ngcontent-%COMP%]   .skeleton-title[_ngcontent-%COMP%]{height:18px;width:120px;margin-bottom:16px}.skeleton-quick-actions[_ngcontent-%COMP%]   .skeleton-actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px}@media (max-width: 768px){.skeleton-quick-actions[_ngcontent-%COMP%]   .skeleton-actions-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:8px}}@media (max-width: 480px){.skeleton-quick-actions[_ngcontent-%COMP%]   .skeleton-actions-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.skeleton-quick-actions[_ngcontent-%COMP%]   .skeleton-action-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;padding:16px 12px;display:flex;flex-direction:column;align-items:center;gap:8px}.skeleton-quick-actions[_ngcontent-%COMP%]   .skeleton-action-btn[_ngcontent-%COMP%]   .skeleton-action-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px}.skeleton-quick-actions[_ngcontent-%COMP%]   .skeleton-action-btn[_ngcontent-%COMP%]   .skeleton-action-label[_ngcontent-%COMP%]{height:12px;width:60px}.skeleton-stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:24px}@media (max-width: 768px){.skeleton-stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.skeleton-stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;border:1px solid #e2e8f0;display:flex;align-items:center;gap:16px}.skeleton-stat-card[_ngcontent-%COMP%]   .skeleton-stat-icon[_ngcontent-%COMP%]{width:52px;height:52px;border-radius:12px;flex-shrink:0}.skeleton-stat-card[_ngcontent-%COMP%]   .skeleton-stat-details[_ngcontent-%COMP%]{flex:1}.skeleton-stat-card[_ngcontent-%COMP%]   .skeleton-stat-details[_ngcontent-%COMP%]   .skeleton-stat-title[_ngcontent-%COMP%]{height:14px;width:100px;margin-bottom:8px}.skeleton-stat-card[_ngcontent-%COMP%]   .skeleton-stat-details[_ngcontent-%COMP%]   .skeleton-main-stat[_ngcontent-%COMP%]{height:28px;width:80px;margin-bottom:4px}.skeleton-stat-card[_ngcontent-%COMP%]   .skeleton-stat-details[_ngcontent-%COMP%]   .skeleton-sub-stats[_ngcontent-%COMP%]{display:flex;gap:16px}.skeleton-stat-card[_ngcontent-%COMP%]   .skeleton-stat-details[_ngcontent-%COMP%]   .skeleton-sub-stats[_ngcontent-%COMP%]   .skeleton-sub-stat[_ngcontent-%COMP%]{height:12px;width:60px}.skeleton-charts-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr;gap:24px;margin-bottom:24px}@media (max-width: 768px){.skeleton-charts-section[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.skeleton-chart-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;border:1px solid #e2e8f0}.skeleton-chart-container[_ngcontent-%COMP%]   .skeleton-chart-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.skeleton-chart-container[_ngcontent-%COMP%]   .skeleton-chart-header[_ngcontent-%COMP%]   .skeleton-chart-title[_ngcontent-%COMP%]{height:18px;width:180px}.skeleton-chart-container[_ngcontent-%COMP%]   .skeleton-chart-header[_ngcontent-%COMP%]   .skeleton-chart-controls[_ngcontent-%COMP%]{display:flex;gap:8px}.skeleton-chart-container[_ngcontent-%COMP%]   .skeleton-chart-header[_ngcontent-%COMP%]   .skeleton-chart-controls[_ngcontent-%COMP%]   .skeleton-btn-small[_ngcontent-%COMP%]{height:28px;width:40px;border-radius:6px}.skeleton-chart-container[_ngcontent-%COMP%]   .skeleton-chart-wrapper[_ngcontent-%COMP%]{height:290px;width:100%;border-radius:8px}.skeleton-chart-container.skeleton-donut-chart[_ngcontent-%COMP%]   .skeleton-chart-wrapper[_ngcontent-%COMP%]{height:300px;width:300px;border-radius:50%;margin:0 auto;position:relative;background:conic-gradient(#e2e8f0 0deg 120deg,#f0f0f0 120deg 240deg,#e2e8f0 240deg 360deg)}.skeleton-chart-container.skeleton-donut-chart[_ngcontent-%COMP%]   .skeleton-chart-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:120px;height:120px;background:#fff;border-radius:50%;z-index:2}.skeleton-chart-container.skeleton-donut-chart[_ngcontent-%COMP%]   .skeleton-chart-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100px;height:100px;background:#f8fafc;border-radius:50%;z-index:3}.skeleton-recent-activity[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;border:1px solid #e2e8f0}.skeleton-recent-activity[_ngcontent-%COMP%]   .skeleton-activity-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.skeleton-recent-activity[_ngcontent-%COMP%]   .skeleton-activity-header[_ngcontent-%COMP%]   .skeleton-activity-title[_ngcontent-%COMP%]{height:18px;width:120px}.skeleton-recent-activity[_ngcontent-%COMP%]   .skeleton-activity-header[_ngcontent-%COMP%]   .skeleton-view-all[_ngcontent-%COMP%]{height:14px;width:60px}.skeleton-recent-activity[_ngcontent-%COMP%]   .skeleton-activity-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.skeleton-recent-activity[_ngcontent-%COMP%]   .skeleton-activity-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;border-radius:8px}.skeleton-recent-activity[_ngcontent-%COMP%]   .skeleton-activity-item[_ngcontent-%COMP%]   .skeleton-activity-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;flex-shrink:0}.skeleton-recent-activity[_ngcontent-%COMP%]   .skeleton-activity-item[_ngcontent-%COMP%]   .skeleton-activity-content[_ngcontent-%COMP%]{flex:1}.skeleton-recent-activity[_ngcontent-%COMP%]   .skeleton-activity-item[_ngcontent-%COMP%]   .skeleton-activity-content[_ngcontent-%COMP%]   .skeleton-activity-title[_ngcontent-%COMP%]{height:14px;width:200px;margin-bottom:4px}.skeleton-recent-activity[_ngcontent-%COMP%]   .skeleton-activity-item[_ngcontent-%COMP%]   .skeleton-activity-content[_ngcontent-%COMP%]   .skeleton-activity-time[_ngcontent-%COMP%]{height:12px;width:100px}.skeleton-recent-activity[_ngcontent-%COMP%]   .skeleton-activity-item[_ngcontent-%COMP%]   .skeleton-activity-amount[_ngcontent-%COMP%]{height:14px;width:60px}.loading-section[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:200px;padding:40px 20px}.loading-section[_ngcontent-%COMP%]   .loading-card[_ngcontent-%COMP%]{text-align:center;background:#fff;border-radius:12px;padding:40px;border:1px solid #e2e8f0}.loading-section[_ngcontent-%COMP%]   .loading-card[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid #f3f4f6;border-top:3px solid #004AAD;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 16px}.loading-section[_ngcontent-%COMP%]   .loading-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:16px;margin:0}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-overlay[_ngcontent-%COMP%]{position:relative;opacity:.7;pointer-events:none}.loading-overlay[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#fffc;border-radius:12px;z-index:10}.loading-overlay[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:24px;height:24px;border:2px solid #f3f4f6;border-top:2px solid #004AAD;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;z-index:11}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:8px}.stat-card[_ngcontent-%COMP%]{padding:12px}.stat-numbers[_ngcontent-%COMP%]   .main-stat[_ngcontent-%COMP%]{font-size:20px}.chart-container[_ngcontent-%COMP%], .recent-activity[_ngcontent-%COMP%]{padding:12px}.activity-item[_ngcontent-%COMP%]{padding:8px}.skeleton-stat-card[_ngcontent-%COMP%], .skeleton-chart-container[_ngcontent-%COMP%], .skeleton-recent-activity[_ngcontent-%COMP%]{padding:12px}.skeleton-activity-item[_ngcontent-%COMP%]{padding:8px}}@media (max-width: 480px){.dashboard-container[_ngcontent-%COMP%]{padding:12px}.stat-card[_ngcontent-%COMP%]{padding:16px;flex-direction:column;text-align:center;gap:12px}.stat-numbers[_ngcontent-%COMP%]   .main-stat[_ngcontent-%COMP%]{font-size:20px}.chart-container[_ngcontent-%COMP%], .recent-activity[_ngcontent-%COMP%]{padding:16px}.skeleton-stat-card[_ngcontent-%COMP%]{padding:16px;flex-direction:column;text-align:center;gap:12px}.skeleton-chart-container[_ngcontent-%COMP%], .skeleton-recent-activity[_ngcontent-%COMP%]{padding:16px}}']})};function V3(n,t){if(n&1){let e=k();a(0,"div",8)(1,"div",9)(2,"h3"),l(3,"Create New Post"),c(),a(4,"button",10),v("click",function(){h(e);let i=f();return _(i.closeCreatePost())}),g(5,"app-lucide-icon",11),c()(),a(6,"div",12)(7,"textarea",13),E("ngModelChange",function(i){h(e);let r=f();return I(r.newPostText,i)||(r.newPostText=i),_(i)}),l(8,"          "),c(),a(9,"div",14)(10,"div",15)(11,"button",16),v("click",function(){h(e);let i=f();return _(i.addImage())}),g(12,"app-lucide-icon",17),l(13," Photo "),c(),a(14,"button",16),v("click",function(){h(e);let i=f();return _(i.addVideo())}),g(15,"app-lucide-icon",18),l(16," Video "),c()(),a(17,"button",19),v("click",function(){h(e);let i=f();return _(i.publishPost())}),l(18," Post "),c()()()()}if(n&2){let e=f();d(7),S("ngModel",e.newPostText),d(10),m("disabled",!e.newPostText.trim())}}function j3(n,t){n&1&&g(0,"app-lucide-icon",43)}function z3(n,t){if(n&1){let e=k();a(0,"img",47),v("click",function(){let i=h(e),r=i.$implicit,s=i.index,u=f(2).$implicit,p=f();return _(p.openImageModal(r,u.content.images,s))}),c()}if(n&2){let e=t.$implicit,o=t.index;m("src",e,Ke)("alt","Post image "+(o+1))}}function B3(n,t){if(n&1&&(a(0,"div",44)(1,"div",45),M(2,z3,1,2,"img",46),c()()),n&2){let e=f().$implicit;d(),m("ngClass","grid-"+e.content.images.length),d(),m("ngForOf",e.content.images)}}function U3(n,t){if(n&1&&(a(0,"div",48)(1,"video",49),g(2,"source",50),l(3," Your browser does not support the video tag. "),c()()),n&2){let e=f().$implicit;d(2),m("src",e.content.video,Ke)}}function H3(n,t){if(n&1){let e=k();a(0,"div",60),g(1,"img",61),a(2,"div",62)(3,"div",63)(4,"span",64),l(5),c(),a(6,"span",65),l(7),c()(),a(8,"p",66),l(9),c(),a(10,"div",67)(11,"button",68),v("click",function(){let i=h(e).$implicit,r=f(3);return _(r.toggleCommentLike(i))}),g(12,"app-lucide-icon",69),a(13,"span"),l(14),c()(),a(15,"button",70),l(16,"Reply"),c()()()()}if(n&2){let e=t.$implicit,o=f(3);d(),m("src",e.user.avatar,Ke)("alt",e.user.name),d(4),b(e.user.name),d(2),b(o.formatTime(e.timestamp)),d(2),b(e.text),d(5),b(e.likes)}}function $3(n,t){if(n&1){let e=k();a(0,"div",51)(1,"div",52),g(2,"img",53),a(3,"div",54)(4,"input",55),E("ngModelChange",function(i){h(e);let r=f(2);return I(r.newCommentText,i)||(r.newCommentText=i),_(i)}),v("keyup.enter",function(){h(e);let i=f().$implicit,r=f();return _(r.addComment(i))}),c(),a(5,"button",56),v("click",function(){h(e);let i=f().$implicit,r=f();return _(r.addComment(i))}),g(6,"app-lucide-icon",57),c()()(),a(7,"div",58),M(8,H3,17,6,"div",59),c()()}if(n&2){let e=f().$implicit,o=f();d(4),S("ngModel",o.newCommentText),d(),m("disabled",!o.newCommentText.trim()),d(3),m("ngForOf",e.commentsList)}}function W3(n,t){if(n&1){let e=k();a(0,"div",20)(1,"div",21)(2,"div",22),g(3,"img",23),a(4,"div",24)(5,"div",25),l(6),M(7,j3,1,0,"app-lucide-icon",26),c(),a(8,"div",27),l(9),c(),a(10,"div",28),l(11),c()()(),a(12,"button",29),g(13,"app-lucide-icon",30),c()(),a(14,"div",31)(15,"p",32),l(16),c(),M(17,B3,3,2,"div",33)(18,U3,4,1,"div",34),c(),a(19,"div",35)(20,"button",36),v("click",function(){let i=h(e).$implicit,r=f();return _(r.toggleLike(i))}),g(21,"app-lucide-icon",37),a(22,"span"),l(23),c()(),a(24,"button",36),v("click",function(){let i=h(e).$implicit,r=f();return _(r.toggleComments(i))}),g(25,"app-lucide-icon",38),a(26,"span"),l(27),c()(),a(28,"button",36),v("click",function(){let i=h(e).$implicit,r=f();return _(r.toggleShare(i))}),g(29,"app-lucide-icon",39),a(30,"span"),l(31),c()(),a(32,"button",40),g(33,"app-lucide-icon",41),c()(),M(34,$3,9,3,"div",42),c()}if(n&2){let e=t.$implicit,o=f();d(3),m("src",e.user.avatar,Ke)("alt",e.user.name),d(3),T(" ",e.user.name," "),d(),m("ngIf",e.user.verified),d(2),T("@",e.user.username),d(2),b(o.formatTime(e.timestamp)),d(5),b(e.content.text),d(),m("ngIf",e.content.images&&e.content.images.length>0),d(),m("ngIf",e.content.video),d(2),H("liked",e.isLiked),d(3),b(e.likes),d(4),b(e.comments),d(),H("shared",e.isShared),d(3),b(e.shares),d(3),m("ngIf",e.showComments)}}var Mu=class n{posts=[];showCreatePost=!1;newPostText="";newCommentText="";ngOnInit(){this.loadFeedPosts()}loadFeedPosts(){this.posts=[{id:"1",user:{name:"John Doe",avatar:"assets/img/user.png",username:"johndoe",verified:!0},content:{text:"Just finished a great milk collection session! The quality this season has been exceptional. \u{1F95B}\u2728",images:["assets/img/splash.jpg","assets/img/splash_cover.jpg"]},timestamp:new Date(Date.now()-7200*1e3),likes:24,comments:8,shares:3,isLiked:!1,isShared:!1,showComments:!1,commentsList:[{id:"c1",user:{name:"Jane Smith",avatar:"assets/img/user.png",username:"janesmith"},text:"Amazing work! The quality really shows.",timestamp:new Date(Date.now()-3600*1e3),likes:5,isLiked:!1,replies:[]}]},{id:"2",user:{name:"Farm Manager",avatar:"assets/img/user.png",username:"farmmanager",verified:!0},content:{text:"Weekly farm update: We've increased our milk production by 15% this month! Thanks to all our dedicated farmers. \u{1F69C}\u{1F33E}",images:["assets/img/splash.jpg"]},timestamp:new Date(Date.now()-14400*1e3),likes:42,comments:12,shares:7,isLiked:!0,isShared:!1,showComments:!1,commentsList:[]}]}createPost(){this.showCreatePost=!0}closeCreatePost(){this.showCreatePost=!1,this.newPostText=""}publishPost(){if(!this.newPostText.trim())return;let t={id:Date.now().toString(),user:{name:"You",avatar:"assets/img/user.png",username:"you",verified:!1},content:{text:this.newPostText},timestamp:new Date,likes:0,comments:0,shares:0,isLiked:!1,isShared:!1,showComments:!1,commentsList:[]};this.posts.unshift(t),this.closeCreatePost()}toggleLike(t){t.isLiked=!t.isLiked,t.likes+=t.isLiked?1:-1}toggleComments(t){t.showComments=!t.showComments}toggleShare(t){t.isShared=!t.isShared,t.shares+=t.isShared?1:-1}addComment(t){if(!this.newCommentText.trim())return;let e={id:Date.now().toString(),user:{name:"You",avatar:"assets/img/user.png",username:"you"},text:this.newCommentText,timestamp:new Date,likes:0,isLiked:!1,replies:[]};t.commentsList.push(e),t.comments++,this.newCommentText=""}toggleCommentLike(t){t.isLiked=!t.isLiked,t.likes+=t.isLiked?1:-1}addImage(){console.log("Add image")}addVideo(){console.log("Add video")}openImageModal(t,e,o){console.log("Open image modal",t,o)}formatTime(t){let o=new Date().getTime()-t.getTime(),i=Math.floor(o/6e4),r=Math.floor(o/36e5),s=Math.floor(o/864e5);return i<1?"now":i<60?`${i}m`:r<24?`${r}h`:`${s}d`}trackByPostId(t,e){return e.id}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-feed"]],decls:11,vars:3,consts:[[1,"feed-container"],[1,"feed-header"],[1,"feed-actions"],[1,"btn-primary",3,"click"],["name","plus","size","16px"],["class","create-post",4,"ngIf"],[1,"feed-posts"],["class","post-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"create-post"],[1,"create-post-header"],[1,"btn-close",3,"click"],["name","x","size","20px"],[1,"create-post-content"],["placeholder","What's happening?","rows","4",1,"post-textarea",3,"ngModelChange","ngModel"],[1,"create-post-actions"],[1,"post-options"],[1,"option-btn",3,"click"],["name","image","size","16px"],["name","video","size","16px"],[1,"btn-primary",3,"click","disabled"],[1,"post-card"],[1,"post-header"],[1,"user-info"],[1,"user-avatar",3,"src","alt"],[1,"user-details"],[1,"user-name"],["name","check-circle","size","16px","class","verified-icon",4,"ngIf"],[1,"user-username"],[1,"post-time"],[1,"post-menu"],["name","more-horizontal","size","20px"],[1,"post-content"],[1,"post-text"],["class","post-images",4,"ngIf"],["class","post-video",4,"ngIf"],[1,"post-actions"],[1,"action-btn",3,"click"],["name","heart","size","18px"],["name","message-circle","size","18px"],["name","share-2","size","18px"],[1,"action-btn"],["name","bookmark","size","18px"],["class","comments-section",4,"ngIf"],["name","check-circle","size","16px",1,"verified-icon"],[1,"post-images"],[1,"image-grid",3,"ngClass"],["class","post-image",3,"src","alt","click",4,"ngFor","ngForOf"],[1,"post-image",3,"click","src","alt"],[1,"post-video"],["controls","",1,"video-player"],["type","video/mp4",3,"src"],[1,"comments-section"],[1,"add-comment"],["src","assets/img/user.png","alt","Your avatar",1,"comment-avatar"],[1,"comment-input-wrapper"],["placeholder","Write a comment...",1,"comment-input",3,"ngModelChange","keyup.enter","ngModel"],[1,"comment-btn",3,"click","disabled"],["name","send","size","16px"],[1,"comments-list"],["class","comment",4,"ngFor","ngForOf"],[1,"comment"],[1,"comment-avatar",3,"src","alt"],[1,"comment-content"],[1,"comment-header"],[1,"comment-user"],[1,"comment-time"],[1,"comment-text"],[1,"comment-actions"],[1,"comment-action",3,"click"],["name","heart","size","14px"],[1,"comment-action"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"h1"),l(3,"Feed"),c(),a(4,"div",2)(5,"button",3),v("click",function(){return o.createPost()}),g(6,"app-lucide-icon",4),l(7," Create Post "),c()()(),M(8,V3,19,2,"div",5),a(9,"div",6),M(10,W3,35,17,"div",7),c()()),e&2&&(d(8),m("ngIf",o.showCreatePost),d(2),m("ngForOf",o.posts)("ngForTrackBy",o.trackByPostId))},dependencies:[R,Yt,ee,G,ie,ve,se,he,q],styles:[".feed-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px;background:#f8fafc;min-height:100vh}@media (max-width: 768px){.feed-container[_ngcontent-%COMP%]{padding:16px;max-width:100%}}.feed-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid #e2e8f0}.feed-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#1e293b;margin:0}.feed-header[_ngcontent-%COMP%]   .feed-actions[_ngcontent-%COMP%]{display:flex;gap:12px}.create-post[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:20px;margin-bottom:24px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0}.create-post[_ngcontent-%COMP%]   .create-post-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.create-post[_ngcontent-%COMP%]   .create-post-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1e293b;margin:0}.create-post[_ngcontent-%COMP%]   .create-post-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;color:#64748b;cursor:pointer;padding:4px;border-radius:4px;transition:all .2s ease}.create-post[_ngcontent-%COMP%]   .create-post-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.create-post[_ngcontent-%COMP%]   .post-textarea[_ngcontent-%COMP%]{width:100%;border:none;outline:none;resize:none;font-size:16px;line-height:1.5;color:#1e293b;background:transparent;margin-bottom:16px}.create-post[_ngcontent-%COMP%]   .post-textarea[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.create-post[_ngcontent-%COMP%]   .create-post-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.create-post[_ngcontent-%COMP%]   .create-post-actions[_ngcontent-%COMP%]   .post-options[_ngcontent-%COMP%]{display:flex;gap:16px}.create-post[_ngcontent-%COMP%]   .create-post-actions[_ngcontent-%COMP%]   .post-options[_ngcontent-%COMP%]   .option-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;background:none;border:none;color:#64748b;cursor:pointer;padding:8px 12px;border-radius:8px;font-size:14px;transition:all .2s ease}.create-post[_ngcontent-%COMP%]   .create-post-actions[_ngcontent-%COMP%]   .post-options[_ngcontent-%COMP%]   .option-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#004aad}.feed-posts[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.post-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:20px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;transition:all .2s ease}.post-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a}.post-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.post-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;gap:12px}.post-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;object-fit:cover;border:2px solid #f1f5f9}.post-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1e293b;display:flex;align-items:center;gap:4px;margin-bottom:2px}.post-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]   .verified-icon[_ngcontent-%COMP%]{color:#004aad}.post-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .user-username[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin-bottom:2px}.post-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-details[_ngcontent-%COMP%]   .post-time[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.post-header[_ngcontent-%COMP%]   .post-menu[_ngcontent-%COMP%]{background:none;border:none;color:#64748b;cursor:pointer;padding:8px;border-radius:8px;transition:all .2s ease}.post-header[_ngcontent-%COMP%]   .post-menu[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.post-content[_ngcontent-%COMP%]{margin-bottom:16px}.post-content[_ngcontent-%COMP%]   .post-text[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;color:#1e293b;margin:0 0 16px;white-space:pre-wrap}.post-content[_ngcontent-%COMP%]   .post-images[_ngcontent-%COMP%]{margin-bottom:16px}.post-content[_ngcontent-%COMP%]   .post-images[_ngcontent-%COMP%]   .image-grid[_ngcontent-%COMP%]{display:grid;gap:8px;border-radius:12px;overflow:hidden}.post-content[_ngcontent-%COMP%]   .post-images[_ngcontent-%COMP%]   .image-grid.grid-1[_ngcontent-%COMP%]{grid-template-columns:1fr}.post-content[_ngcontent-%COMP%]   .post-images[_ngcontent-%COMP%]   .image-grid.grid-2[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr}.post-content[_ngcontent-%COMP%]   .post-images[_ngcontent-%COMP%]   .image-grid.grid-3[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr}.post-content[_ngcontent-%COMP%]   .post-images[_ngcontent-%COMP%]   .image-grid.grid-3[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]:first-child{grid-row:1/3}.post-content[_ngcontent-%COMP%]   .post-images[_ngcontent-%COMP%]   .image-grid.grid-4[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr}.post-content[_ngcontent-%COMP%]   .post-images[_ngcontent-%COMP%]   .image-grid[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;cursor:pointer;transition:transform .2s ease}.post-content[_ngcontent-%COMP%]   .post-images[_ngcontent-%COMP%]   .image-grid[_ngcontent-%COMP%]   .post-image[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.post-content[_ngcontent-%COMP%]   .post-video[_ngcontent-%COMP%]{margin-bottom:16px}.post-content[_ngcontent-%COMP%]   .post-video[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]{width:100%;border-radius:12px;max-height:400px}.post-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-top:16px;border-top:1px solid #f1f5f9}.post-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;background:none;border:none;color:#64748b;cursor:pointer;padding:8px 12px;border-radius:8px;font-size:14px;font-weight:500;transition:all .2s ease}.post-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9}.post-actions[_ngcontent-%COMP%]   .action-btn.liked[_ngcontent-%COMP%]{color:#ef4444}.post-actions[_ngcontent-%COMP%]   .action-btn.shared[_ngcontent-%COMP%]{color:#004aad}.post-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px}.comments-section[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid #f1f5f9}.comments-section[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:16px}.comments-section[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   .comment-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;object-fit:cover}.comments-section[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   .comment-input-wrapper[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;background:#f8fafc;border-radius:20px;padding:8px 16px;border:1px solid #e2e8f0}.comments-section[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   .comment-input-wrapper[_ngcontent-%COMP%]   .comment-input[_ngcontent-%COMP%]{flex:1;border:none;outline:none;background:transparent;font-size:14px;color:#1e293b}.comments-section[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   .comment-input-wrapper[_ngcontent-%COMP%]   .comment-input[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.comments-section[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   .comment-input-wrapper[_ngcontent-%COMP%]   .comment-btn[_ngcontent-%COMP%]{background:#004aad;border:none;color:#fff;padding:6px;border-radius:50%;cursor:pointer;transition:all .2s ease}.comments-section[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   .comment-input-wrapper[_ngcontent-%COMP%]   .comment-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#003d8f}.comments-section[_ngcontent-%COMP%]   .add-comment[_ngcontent-%COMP%]   .comment-input-wrapper[_ngcontent-%COMP%]   .comment-btn[_ngcontent-%COMP%]:disabled{background:#cbd5e1;cursor:not-allowed}.comments-section[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.comments-section[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]{display:flex;gap:12px}.comments-section[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;object-fit:cover}.comments-section[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]{flex:1}.comments-section[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:4px}.comments-section[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-header[_ngcontent-%COMP%]   .comment-user[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#1e293b}.comments-section[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-header[_ngcontent-%COMP%]   .comment-time[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.comments-section[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{font-size:14px;line-height:1.5;color:#1e293b;margin:0 0 8px}.comments-section[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]{display:flex;gap:16px}.comments-section[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;background:none;border:none;color:#64748b;cursor:pointer;padding:4px 8px;border-radius:6px;font-size:12px;transition:all .2s ease}.comments-section[_ngcontent-%COMP%]   .comments-list[_ngcontent-%COMP%]   .comment[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .comment-action[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.btn-primary[_ngcontent-%COMP%]{background:#004aad;color:#fff;border:none;padding:10px 20px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#003d8f;transform:translateY(-1px)}.btn-primary[_ngcontent-%COMP%]:disabled{background:#cbd5e1;cursor:not-allowed;transform:none}@media (max-width: 768px){.feed-container[_ngcontent-%COMP%]{padding:12px}.feed-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.create-post[_ngcontent-%COMP%], .post-card[_ngcontent-%COMP%]{padding:16px}.post-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px}.post-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:6px 8px;font-size:13px}}@media (max-width: 480px){.feed-container[_ngcontent-%COMP%]{padding:8px}.create-post[_ngcontent-%COMP%], .post-card[_ngcontent-%COMP%]{padding:12px}.post-actions[_ngcontent-%COMP%]{gap:8px}.post-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{padding:6px;font-size:12px}}"]})};var xu=class n{constructor(t){this.http=t;this.loadToken()}baseUrl="https://api.gemura.rw/v2";token=null;loadToken(){this.token=localStorage.getItem("gemura.token")}getHeaders(){let t=new io({Accept:"application/json","Content-Type":"application/json"});return this.token?t.set("Authorization",`Bearer ${this.token}`):t}get(t){return this.http.get(`${this.baseUrl}${t}`,{headers:this.getHeaders()}).pipe(ae(this.handleError))}post(t,e){let o;return t==="/customers/get"?o={token:this.token}:o=$(w({},e),{token:this.token}),console.log("API Request:",{url:`${this.baseUrl}${t}`,data:o,headers:this.getHeaders()}),this.http.post(`${this.baseUrl}${t}`,o,{headers:this.getHeaders()}).pipe(ae(this.handleError))}put(t,e){return this.http.put(`${this.baseUrl}${t}`,e,{headers:this.getHeaders()}).pipe(ae(this.handleError))}delete(t){return this.http.delete(`${this.baseUrl}${t}`,{headers:this.getHeaders()}).pipe(ae(this.handleError))}handleError(t){let e="An error occurred";return t.error instanceof ErrorEvent?e=t.error.message:t.status===401?(e="Authentication failed. Please login again.",localStorage.removeItem("auth_token"),window.location.href="/auth/login"):t.status===404?e="Service not found.":t.status===500?e="Server error. Please try again later.":e=t.error?.message||`Error Code: ${t.status}`,Se(()=>new Error(e))}setToken(t){this.token=t,localStorage.setItem("gemura.token",t),console.log("Token set:",t)}getToken(){return this.token}clearToken(){this.token=null,localStorage.removeItem("auth_token")}static \u0275fac=function(e){return new(e||n)(j(ot))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var On=class n{constructor(t){this.apiService=t;let e=localStorage.getItem("gemura.token");e?(this.apiService.setToken(e),this.loadCustomersFromAPI()):this.loadMockData()}customers=[];milkSales=[];setTestToken(t){this.apiService.setToken(t),console.log("Test token set, reloading customers..."),this.loadCustomersFromAPI()}reloadCustomers(){let t=localStorage.getItem("gemura.token");t&&(this.apiService.setToken(t),this.loadCustomersFromAPI())}getCustomers(){return this.customers}getCustomersFromAPI(){return this.apiService.post("/customers/get",{})}getCustomerById(t){return this.customers.find(e=>e.id===t)}addCustomer(t){return this.apiService.post("/customers/create",{name:t.name,phone:t.phone,email:t.email,address:t.address,price_per_liter:t.pricePerLiter,customer_type:t.customerType||"Individual",business_type:t.businessType||"Retail",payment_method:t.paymentMethod||"Cash",location:t.location||t.address,notes:t.notes})}updateCustomer(t,e){let o=this.customers.findIndex(i=>i.id===t);return o!==-1?(this.customers[o]=w(w({},this.customers[o]),e),this.customers[o]):null}updateCustomerAPI(t,e){return this.apiService.post("/customers/update",{relation_id:t,price_per_liter:e})}deleteCustomer(t){let e=this.customers.findIndex(o=>o.id===t);return e!==-1?(this.customers.splice(e,1),!0):!1}deleteCustomerAPI(t){return this.apiService.post("/customers/delete",{relationship_id:t})}getMilkSales(){return this.milkSales}getMilkSalesByCustomer(t){return this.milkSales.filter(e=>e.customerId===t)}addMilkSale(t){let e=$(w({},t),{id:this.generateId()});this.milkSales.push(e);let o=this.getCustomerById(t.customerId);return o&&(o.totalPurchases=(o.totalPurchases||0)+1,o.totalAmount=(o.totalAmount||0)+t.totalAmount,o.lastPurchaseDate=t.date),e}updateMilkSale(t,e){let o=this.milkSales.findIndex(i=>i.id===t);return o!==-1?(this.milkSales[o]=w(w({},this.milkSales[o]),e),this.milkSales[o]):null}deleteMilkSale(t){let e=this.milkSales.findIndex(o=>o.id===t);return e!==-1?(this.milkSales.splice(e,1),!0):!1}getCustomerStats(){let t=this.customers.length,e=this.customers.filter(s=>s.status==="Active").length,o=this.milkSales.length,i=this.milkSales.reduce((s,u)=>s+u.totalAmount,0),r=o>0?i/o:0;return{totalCustomers:t,activeCustomers:e,totalSales:o,totalRevenue:i,averageOrderValue:r}}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}loadCustomersFromAPI(){console.log("Loading customers from API..."),this.getCustomersFromAPI().subscribe({next:t=>{console.log("API Response:",t),t.code===200||t.status==="success"?(this.customers=this.transformApiCustomers(t.data||[]),console.log("Transformed customers:",this.customers)):(console.error("API returned error:",t),this.loadMockData())},error:t=>{console.error("Failed to load customers from API:",t),this.loadMockData()}})}transformApiCustomers(t){return t.map(e=>({id:e.relationship_id||e.id,name:e.name,phone:e.phone,email:e.email||"",location:e.address||e.location||"",gpsCoordinates:e.gps_coordinates,businessType:e.business_type||"Retail",customerType:e.customer_type||"Individual",buyingPricePerLiter:parseFloat(e.price_per_liter)||0,paymentMethod:e.payment_method||"Cash",bankAccount:e.bank_account,mobileMoneyNumber:e.mobile_money_number,idNumber:e.id_number,notes:e.notes||"",profilePhoto:e.profile_photo||"assets/img/user.png",createdAt:e.created_at||new Date().toISOString(),updatedAt:e.updated_at||new Date().toISOString(),isActive:e.is_active!==!1,address:e.address||"",city:e.city||"Kigali",region:e.region||"Kigali",status:this.mapStatus(e.relationship_status||"active"),registrationDate:new Date(e.created_at||new Date),lastPurchaseDate:void 0,totalPurchases:0,totalAmount:0,preferredDeliveryTime:"Morning (8:00-10:00)",avatar:e.profile_photo||"assets/img/user.png",pricePerLiter:parseFloat(e.price_per_liter)||0,relationshipId:e.relationship_id,averageSupplyQuantity:parseFloat(e.average_supply_quantity)||0,relationshipStatus:e.relationship_status,userCode:e.code,accountCode:e.account?.code,accountName:e.account?.name}))}mapCustomerType(t){return{individual:"Individual",business:"Business",restaurant:"Restaurant",school:"School",hospital:"Hospital"}[t.toLowerCase()]||"Individual"}mapStatus(t){return{active:"Active",inactive:"Inactive",suspended:"Suspended"}[t.toLowerCase()]||"Inactive"}loadMockData(){this.customers=[{id:"1",name:"John Mukamana",phone:"+250788123456",email:"john.mukamana@email.com",location:"KG 123 St, Kigali",gpsCoordinates:"-1.9441,30.0619",businessType:"Retail",customerType:"Individual",buyingPricePerLiter:1e3,paymentMethod:"Mobile Money",bankAccount:"",mobileMoneyNumber:"+250788123456",idNumber:"1234567890123456",notes:"Prefers fresh milk, regular customer",profilePhoto:"assets/img/user.png",createdAt:"2024-01-15T00:00:00.000Z",updatedAt:"2024-09-20T00:00:00.000Z",isActive:!0,address:"KG 123 St, Kigali",city:"Kigali",region:"Kigali",status:"Active",registrationDate:new Date("2024-01-15"),lastPurchaseDate:new Date("2024-09-20"),totalPurchases:45,totalAmount:225e3,preferredDeliveryTime:"Morning (8:00-10:00)",avatar:"assets/img/user.png",pricePerLiter:1e3},{id:"2",name:"Rwanda School Complex",phone:"+250788234567",email:"admin@rwandaschool.rw",location:"KG 456 St, Kigali",gpsCoordinates:"-1.9441,30.0619",businessType:"Education",customerType:"School",buyingPricePerLiter:1e3,paymentMethod:"Bank Transfer",bankAccount:"1234567890",mobileMoneyNumber:"",idNumber:"SCHOOL001",notes:"Large quantity orders for school meals",profilePhoto:"assets/img/user.png",createdAt:"2024-02-10T00:00:00.000Z",updatedAt:"2024-09-22T00:00:00.000Z",isActive:!0,address:"KG 456 St, Kigali",city:"Kigali",region:"Kigali",status:"Active",registrationDate:new Date("2024-02-10"),lastPurchaseDate:new Date("2024-09-22"),totalPurchases:120,totalAmount:6e5,preferredDeliveryTime:"Early Morning (6:00-8:00)",avatar:"assets/img/user.png",pricePerLiter:1e3},{id:"3",name:"Marie Uwimana",phone:"+250788345678",email:"marie.uwimana@email.com",location:"KG 789 St, Kigali",gpsCoordinates:"-1.9441,30.0619",businessType:"Retail",customerType:"Individual",buyingPricePerLiter:1200,paymentMethod:"Cash",bankAccount:"",mobileMoneyNumber:"+250788345678",idNumber:"1234567890123457",notes:"Prefers organic milk",profilePhoto:"assets/img/user.png",createdAt:"2024-03-05T00:00:00.000Z",updatedAt:"2024-09-18T00:00:00.000Z",isActive:!0,address:"KG 789 St, Kigali",city:"Kigali",region:"Kigali",status:"Active",registrationDate:new Date("2024-03-05"),lastPurchaseDate:new Date("2024-09-18"),totalPurchases:28,totalAmount:14e4,preferredDeliveryTime:"Evening (17:00-19:00)",avatar:"assets/img/user.png",pricePerLiter:1200},{id:"4",name:"Hotel des Mille Collines",phone:"+250788456789",email:"purchasing@millecollines.rw",location:"KG 321 St, Kigali",gpsCoordinates:"-1.9441,30.0619",businessType:"Hospitality",customerType:"Business",buyingPricePerLiter:1500,paymentMethod:"Bank Transfer",bankAccount:"9876543210",mobileMoneyNumber:"",idNumber:"HOTEL001",notes:"Premium hotel, requires high quality milk",profilePhoto:"assets/img/user.png",createdAt:"2024-01-20T00:00:00.000Z",updatedAt:"2024-09-23T00:00:00.000Z",isActive:!0,address:"KG 321 St, Kigali",city:"Kigali",region:"Kigali",status:"Active",registrationDate:new Date("2024-01-20"),lastPurchaseDate:new Date("2024-09-23"),totalPurchases:200,totalAmount:1e6,preferredDeliveryTime:"Morning (7:00-9:00)",avatar:"assets/img/user.png",pricePerLiter:1500},{id:"5",name:"Kigali Hospital",phone:"+250788567890",email:"supplies@kigalihospital.rw",location:"KG 654 St, Kigali",gpsCoordinates:"-1.9441,30.0619",businessType:"Healthcare",customerType:"Hospital",buyingPricePerLiter:1300,paymentMethod:"Bank Transfer",bankAccount:"5555666677",mobileMoneyNumber:"",idNumber:"HOSPITAL001",notes:"Medical facility, requires pasteurized milk",profilePhoto:"assets/img/user.png",createdAt:"2024-02-15T00:00:00.000Z",updatedAt:"2024-09-21T00:00:00.000Z",isActive:!0,address:"KG 654 St, Kigali",city:"Kigali",region:"Kigali",status:"Active",registrationDate:new Date("2024-02-15"),lastPurchaseDate:new Date("2024-09-21"),totalPurchases:150,totalAmount:75e4,preferredDeliveryTime:"Early Morning (5:00-7:00)",avatar:"assets/img/user.png",pricePerLiter:1300}],this.milkSales=[{id:"s1",customerId:"1",customerName:"John Mukamana",date:new Date("2024-09-20"),quantity:5,pricePerLiter:1e3,totalAmount:5e3,paymentMethod:"Mobile Money",paymentStatus:"Paid",deliveryMethod:"Delivery",deliveryAddress:"KG 123 St, Kigali",notes:"Regular order"},{id:"s2",customerId:"2",customerName:"Rwanda School Complex",date:new Date("2024-09-22"),quantity:20,pricePerLiter:1e3,totalAmount:2e4,paymentMethod:"Bank Transfer",paymentStatus:"Paid",deliveryMethod:"Delivery",deliveryAddress:"KG 456 St, Kigali",notes:"Weekly school order"},{id:"s3",customerId:"4",customerName:"Hotel des Mille Collines",date:new Date("2024-09-23"),quantity:15,pricePerLiter:1200,totalAmount:18e3,paymentMethod:"Bank Transfer",paymentStatus:"Paid",deliveryMethod:"Delivery",deliveryAddress:"KG 321 St, Kigali",notes:"Premium quality milk"}]}static \u0275fac=function(e){return new(e||n)(j(xu))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ou=class n{constructor(t){this.customerService=t;this.loadChatsFromCustomers()}chats=[];messages=[];currentChatId=new Ne(null);getChats(){return Y(this.chats)}reloadChats(){this.loadChatsFromCustomers()}getChatById(t){return this.chats.find(e=>e.id===t)}getCurrentChatId(){return this.currentChatId.asObservable()}setCurrentChat(t){this.currentChatId.next(t)}getCurrentChat(){let t=this.currentChatId.value;return t?this.getChatById(t):void 0}getMessages(t){let e=this.messages.filter(o=>o.chatId===t);return Y(e)}sendMessage(t,e,o="text"){let i={id:this.generateId(),chatId:t,senderId:"current-user",senderName:"You",senderAvatar:"assets/img/user.png",content:e,timestamp:new Date,type:o,status:"sent",isOwn:!0};this.messages.push(i);let r=this.getChatById(t);return r&&(r.lastMessage=i,r.updatedAt=new Date),t==="bot-chat"&&setTimeout(()=>{this.generateBotResponse(t,e)},1500),i}markAsRead(t,e){let o=this.messages.find(i=>i.id===e&&i.chatId===t);o&&!o.isOwn&&(o.status="read")}markChatAsRead(t){let e=this.getChatById(t);e&&(e.unreadCount=0)}createGroupChat(t,e){let o={id:this.generateId(),name:t,type:"group",unreadCount:0,isOnline:!1,participants:e,createdAt:new Date,updatedAt:new Date};return this.chats.unshift(o),o}addParticipantToGroup(t,e){let o=this.getChatById(t);o&&o.type==="group"&&(o.participants.push(e),o.updatedAt=new Date)}removeParticipantFromGroup(t,e){let o=this.getChatById(t);o&&o.type==="group"&&(o.participants=o.participants.filter(i=>i.id!==e),o.updatedAt=new Date)}searchChats(t){let e=this.chats.filter(o=>o.name.toLowerCase().includes(t.toLowerCase())||o.lastMessage?.content.toLowerCase().includes(t.toLowerCase()));return Y(e)}searchMessages(t,e){let o=this.messages.filter(i=>i.chatId===t&&i.content.toLowerCase().includes(e.toLowerCase()));return Y(o)}generateId(){return Math.random().toString(36).substr(2,9)}loadChatsFromCustomers(){let t=this.customerService.getCustomers(),e={id:"bot-chat",name:"Gemura Assistant",avatar:"bot-icon",type:"individual",unreadCount:0,isOnline:!0,lastSeen:new Date,participants:[{id:"bot",name:"Gemura Assistant",avatar:"bot-icon",role:"member",isOnline:!0,lastSeen:new Date}],lastMessage:{id:"bot-welcome",chatId:"bot-chat",senderId:"bot",senderName:"Gemura Assistant",content:"Hello! I'm here to help you with any questions about your milk business. How can I assist you today?",timestamp:new Date(Date.now()-1e3*60*30),type:"text",status:"delivered",isOwn:!1},createdAt:new Date,updatedAt:new Date(Date.now()-1e3*60*30)},o=[];t&&t.length>0?o=t.map((i,r)=>{let s=`chat-${i.id}`,u=Math.random()>.5,p=Math.floor(Math.random()*5);return{id:s,name:i.name,avatar:i.avatar||"assets/img/user.png",type:"individual",unreadCount:p,isOnline:u,lastSeen:u?new Date:new Date(Date.now()-Math.random()*1e3*60*60*24),participants:[{id:i.id,name:i.name,avatar:i.avatar||"assets/img/user.png",role:"member",isOnline:u,lastSeen:u?new Date:new Date(Date.now()-Math.random()*1e3*60*60*24)}],lastMessage:this.generateRandomLastMessage(s,i.name),createdAt:i.registrationDate||new Date,updatedAt:new Date(Date.now()-Math.random()*1e3*60*60*24)}}):o=this.createMockCustomerChats(),this.chats=[e,...o],this.generateSampleMessages()}createMockCustomerChats(){return[{id:"mock-1",name:"John Doe",avatar:"assets/img/user.png"},{id:"mock-2",name:"Jane Smith",avatar:"assets/img/user.png"},{id:"mock-3",name:"Mike Johnson",avatar:"assets/img/user.png"}].map(e=>{let o=`chat-${e.id}`,i=Math.random()>.5,r=Math.floor(Math.random()*5);return{id:o,name:e.name,avatar:e.avatar,type:"individual",unreadCount:r,isOnline:i,lastSeen:i?new Date:new Date(Date.now()-Math.random()*1e3*60*60*24),participants:[{id:e.id,name:e.name,avatar:e.avatar,role:"member",isOnline:i,lastSeen:i?new Date:new Date(Date.now()-Math.random()*1e3*60*60*24)}],lastMessage:this.generateRandomLastMessage(o,e.name),createdAt:new Date(Date.now()-Math.random()*1e3*60*60*24*7),updatedAt:new Date(Date.now()-Math.random()*1e3*60*60*24)}})}generateRandomLastMessage(t,e){let o=["Hello! How can I help you today?","Thanks for your message!","I'll get back to you soon.","Is there anything else I can help with?","Have a great day!","Let me know if you need anything.","Perfect! I'll take care of that.","Thanks for reaching out!"],i=o[Math.floor(Math.random()*o.length)],r=Math.random()>.5;return{id:`msg-${t}-${Date.now()}`,chatId:t,senderId:r?"current-user":e.toLowerCase().replace(" ","-"),senderName:r?"You":e,content:i,timestamp:new Date(Date.now()-Math.random()*1e3*60*60*24),type:"text",status:r?"sent":"delivered",isOwn:r}}generateSampleMessages(){let t=[];if(this.chats.find(o=>o.id==="bot-chat")){let o=[{id:"bot-welcome",chatId:"bot-chat",senderId:"bot",senderName:"Gemura Assistant",senderAvatar:"bot-icon",content:"Hello! I'm here to help you with any questions about your milk business. How can I assist you today?",timestamp:new Date(Date.now()-18e5),type:"text",status:"delivered",isOwn:!1},{id:"bot-tip-1",chatId:"bot-chat",senderId:"bot",senderName:"Gemura Assistant",senderAvatar:"bot-icon",content:"\u{1F4A1} Tip: You can ask me about customers, sales, inventory, or any aspect of your milk business!",timestamp:new Date(Date.now()-15e5),type:"text",status:"delivered",isOwn:!1}];t.push(...o)}this.chats.slice(1,4).forEach(o=>{let i=Math.floor(Math.random()*3)+1;for(let r=0;r<i;r++){let s=Math.random()>.5,u=["Hello! How are you?","Thanks for your message!","I'll get back to you soon.","Is there anything else I can help with?","Have a great day!","Let me know if you need anything.","Perfect! I'll take care of that.","Thanks for reaching out!"];t.push({id:`msg-${o.id}-${r}`,chatId:o.id,senderId:s?"current-user":o.participants[0].id,senderName:s?"You":o.participants[0].name,senderAvatar:s?"assets/img/user.png":o.participants[0].avatar,content:u[Math.floor(Math.random()*u.length)],timestamp:new Date(Date.now()-Math.random()*1e3*60*60*24),type:"text",status:s?"sent":"delivered",isOwn:s})}}),this.messages=t}generateBotResponse(t,e){let o=this.getBotResponses(e),i=o[Math.floor(Math.random()*o.length)],r={id:this.generateId(),chatId:t,senderId:"bot",senderName:"Gemura Assistant",senderAvatar:"bot-icon",content:i,timestamp:new Date,type:"text",status:"delivered",isOwn:!1};this.messages.push(r);let s=this.getChatById(t);s&&(s.lastMessage=r,s.updatedAt=new Date)}getBotResponses(t){let e=t.toLowerCase();return e.includes("customer")||e.includes("client")?["I can help you manage your customers. You can view all customers, add new ones, or track their purchase history.","Your customer database is accessible from the Customers section. Would you like me to show you how to add a new customer?","Customer management is essential for your business. I can guide you through the process of adding or updating customer information."]:e.includes("milk")||e.includes("supply")||e.includes("delivery")?["I can help you track milk supplies and deliveries. You can monitor inventory levels and schedule deliveries to your customers.","Managing milk supply is crucial for your business. I can assist you with inventory tracking and delivery scheduling.","Your milk business requires careful supply management. I can help you optimize your delivery routes and track customer orders."]:e.includes("sales")||e.includes("revenue")||e.includes("profit")?["I can help you analyze your sales data and revenue. You can view detailed reports and track your business performance.","Sales analytics are important for business growth. I can help you understand your revenue patterns and customer behavior.","Tracking sales and revenue helps you make informed decisions. I can assist you with financial reporting and analysis."]:e.includes("help")||e.includes("support")?["I'm here to help you with your milk business! I can assist with customer management, sales tracking, inventory, and more.","I can guide you through various aspects of your business including customer relations, supply management, and financial tracking.","Feel free to ask me about any aspect of your milk business. I'm here to help you succeed!"]:e.includes("hello")||e.includes("hi")||e.includes("hey")?["Hello! I'm your Gemura Assistant. How can I help you with your milk business today?","Hi there! I'm here to assist you with managing your milk business. What would you like to know?","Greetings! I'm ready to help you with any questions about your business operations."]:["I understand you're asking about that. Let me help you with information about your milk business.","That's a great question! I can help you find the information you need about your business operations.","I'm here to assist you with your milk business. Could you be more specific about what you'd like to know?","I can help you with various aspects of your business including customers, sales, inventory, and more. What specific area interests you?"]}static \u0275fac=function(e){return new(e||n)(j(On))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function Y3(n,t){n&1&&(a(0,"div",27),g(1,"app-lucide-icon",28),c())}function Z3(n,t){if(n&1&&g(0,"img",29),n&2){let e=f().$implicit;m("src",e.avatar||"assets/img/user.png",Ke)("alt",e.name)}}function K3(n,t){n&1&&g(0,"div",30)}function Q3(n,t){if(n&1&&(a(0,"span",31),l(1),c()),n&2){let e=f().$implicit;d(),b(e.unreadCount)}}function J3(n,t){if(n&1&&g(0,"app-lucide-icon",32),n&2){let e=f().$implicit;H("read",(e.lastMessage==null?null:e.lastMessage.status)==="read")}}function X3(n,t){if(n&1){let e=k();a(0,"div",14),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.selectChat(i))}),a(1,"div",15),M(2,Y3,2,0,"div",16)(3,Z3,1,2,"ng-template",null,0,ut)(5,K3,1,0,"div",17),c(),a(6,"div",18)(7,"div",19)(8,"h3",20),l(9),c(),a(10,"span",21),l(11),c()(),a(12,"div",22)(13,"p",23),l(14),c(),a(15,"div",24),M(16,Q3,2,1,"span",25)(17,J3,1,2,"app-lucide-icon",26),c()()()()}if(n&2){let e=t.$implicit,o=xe(4),i=f(2);H("active",i.currentChatId===e.id),d(2),m("ngIf",e.avatar==="bot-icon")("ngIfElse",o),d(3),m("ngIf",e.isOnline),d(4),b(e.name),d(2),b(i.formatTime(e.lastMessage==null?null:e.lastMessage.timestamp)),d(3),b((e.lastMessage==null?null:e.lastMessage.content)||"No messages yet"),d(2),m("ngIf",e.unreadCount>0),d(),m("ngIf",e.lastMessage==null?null:e.lastMessage.isOwn)}}function e4(n,t){if(n&1&&(a(0,"div",12),M(1,X3,18,10,"div",13),c()),n&2){let e=f();d(),m("ngForOf",e.chats)}}function t4(n,t){n&1&&(a(0,"div",27),g(1,"app-lucide-icon",55),c())}function n4(n,t){if(n&1&&g(0,"img",29),n&2){let e=f(2);m("src",e.currentChat.avatar||"assets/img/user.png",Ke)("alt",e.currentChat.name)}}function o4(n,t){n&1&&g(0,"div",30)}function i4(n,t){if(n&1&&(a(0,"p"),l(1),c()),n&2){let e=f(2);d(),T(" ",e.currentChat.isOnline?"Online":"Last seen "+e.formatLastSeen(e.currentChat.lastSeen)," ")}}function r4(n,t){if(n&1&&(a(0,"p"),l(1),c()),n&2){let e=f(2);d(),T(" ",e.currentChat.participants.length," members ")}}function a4(n,t){if(n&1&&(a(0,"div",64),g(1,"img",29),c()),n&2){let e=f().$implicit;d(),m("src",e.senderAvatar||"assets/img/user.png",Ke)("alt",e.senderName)}}function s4(n,t){if(n&1&&(a(0,"div",65)(1,"span",66),l(2),c(),a(3,"span",67),l(4),c()()),n&2){let e=f().$implicit,o=f(2);d(2),b(e.senderName),d(2),b(o.formatTime(e.timestamp))}}function c4(n,t){if(n&1&&(a(0,"div",68)(1,"div",69)(2,"span",70),l(3),c(),a(4,"p",71),l(5),c()()()),n&2){let e=f().$implicit;d(3),b(e.replyTo.senderName),d(2),b(e.replyTo.content)}}function l4(n,t){if(n&1&&(a(0,"div",72),g(1,"app-lucide-icon",32),c()),n&2){let e=f().$implicit;d(),H("read",e.status==="read")}}function d4(n,t){if(n&1&&(a(0,"div",56),M(1,a4,2,2,"div",57),a(2,"div",58),M(3,s4,5,2,"div",59),a(4,"div",60),M(5,c4,6,2,"div",61),a(6,"div",62),l(7),c(),M(8,l4,2,2,"div",63),c()()()),n&2){let e=t.$implicit;H("own-message",e.isOwn)("reply-message",e.replyTo),d(),m("ngIf",!e.isOwn),d(2),m("ngIf",!e.isOwn),d(),H("reply-bubble",e.replyTo),d(),m("ngIf",e.replyTo),d(2),b(e.content),d(),m("ngIf",e.isOwn)}}function u4(n,t){if(n&1){let e=k();a(0,"div",33)(1,"div",34)(2,"button",35),v("click",function(){h(e);let i=f();return _(i.closeChat())}),g(3,"app-lucide-icon",36),c(),a(4,"div",37)(5,"div",38),M(6,t4,2,0,"div",16)(7,n4,1,2,"ng-template",null,1,ut)(9,o4,1,0,"div",17),c(),a(10,"div",39)(11,"h3"),l(12),c(),M(13,i4,2,1,"p",40)(14,r4,2,1,"p",40),c()(),a(15,"div",41)(16,"button",42),g(17,"app-lucide-icon",43),c(),a(18,"button",42),g(19,"app-lucide-icon",44),c(),a(20,"button",42),g(21,"app-lucide-icon",45),c()()(),a(22,"div",46,2),M(24,d4,9,11,"div",47),c(),a(25,"div",48)(26,"button",49),g(27,"app-lucide-icon",50),c(),a(28,"div",51)(29,"input",52),E("ngModelChange",function(i){h(e);let r=f();return I(r.newMessage,i)||(r.newMessage=i),_(i)}),v("keydown.enter",function(){h(e);let i=f();return _(i.sendMessage())}),c()(),a(30,"button",53),v("click",function(){h(e);let i=f();return _(i.sendMessage())}),g(31,"app-lucide-icon",54),c()()()}if(n&2){let e=xe(8),o=f();d(6),m("ngIf",o.currentChat.avatar==="bot-icon")("ngIfElse",e),d(3),m("ngIf",o.currentChat.isOnline),d(3),b(o.currentChat.name),d(),m("ngIf",o.currentChat.type==="individual"),d(),m("ngIf",o.currentChat.type==="group"),d(10),m("ngForOf",o.messages),d(5),S("ngModel",o.newMessage),d(),m("disabled",!o.newMessage.trim())}}var wu=class n{constructor(t){this.chatService=t}chats=[];currentChat=null;currentChatId=null;messages=[];newMessage="";subscriptions=[];ngOnInit(){this.loadChats(),this.subscribeToCurrentChat(),setTimeout(()=>{this.chatService.reloadChats(),this.loadChats()},1e3)}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe())}loadChats(){this.chatService.getChats().subscribe(t=>{this.chats=t})}subscribeToCurrentChat(){let t=this.chatService.getCurrentChatId().subscribe(e=>{this.currentChatId=e,e?(this.currentChat=this.chatService.getChatById(e)||null,this.loadMessages(e)):(this.currentChat=null,this.messages=[])});this.subscriptions.push(t)}loadMessages(t){this.chatService.getMessages(t).subscribe(e=>{this.messages=e,this.chatService.markChatAsRead(t)})}selectChat(t){this.chatService.setCurrentChat(t.id)}closeChat(){this.chatService.setCurrentChat(null)}sendMessage(){!this.newMessage.trim()||!this.currentChatId||(this.chatService.sendMessage(this.currentChatId,this.newMessage.trim()),this.newMessage="",this.loadMessages(this.currentChatId))}startNewChat(){console.log("Start new chat")}formatTime(t){if(!t)return"";let o=new Date().getTime()-t.getTime(),i=Math.floor(o/(1e3*60)),r=Math.floor(o/(1e3*60*60)),s=Math.floor(o/(1e3*60*60*24));return i<1?"now":i<60?`${i}m`:r<24?`${r}h`:s<7?`${s}d`:t.toLocaleDateString()}formatLastSeen(t){if(!t)return"";let o=new Date().getTime()-t.getTime(),i=Math.floor(o/(1e3*60)),r=Math.floor(o/(1e3*60*60));return i<1?"just now":i<60?`${i} minutes ago`:r<24?`${r} hours ago`:t.toLocaleDateString()}static \u0275fac=function(e){return new(e||n)(D(Ou))};static \u0275cmp=N({type:n,selectors:[["app-chats"]],decls:13,vars:2,consts:[["userAvatar",""],["userAvatarSmall",""],["messagesContainer",""],[1,"chats-container"],[1,"chats-header"],[1,"header-content"],[1,"page-description"],[1,"header-actions"],[1,"btn-primary",3,"click"],["name","plus","size","16px"],["class","chat-list",4,"ngIf"],["class","chat-view",4,"ngIf"],[1,"chat-list"],["class","chat-item",3,"active","click",4,"ngFor","ngForOf"],[1,"chat-item",3,"click"],[1,"chat-avatar"],["class","avatar-content",4,"ngIf","ngIfElse"],["class","online-indicator",4,"ngIf"],[1,"chat-content"],[1,"chat-header"],[1,"chat-name"],[1,"chat-time"],[1,"chat-preview"],[1,"last-message"],[1,"chat-badges"],["class","unread-count",4,"ngIf"],["name","check","size","12px",3,"read",4,"ngIf"],[1,"avatar-content"],["name","bot","size","24px"],[3,"src","alt"],[1,"online-indicator"],[1,"unread-count"],["name","check","size","12px"],[1,"chat-view"],[1,"chat-header-bar"],[1,"back-btn",3,"click"],["name","arrow-left","size","20px"],[1,"chat-info"],[1,"chat-avatar-small"],[1,"chat-details"],[4,"ngIf"],[1,"chat-actions"],[1,"action-btn"],["name","phone","size","18px"],["name","video","size","18px"],["name","more-vertical","size","18px"],[1,"messages-container"],["class","message",3,"own-message","reply-message",4,"ngFor","ngForOf"],[1,"message-input"],[1,"attach-btn"],["name","paperclip","size","20px"],[1,"input-container"],["type","text","placeholder","Type a message...",1,"message-field",3,"ngModelChange","keydown.enter","ngModel"],[1,"send-btn",3,"click","disabled"],["name","send","size","18px"],["name","bot","size","20px"],[1,"message"],["class","message-avatar",4,"ngIf"],[1,"message-content"],["class","message-header",4,"ngIf"],[1,"message-bubble"],["class","reply-preview",4,"ngIf"],[1,"message-text"],["class","message-status",4,"ngIf"],[1,"message-avatar"],[1,"message-header"],[1,"sender-name"],[1,"message-time"],[1,"reply-preview"],[1,"reply-content"],[1,"reply-sender"],[1,"reply-text"],[1,"message-status"]],template:function(e,o){e&1&&(a(0,"div",3)(1,"div",4)(2,"div",5)(3,"h1"),l(4,"Chats"),c(),a(5,"p",6),l(6,"Stay connected with your team and customers"),c()(),a(7,"div",7)(8,"button",8),v("click",function(){return o.startNewChat()}),g(9,"app-lucide-icon",9),l(10," New Chat "),c()()(),M(11,e4,2,1,"div",10)(12,u4,32,9,"div",11),c()),e&2&&(d(11),m("ngIf",!o.currentChat),d(),m("ngIf",o.currentChat))},dependencies:[R,ee,G,ie,ve,se,he,fe,q],styles:[".chats-container[_ngcontent-%COMP%]{padding:12px;min-height:100vh;background:transparent;display:flex;flex-direction:column}@media (max-width: 768px){.chats-container[_ngcontent-%COMP%]{padding:8px}}.chats-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px;gap:20px}@media (max-width: 768px){.chats-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px}}.chats-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1e293b;margin:0 0 8px}.chats-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{color:#64748b;font-size:16px;margin:0}.chats-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}@media (max-width: 768px){.chats-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:stretch}}.chats-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#1e293b;border:1px solid #dee2e6;padding:10px 16px;border-radius:8px;font-weight:500;transition:all .2s ease}.chats-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:hover{background:#fafbfc;border-color:#004aad;color:#004aad}.chats-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]:focus{outline:none;border-color:#004aad;box-shadow:0 0 0 3px #004aad1a}.chat-list[_ngcontent-%COMP%]{background:#fff;border-radius:12px;border:1px solid #e2e8f0;box-shadow:none;overflow:hidden}.chat-list[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;border-bottom:1px solid #f1f5f9;cursor:pointer;transition:all .2s ease;gap:12px}.chat-list[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]:hover{background:#f8fafc}.chat-list[_ngcontent-%COMP%]   .chat-item.active[_ngcontent-%COMP%]{background:#004aad0d;border-left:3px solid #004AAD}.chat-list[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.chat-list[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]   .chat-avatar[_ngcontent-%COMP%]{position:relative;width:48px;height:48px;border-radius:50%;overflow:hidden;flex-shrink:0}.chat-list[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]   .chat-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.chat-list[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]   .chat-avatar[_ngcontent-%COMP%]   .online-indicator[_ngcontent-%COMP%]{position:absolute;bottom:2px;right:2px;width:12px;height:12px;background:#10b981;border:2px solid white;border-radius:50%}.chat-list[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]   .chat-content[_ngcontent-%COMP%]{flex:1;min-width:0}.chat-list[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]   .chat-content[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px}.chat-list[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]   .chat-content[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .chat-name[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1e293b;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chat-list[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]   .chat-content[_ngcontent-%COMP%]   .chat-header[_ngcontent-%COMP%]   .chat-time[_ngcontent-%COMP%]{font-size:12px;color:#64748b;white-space:nowrap}.chat-list[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]   .chat-content[_ngcontent-%COMP%]   .chat-preview[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.chat-list[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]   .chat-content[_ngcontent-%COMP%]   .chat-preview[_ngcontent-%COMP%]   .last-message[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}.chat-list[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]   .chat-content[_ngcontent-%COMP%]   .chat-preview[_ngcontent-%COMP%]   .chat-badges[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-left:8px}.chat-list[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]   .chat-content[_ngcontent-%COMP%]   .chat-preview[_ngcontent-%COMP%]   .chat-badges[_ngcontent-%COMP%]   .unread-count[_ngcontent-%COMP%]{background:#004aad;color:#fff;font-size:12px;font-weight:600;padding:2px 6px;border-radius:10px;min-width:18px;text-align:center}.chat-list[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]   .chat-content[_ngcontent-%COMP%]   .chat-preview[_ngcontent-%COMP%]   .chat-badges[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#94a3b8}.chat-list[_ngcontent-%COMP%]   .chat-item[_ngcontent-%COMP%]   .chat-content[_ngcontent-%COMP%]   .chat-preview[_ngcontent-%COMP%]   .chat-badges[_ngcontent-%COMP%]   app-feather-icon.read[_ngcontent-%COMP%]{color:#004aad}.chat-view[_ngcontent-%COMP%]{background:#fff;border-radius:12px;border:1px solid #e2e8f0;box-shadow:none;display:flex;flex-direction:column;height:calc(100vh - 200px);min-height:600px}@media (max-width: 768px){.chat-view[_ngcontent-%COMP%]{height:calc(100vh - 120px);min-height:500px}}.chat-header-bar[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px 20px;border-bottom:1px solid #e2e8f0;background:#fff;border-radius:12px 12px 0 0}.chat-header-bar[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{background:none;border:none;color:#64748b;cursor:pointer;padding:8px;border-radius:6px;margin-right:12px;transition:all .2s ease}.chat-header-bar[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.chat-header-bar[_ngcontent-%COMP%]   .chat-info[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:12px}.chat-header-bar[_ngcontent-%COMP%]   .chat-info[_ngcontent-%COMP%]   .chat-avatar-small[_ngcontent-%COMP%]{position:relative;width:40px;height:40px;border-radius:50%;overflow:hidden}.chat-header-bar[_ngcontent-%COMP%]   .chat-info[_ngcontent-%COMP%]   .chat-avatar-small[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.chat-header-bar[_ngcontent-%COMP%]   .chat-info[_ngcontent-%COMP%]   .chat-avatar-small[_ngcontent-%COMP%]   .online-indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:12px;height:12px;background:#10b981;border:2px solid white;border-radius:50%}.chat-header-bar[_ngcontent-%COMP%]   .chat-info[_ngcontent-%COMP%]   .chat-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1e293b;margin:0 0 2px}.chat-header-bar[_ngcontent-%COMP%]   .chat-info[_ngcontent-%COMP%]   .chat-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;color:#64748b;margin:0}.chat-header-bar[_ngcontent-%COMP%]   .chat-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.chat-header-bar[_ngcontent-%COMP%]   .chat-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:none;border:none;color:#64748b;cursor:pointer;padding:8px;border-radius:6px;transition:all .2s ease}.chat-header-bar[_ngcontent-%COMP%]   .chat-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.messages-container[_ngcontent-%COMP%]{flex:1;padding:20px;overflow-y:auto;display:flex;flex-direction:column;gap:16px;background:#f8fafc}.messages-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:flex-end}.messages-container[_ngcontent-%COMP%]   .message.own-message[_ngcontent-%COMP%]{flex-direction:row-reverse}.messages-container[_ngcontent-%COMP%]   .message.own-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{align-items:flex-end}.messages-container[_ngcontent-%COMP%]   .message.own-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:#004aad;color:#fff;border-radius:18px 18px 4px}.messages-container[_ngcontent-%COMP%]   .message.own-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-status[_ngcontent-%COMP%]{color:#ffffffb3}.messages-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-avatar[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;overflow:hidden;flex-shrink:0}.messages-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.messages-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:70%;gap:4px}.messages-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:4px}.messages-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .sender-name[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#1e293b}.messages-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{font-size:11px;color:#94a3b8}.messages-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]{background:#fff;padding:12px 16px;border-radius:18px 18px 18px 4px;box-shadow:none;position:relative}.messages-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-bubble.reply-bubble[_ngcontent-%COMP%]{border-left:3px solid #004AAD}.messages-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .reply-preview[_ngcontent-%COMP%]{margin-bottom:8px;padding:8px;background:#004aad1a;border-radius:8px;border-left:3px solid #004AAD}.messages-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .reply-preview[_ngcontent-%COMP%]   .reply-sender[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#004aad;display:block;margin-bottom:2px}.messages-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .reply-preview[_ngcontent-%COMP%]   .reply-text[_ngcontent-%COMP%]{font-size:12px;color:#64748b;margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.messages-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-text[_ngcontent-%COMP%]{font-size:14px;line-height:1.4;margin:0}.messages-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-status[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;margin-top:4px}.messages-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-status[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#94a3b8}.messages-container[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]   .message-bubble[_ngcontent-%COMP%]   .message-status[_ngcontent-%COMP%]   app-feather-icon.read[_ngcontent-%COMP%]{color:#004aad}.message-input[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px 20px;border-top:1px solid #e2e8f0;background:#fff;border-radius:0 0 12px 12px;gap:12px}.message-input[_ngcontent-%COMP%]   .attach-btn[_ngcontent-%COMP%]{background:none;border:none;color:#64748b;cursor:pointer;padding:8px;border-radius:6px;transition:all .2s ease}.message-input[_ngcontent-%COMP%]   .attach-btn[_ngcontent-%COMP%]:hover{background:#f1f5f9;color:#1e293b}.message-input[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{flex:1;position:relative}.message-input[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .message-field[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:1px solid #e2e8f0;border-radius:20px;background:#f8fafc;font-size:14px;color:#1e293b;outline:none;transition:all .2s ease}.message-input[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .message-field[_ngcontent-%COMP%]:focus{border-color:#004aad;background:#fff;box-shadow:0 0 0 3px #004aad1a}.message-input[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .message-field[_ngcontent-%COMP%]::placeholder{color:#94a3b8}.message-input[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]{background:#004aad;border:none;color:#fff;cursor:pointer;padding:10px;border-radius:50%;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.message-input[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#003f94;transform:scale(1.05)}.message-input[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]:disabled{background:#cbd5e1;cursor:not-allowed;transform:none}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:10px 20px;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;text-decoration:none;border:none}.btn-primary.btn-primary[_ngcontent-%COMP%], .btn-secondary.btn-primary[_ngcontent-%COMP%]{background:#004aad;color:#fff}.btn-primary.btn-primary[_ngcontent-%COMP%]:hover, .btn-secondary.btn-primary[_ngcontent-%COMP%]:hover{background:#003f94;transform:translateY(-1px);box-shadow:0 4px 12px #004aad4d}.btn-primary.btn-secondary[_ngcontent-%COMP%], .btn-secondary.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#64748b;border:1px solid #e2e8f0}.btn-primary.btn-secondary[_ngcontent-%COMP%]:hover, .btn-secondary.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#004aad;color:#004aad}"]})};function p4(n,t){if(n&1&&(a(0,"div",32)(1,"div",33),g(2,"app-lucide-icon",34),c(),a(3,"div",35)(4,"div",36),l(5),c(),a(6,"div",37),l(7),c()(),a(8,"div",38),l(9),c()()),n&2){let e=t.$implicit,o=f();d(2),m("name",e.icon),d(3),b(e.title),d(2),b(e.date),d(),H("positive",e.amount>0)("negative",e.amount<0),d(),T(" ",o.formatCurrency(e.amount)," ")}}var Su=class n{savingsBalance=25e5;loanBalance=15e5;activePolicies=3;monthlyPayments=45e4;recentTransactions=[{title:"Mobile Money Transfer",date:"2 hours ago",amount:-5e4,icon:"smartphone"},{title:"Savings Deposit",date:"1 day ago",amount:1e5,icon:"save"},{title:"Loan Payment",date:"2 days ago",amount:-75e3,icon:"dollar-sign"},{title:"Insurance Premium",date:"3 days ago",amount:-25e3,icon:"shield"}];ngOnInit(){this.loadFinancialData()}createWallet(){console.log("Create wallet clicked"),alert("Wallet creation feature coming soon!")}quickAction(t){switch(console.log("Quick action triggered:",t),t){case"pay":break;case"request":break;case"top-up":break;case"withdraw":break}}navigateToService(t){console.log("Navigate to service:",t)}loadFinancialData(){console.log("Loading financial data...")}formatCurrency(t){return new Intl.NumberFormat("en-RW",{style:"currency",currency:"RWF"}).format(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-ikofi"]],decls:93,vars:5,consts:[[1,"ikofi-container"],[1,"ikofi-header"],[1,"header-content"],[1,"page-description"],[1,"header-actions"],["title","Create Wallet",1,"icon-btn",3,"click"],["name","plus","size","20px"],[1,"quick-actions"],[1,"actions-grid"],[1,"action-btn",3,"click"],[1,"action-icon"],["name","credit-card","size","20px"],[1,"action-label"],["name","user-plus","size","20px"],["name","trending-up","size","20px"],["name","trending-down","size","20px"],[1,"services-grid"],[1,"service-card",3,"click"],[1,"service-icon"],["name","save","size","24px"],[1,"service-content"],[1,"service-stats"],[1,"stat-value"],[1,"stat-label"],["name","dollar-sign","size","24px"],["name","shield","size","24px"],["name","smartphone","size","24px"],[1,"recent-transactions"],[1,"section-header"],[1,"view-all-btn"],[1,"transactions-list"],["class","transaction-item",4,"ngFor","ngForOf"],[1,"transaction-item"],[1,"transaction-icon"],["size","16px",3,"name"],[1,"transaction-details"],[1,"transaction-title"],[1,"transaction-date"],[1,"transaction-amount"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),l(4,"Ikofi"),c(),a(5,"p",3),l(6,"Manage your financial services and transactions"),c()(),a(7,"div",4)(8,"button",5),v("click",function(){return o.createWallet()}),g(9,"app-lucide-icon",6),c()()(),a(10,"div",7)(11,"div",8)(12,"button",9),v("click",function(){return o.quickAction("pay")}),a(13,"div",10),g(14,"app-lucide-icon",11),c(),a(15,"span",12),l(16,"Pay"),c()(),a(17,"button",9),v("click",function(){return o.quickAction("request")}),a(18,"div",10),g(19,"app-lucide-icon",13),c(),a(20,"span",12),l(21,"Request"),c()(),a(22,"button",9),v("click",function(){return o.quickAction("top-up")}),a(23,"div",10),g(24,"app-lucide-icon",14),c(),a(25,"span",12),l(26,"Top Up"),c()(),a(27,"button",9),v("click",function(){return o.quickAction("withdraw")}),a(28,"div",10),g(29,"app-lucide-icon",15),c(),a(30,"span",12),l(31,"Withdraw"),c()()()(),a(32,"div",16)(33,"div",17),v("click",function(){return o.navigateToService("savings")}),a(34,"div",18),g(35,"app-lucide-icon",19),c(),a(36,"div",20)(37,"h3"),l(38,"Savings"),c(),a(39,"p"),l(40,"Manage your savings accounts and track your progress"),c(),a(41,"div",21)(42,"span",22),l(43),c(),a(44,"span",23),l(45,"Total Balance"),c()()()(),a(46,"div",17),v("click",function(){return o.navigateToService("loans")}),a(47,"div",18),g(48,"app-lucide-icon",24),c(),a(49,"div",20)(50,"h3"),l(51,"Loans"),c(),a(52,"p"),l(53,"Apply for loans and manage your existing loans"),c(),a(54,"div",21)(55,"span",22),l(56),c(),a(57,"span",23),l(58,"Outstanding"),c()()()(),a(59,"div",17),v("click",function(){return o.navigateToService("insurance")}),a(60,"div",18),g(61,"app-lucide-icon",25),c(),a(62,"div",20)(63,"h3"),l(64,"Insurance"),c(),a(65,"p"),l(66,"Protect your assets with comprehensive insurance"),c(),a(67,"div",21)(68,"span",22),l(69),c(),a(70,"span",23),l(71,"Active Policies"),c()()()(),a(72,"div",17),v("click",function(){return o.navigateToService("payments")}),a(73,"div",18),g(74,"app-lucide-icon",26),c(),a(75,"div",20)(76,"h3"),l(77,"Payments"),c(),a(78,"p"),l(79,"Make payments and manage your transactions"),c(),a(80,"div",21)(81,"span",22),l(82),c(),a(83,"span",23),l(84,"This Month"),c()()()()(),a(85,"div",27)(86,"div",28)(87,"h3"),l(88,"Recent Transactions"),c(),a(89,"button",29),l(90,"View All"),c()(),a(91,"div",30),M(92,p4,10,8,"div",31),c()()()),e&2&&(d(43),b(o.formatCurrency(o.savingsBalance)),d(13),b(o.formatCurrency(o.loanBalance)),d(13),b(o.activePolicies),d(13),b(o.formatCurrency(o.monthlyPayments)),d(10),m("ngForOf",o.recentTransactions))},dependencies:[R,ee,q],styles:[".ikofi-container[_ngcontent-%COMP%]{padding:12px;min-height:auto;background:transparent}@media (max-width: 768px){.ikofi-container[_ngcontent-%COMP%]{padding:8px}}.ikofi-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:32px;gap:20px}@media (max-width: 768px){.ikofi-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px}}.ikofi-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1e293b;margin:0 0 8px}.ikofi-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{color:#64748b;font-size:16px;margin:0}.ikofi-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}@media (max-width: 768px){.ikofi-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:stretch}}.ikofi-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{background:#004aad;color:#fff;border:none;border-radius:50%;width:48px;height:48px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 8px #004aad4d}.ikofi-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:hover{background:#003f94;transform:translateY(-2px);box-shadow:0 4px 12px #004aad66}.ikofi-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 8px #004aad4d}@media (max-width: 768px){.ikofi-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .icon-btn[_ngcontent-%COMP%]{width:44px;height:44px}}.quick-actions[_ngcontent-%COMP%]{margin-bottom:32px}.quick-actions[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:12px}@media (max-width: 768px){.quick-actions[_ngcontent-%COMP%]   .actions-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:8px}}.quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background:#fff;border:1px solid #e2e8f0;border-radius:8px;padding:16px 12px;display:flex;flex-direction:column;align-items:center;gap:8px;cursor:pointer;transition:all .2s ease;text-decoration:none;color:inherit}.quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{border-color:#004aad;transform:translateY(-2px);box-shadow:0 4px 12px #004aad26}.quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:8px;background:#004aad1a;display:flex;align-items:center;justify-content:center;color:#004aad;transition:all .2s ease}.quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover   .action-icon[_ngcontent-%COMP%]{background:#004aad;color:#fff}.quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]   .action-label[_ngcontent-%COMP%]{font-size:12px;font-weight:500;color:#64748b;text-align:center;line-height:1.2}.quick-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover   .action-label[_ngcontent-%COMP%]{color:#004aad}.services-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px;margin-bottom:32px}@media (max-width: 768px){.services-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.service-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;border:1px solid #e2e8f0;cursor:pointer;transition:all .2s ease;display:flex;align-items:flex-start;gap:16px}.service-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a;border-color:#004aad}.service-card[_ngcontent-%COMP%]   .service-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:#004aad1a;display:flex;align-items:center;justify-content:center;color:#004aad;flex-shrink:0}.service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]{flex-grow:1}.service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1e293b;margin:0 0 8px}.service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin:0 0 16px;line-height:1.4}.service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .service-stats[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .service-stats[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:#1e293b}.service-card[_ngcontent-%COMP%]   .service-content[_ngcontent-%COMP%]   .service-stats[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:12px;color:#64748b;text-transform:uppercase;letter-spacing:.5px}.recent-transactions[_ngcontent-%COMP%]{background:#fff;border-radius:12px;border:1px solid #e2e8f0;overflow:hidden}.recent-transactions[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #e2e8f0}.recent-transactions[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1e293b;margin:0}.recent-transactions[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .view-all-btn[_ngcontent-%COMP%]{background:none;border:none;color:#004aad;font-size:14px;font-weight:500;cursor:pointer;padding:4px 8px;border-radius:4px;transition:all .2s ease}.recent-transactions[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .view-all-btn[_ngcontent-%COMP%]:hover{background:#004aad1a}.recent-transactions[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px 24px;border-bottom:1px solid #f1f5f9;transition:background-color .2s ease}.recent-transactions[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.recent-transactions[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]:hover{background:#f8fafc}.recent-transactions[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:8px;background:#f1f5f9;display:flex;align-items:center;justify-content:center;color:#64748b;margin-right:12px;flex-shrink:0}.recent-transactions[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]{flex-grow:1}.recent-transactions[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-title[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:#1e293b;margin-bottom:2px}.recent-transactions[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-details[_ngcontent-%COMP%]   .transaction-date[_ngcontent-%COMP%]{font-size:12px;color:#64748b}.recent-transactions[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:right}.recent-transactions[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.positive[_ngcontent-%COMP%]{color:#1abc9c}.recent-transactions[_ngcontent-%COMP%]   .transactions-list[_ngcontent-%COMP%]   .transaction-item[_ngcontent-%COMP%]   .transaction-amount.negative[_ngcontent-%COMP%]{color:#e74c3c}"]})};var m4=["rowActions"],g4=[[["","table-actions-left",""]],[["","table-actions-right",""]]],f4=["[table-actions-left]","[table-actions-right]"],h4=()=>[1,2,3,4,5],eM=n=>({$implicit:n});function _4(n,t){if(n&1){let e=k();a(0,"div",9)(1,"input",10),E("ngModelChange",function(i){h(e);let r=f(2);return I(r.searchTerm,i)||(r.searchTerm=i),_(i)}),v("ngModelChange",function(){h(e);let i=f(2);return _(i.onSearchChange())}),c()()}if(n&2){let e=f(2);d(),S("ngModel",e.searchTerm)}}function C4(n,t){if(n&1&&(a(0,"div",5)(1,"div",6)(2,"div",7),M(3,_4,2,1,"div",8),Zl(4),c(),a(5,"div",7),Zl(6,1),c()()()),n&2){let e=f();d(3),m("ngIf",e.showSearch)}}function v4(n,t){n&1&&g(0,"div",22)}function y4(n,t){n&1&&g(0,"div",23)}function b4(n,t){n&1&&g(0,"div",27)}function M4(n,t){n&1&&g(0,"div",28)}function x4(n,t){if(n&1&&(a(0,"div",24),M(1,b4,1,0,"div",25)(2,M4,1,0,"div",26),c()),n&2){let e=f(2);d(),m("ngForOf",e.columns),d(),m("ngIf",e.showActions&&e.rowActions)}}function P4(n,t){if(n&1&&(a(0,"div",11)(1,"div",12)(2,"div",13),g(3,"div",14)(4,"div",14)(5,"div",14),c(),a(6,"p",15),l(7,"Loading data..."),c()(),a(8,"div",16)(9,"div",17),M(10,v4,1,0,"div",18)(11,y4,1,0,"div",19),c(),a(12,"div",20),M(13,x4,3,2,"div",21),c()()()),n&2){let e=f();d(10),m("ngForOf",e.columns),d(),m("ngIf",e.showActions&&e.rowActions),d(2),m("ngForOf",Ot(3,h4))}}function O4(n,t){if(n&1&&g(0,"i",37),n&2){let e=f().$implicit,o=f(2);H("asc",o.sortColumn===e.key&&o.sortDirection==="asc")("desc",o.sortColumn===e.key&&o.sortDirection==="desc")}}function w4(n,t){if(n&1){let e=k();a(0,"th",35),v("click",function(){let i=h(e).$implicit,r=f(2);return _(i.sortable&&r.sort(i.key))}),l(1),M(2,O4,1,4,"i",36),c()}if(n&2){let e=t.$implicit;H("sortable",e.sortable),d(),T(" ",e.title," "),d(),m("ngIf",e.sortable)}}function S4(n,t){n&1&&(a(0,"th",38),l(1,"Actions"),c())}function E4(n,t){if(n&1&&(ue(0),l(1),te(2,"date"),pe()),n&2){let e=f().$implicit,o=f().$implicit;d(),T(" ",Gt(2,1,o[e.key],"medium")," ")}}function I4(n,t){if(n&1&&(ue(0),a(1,"span",44),l(2),c(),pe()),n&2){let e=f().$implicit,o=f().$implicit;d(),H("bg-success",o[e.key])("bg-danger",!o[e.key]),d(),T(" ",o[e.key]?"Yes":"No"," ")}}function D4(n,t){if(n&1&&(ue(0),a(1,"span",44),l(2),c(),pe()),n&2){let e=f().$implicit,o=f().$implicit;d(),H("bg-success",o[e.key]==="ACTIVE"||o[e.key]==="active"||o[e.key]==="SUCCESS"||o[e.key]==="success"||o[e.key]==="Active")("bg-secondary",o[e.key]==="INACTIVE"||o[e.key]==="inactive"||o[e.key]==="Inactive")("bg-warning",o[e.key]==="PENDING"||o[e.key]==="pending"||o[e.key]==="PROCESSING"||o[e.key]==="processing")("bg-danger",o[e.key]==="ERROR"||o[e.key]==="error"||o[e.key]==="FAILED"||o[e.key]==="failed"||o[e.key]==="FAILURE"||o[e.key]==="failure"||o[e.key]==="Suspended"),d(),T(" ",o[e.key]," ")}}function k4(n,t){if(n&1&&(ue(0),g(1,"span",45),pe()),n&2){let e=f(2).$implicit,o=f(),i=o.$implicit,r=o.index;d(),m("innerHTML",e.template(i,r),Ug)}}function T4(n,t){n&1&&Ni(0)}function A4(n,t){if(n&1&&(ue(0),M(1,T4,1,0,"ng-container",46),pe()),n&2){let e=f(2).$implicit,o=f().$implicit;d(),m("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Ur(2,eM,o))}}function N4(n,t){if(n&1&&(ue(0),M(1,k4,2,1,"ng-container",34)(2,A4,2,4,"ng-container",34),pe()),n&2){let e=f().$implicit;d(),m("ngIf",e.template&&typeof e.template=="function"),d(),m("ngIf",e.template&&typeof e.template!="function")}}function R4(n,t){if(n&1&&(ue(0),l(1),pe()),n&2){let e=f().$implicit,o=f().$implicit;d(),T(" ",o[e.key]," ")}}function F4(n,t){if(n&1&&(a(0,"td"),ue(1,41),M(2,E4,3,4,"ng-container",42)(3,I4,3,5,"ng-container",42)(4,D4,3,9,"ng-container",42)(5,N4,3,2,"ng-container",42)(6,R4,2,1,"ng-container",43),pe(),c()),n&2){let e=t.$implicit;d(),m("ngSwitch",e.type),d(),m("ngSwitchCase","date"),d(),m("ngSwitchCase","boolean"),d(),m("ngSwitchCase","status"),d(),m("ngSwitchCase","custom")}}function L4(n,t){if(n&1&&(a(0,"td",38),Ni(1,47),c()),n&2){let e=f().$implicit,o=f(2);d(),m("ngTemplateOutlet",o.rowActions)("ngTemplateOutletContext",Ur(2,eM,e))}}function V4(n,t){if(n&1){let e=k();a(0,"tr",39),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.onRowClick.emit(i))}),M(1,F4,7,5,"td",40)(2,L4,2,4,"td",32),c()}if(n&2){let e=f(2);d(),m("ngForOf",e.columns),d(),m("ngIf",e.showActions&&e.rowActions)}}function j4(n,t){if(n&1&&(a(0,"tr")(1,"td",48),l(2),c()()),n&2){let e=f(2);d(),V("colspan",e.columns.length+(e.showActions&&e.rowActions?1:0)),d(),T(" ",e.noDataMessage," ")}}function z4(n,t){if(n&1&&(a(0,"div",29)(1,"table",30)(2,"thead")(3,"tr"),M(4,w4,3,4,"th",31)(5,S4,2,0,"th",32),c()(),a(6,"tbody"),M(7,V4,3,2,"tr",33)(8,j4,3,2,"tr",34),c()()()),n&2){let e,o=f();d(),H("table-hover",o.hover)("table-striped",o.striped),d(3),m("ngForOf",o.columns),d(),m("ngIf",o.showActions&&o.rowActions),d(2),m("ngForOf",o.getPaginatedData()),d(),m("ngIf",!((e=o.getPaginatedData())!=null&&e.length))}}function B4(n,t){if(n&1&&(a(0,"option",56),l(1),c()),n&2){let e=t.$implicit;m("value",e),d(),T("",e," per page")}}function U4(n,t){if(n&1){let e=k();a(0,"li",59)(1,"a",60),v("click",function(){let i=h(e).$implicit,r=f(3);return _(r.onPageChange.emit(i))}),l(2),c()()}if(n&2){let e=t.$implicit,o=f(3);H("active",e===o.currentPage),d(2),b(e)}}function H4(n,t){if(n&1){let e=k();a(0,"nav",57)(1,"ul",58)(2,"li",59)(3,"a",60),v("click",function(){h(e);let i=f(2);return _(i.onPageChange.emit(i.currentPage-1))}),l(4,"Previous"),c()(),M(5,U4,3,3,"li",61),a(6,"li",59)(7,"a",60),v("click",function(){h(e);let i=f(2);return _(i.onPageChange.emit(i.currentPage+1))}),l(8,"Next"),c()()()()}if(n&2){let e=f(2);d(2),H("disabled",e.currentPage===1),d(3),m("ngForOf",e.getPages()),d(),H("disabled",e.currentPage===e.totalPages)}}function $4(n,t){if(n&1){let e=k();a(0,"div",49)(1,"div",50)(2,"div",51)(3,"select",52),v("ngModelChange",function(i){h(e);let r=f();return _(r.onPageSizeChange.emit(i))}),M(4,B4,2,2,"option",53),c()(),a(5,"div",54),l(6),c()(),M(7,H4,9,5,"nav",55),c()}if(n&2){let e=f();d(3),m("ngModel",e.pageSize),d(),m("ngForOf",e.pageSizes),d(2),Br(" Showing ",(e.currentPage-1)*e.pageSize+1," to ",e.currentPage*e.pageSize>e.filteredData.length?e.filteredData.length:e.currentPage*e.pageSize," of ",e.filteredData.length," entries "),d(),m("ngIf",e.totalPages>1)}}var Je=class n{columns=[];data=[];showHeader=!0;showSearch=!0;showActions=!0;showPagination=!0;hover=!0;striped=!0;noDataMessage="No data available";currentPage=1;pageSize=10;totalPages=1;totalItems=0;pageSizes=[5,10,25,50,100];loading=!1;rowActions;onSort=new z;onSearch=new z;onPageChange=new z;onPageSizeChange=new z;onRowClick=new z;searchTerm="";sortColumn="";sortDirection="asc";filteredData=[];sort(t){this.sortColumn===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortColumn=t,this.sortDirection="asc"),this.onSort.emit({column:this.sortColumn,direction:this.sortDirection})}ngAfterContentInit(){this.filteredData=[...this.data]}ngOnChanges(t){t.data&&(this.filteredData=[...this.data],this.performSearch())}performSearch(){if(!this.searchTerm.trim())this.filteredData=[...this.data];else{let t=this.searchTerm.toLowerCase();this.filteredData=this.data.filter(e=>this.columns.some(o=>{let i=e[o.key];return i==null?!1:i.toString().toLowerCase().includes(t)}))}this.currentPage=1,this.totalPages=Math.ceil(this.filteredData.length/this.pageSize),this.onSearch.emit(this.searchTerm)}onSearchChange(){this.performSearch()}getPaginatedData(){if(!this.showPagination)return this.filteredData;let t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;return this.filteredData.slice(t,e)}getPages(){let t=[],o=Math.max(1,this.currentPage-Math.floor(2.5)),i=Math.min(this.totalPages,o+5-1);i-o+1<5&&(o=Math.max(1,i-5+1));for(let r=o;r<=i;r++)t.push(r);return t}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-data-table"]],contentQueries:function(e,o,i){if(e&1&&Ri(i,m4,5),e&2){let r;Fi(r=Li())&&(o.rowActions=r.first)}},inputs:{columns:"columns",data:"data",showHeader:"showHeader",showSearch:"showSearch",showActions:"showActions",showPagination:"showPagination",hover:"hover",striped:"striped",noDataMessage:"noDataMessage",currentPage:"currentPage",pageSize:"pageSize",totalPages:"totalPages",totalItems:"totalItems",pageSizes:"pageSizes",loading:"loading"},outputs:{onSort:"onSort",onSearch:"onSearch",onPageChange:"onPageChange",onPageSizeChange:"onPageSizeChange",onRowClick:"onRowClick"},features:[It],ngContentSelectors:f4,decls:5,vars:4,consts:[[1,"data-table-wrapper"],["class","data-table-header",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","table-responsive",4,"ngIf"],["class","data-table-footer d-flex justify-content-between align-items-center mt-3",4,"ngIf"],[1,"data-table-header"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"d-flex","align-items-center","gap-2"],["class","search-box",4,"ngIf"],[1,"search-box"],["type","text","placeholder","Search...",1,"form-control",3,"ngModelChange","ngModel"],[1,"loading-container"],[1,"loading-header"],[1,"loading-spinner"],[1,"spinner-ring"],[1,"loading-text"],[1,"skeleton-table"],[1,"skeleton-header"],["class","skeleton-header-cell",4,"ngFor","ngForOf"],["class","skeleton-header-cell actions-skeleton",4,"ngIf"],[1,"skeleton-body"],["class","skeleton-row",4,"ngFor","ngForOf"],[1,"skeleton-header-cell"],[1,"skeleton-header-cell","actions-skeleton"],[1,"skeleton-row"],["class","skeleton-cell",4,"ngFor","ngForOf"],["class","skeleton-cell actions-skeleton",4,"ngIf"],[1,"skeleton-cell"],[1,"skeleton-cell","actions-skeleton"],[1,"table-responsive"],[1,"table"],[3,"sortable","click",4,"ngFor","ngForOf"],["class","actions-column",4,"ngIf"],["style","cursor: pointer;",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"click"],["class","sort-icon",3,"asc","desc",4,"ngIf"],[1,"sort-icon"],[1,"actions-column"],[2,"cursor","pointer",3,"click"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"badge"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"text-center","py-4"],[1,"data-table-footer","d-flex","justify-content-between","align-items-center","mt-3"],[1,"d-flex","align-items-center","gap-3"],[1,"page-size"],[1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"page-info","text-muted","small"],["aria-label","Table navigation",4,"ngIf"],[3,"value"],["aria-label","Table navigation"],[1,"pagination","mb-0"],[1,"page-item"],["href","javascript:void(0)",1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"]],template:function(e,o){e&1&&(Of(g4),a(0,"div",0),M(1,C4,7,1,"div",1)(2,P4,14,4,"div",2)(3,z4,9,8,"div",3)(4,$4,8,6,"div",4),c()),e&2&&(d(),m("ngIf",o.showHeader),d(),m("ngIf",o.loading),d(),m("ngIf",!o.loading),d(),m("ngIf",o.showPagination))},dependencies:[R,ee,G,Cs,ji,hs,_s,ie,Oe,we,ve,Pe,se,he,un],styles:[`.data-table-wrapper[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:none;overflow:visible}.data-table-header[_ngcontent-%COMP%]{padding:1.25rem;border-bottom:1px solid #e9ecef;background-color:#f8f9fa4d}.table-responsive[_ngcontent-%COMP%]{overflow:visible!important}.search-box[_ngcontent-%COMP%]{min-width:280px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:4px;border:1px solid #dee2e6;padding:.5rem 1rem;font-size:.9375rem;transition:all .2s ease}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border-color:#004aad;box-shadow:0 0 0 2px #004aad1a;outline:none}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#adb5bd}.table[_ngcontent-%COMP%]{margin-bottom:0;border-collapse:separate;border-spacing:0;width:100%}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f8f9fa80;border:none;padding:1rem 1.25rem;font-weight:600;color:#495057;font-size:.875rem;text-transform:uppercase;letter-spacing:.5px;white-space:nowrap}.table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;position:relative;padding-right:2rem;transition:background-color .2s ease}.table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]:hover{background-color:#e9ecef80}.table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-icon[_ngcontent-%COMP%]{position:absolute;right:.75rem;top:50%;transform:translateY(-50%);width:0;height:0;border-left:4px solid transparent;border-right:4px solid transparent;opacity:.5;transition:opacity .2s ease}.table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-icon.asc[_ngcontent-%COMP%]{border-bottom:4px solid #6c757d;border-top:none;opacity:1}.table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]   .sort-icon.desc[_ngcontent-%COMP%]{border-top:4px solid #6c757d;border-bottom:none;opacity:1}.table[_ngcontent-%COMP%]   th.sortable[_ngcontent-%COMP%]:hover   .sort-icon[_ngcontent-%COMP%]{opacity:.8}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem 1.25rem;vertical-align:middle;border-top:1px solid #e9ecef;font-size:.9375rem;color:#343a40;line-height:1.4}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s ease}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa80}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.table[_ngcontent-%COMP%]   .actions-column[_ngcontent-%COMP%]{width:80px;text-align:center;padding:.5rem}.table[_ngcontent-%COMP%]   .actions-column[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]{position:relative;z-index:1}.table[_ngcontent-%COMP%]   .actions-column[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:.25rem;transition:all .2s ease;border:1px solid #004AAD!important;background:#fff!important;color:#004aad!important}.table[_ngcontent-%COMP%]   .actions-column[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{background-color:#004aad!important;color:#fff!important;border-color:#004aad!important}.table[_ngcontent-%COMP%]   .actions-column[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px #004aad1a!important;border-color:#004aad!important}.table[_ngcontent-%COMP%]   .actions-column[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{min-width:160px;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;border:1px solid #e9ecef;border-radius:.375rem;z-index:1050}.table[_ngcontent-%COMP%]   .actions-column[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.875rem;display:flex;align-items:center;transition:all .2s ease}.table[_ngcontent-%COMP%]   .actions-column[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.table[_ngcontent-%COMP%]   .actions-column[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item.text-danger[_ngcontent-%COMP%]:hover{background-color:#e74c3c1a;color:#e74c3c!important}.table[_ngcontent-%COMP%]   .actions-column[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{width:14px;height:14px}.table[_ngcontent-%COMP%]   .actions-column[_ngcontent-%COMP%]   .dropdown[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{margin:.25rem 0;border-color:#e9ecef}.data-table-footer[_ngcontent-%COMP%]{padding:1.25rem;border-top:1px solid #e9ecef;background-color:#f8f9fa4d}.data-table-footer[_ngcontent-%COMP%]   .page-size[_ngcontent-%COMP%]{width:140px}.data-table-footer[_ngcontent-%COMP%]   .page-size[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.5rem 2rem .5rem 1rem;font-size:.9375rem;border:1px solid #dee2e6;border-radius:4px;background-color:#fff;cursor:pointer;appearance:none;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");background-repeat:no-repeat;background-position:right .5rem center;background-size:1rem;transition:all .2s ease}.data-table-footer[_ngcontent-%COMP%]   .page-size[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#004aad;box-shadow:0 0 0 2px #004aad1a;outline:none}.data-table-footer[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{margin-bottom:0;gap:.25rem}.data-table-footer[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;color:#495057;font-size:.9375rem;border-radius:4px!important;background-color:#fff;transition:all .2s ease}.data-table-footer[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{background-color:#004aad0d;border-color:#004aad1a;color:#004aad}.data-table-footer[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#004aad;border-color:#004aad;color:#fff;font-weight:500}.data-table-footer[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#ced4da;pointer-events:none;background-color:#fafbfc;border-color:#e9ecef}@media (max-width: 768px){.data-table-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.data-table-header[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{width:100%;min-width:auto}.loading-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;overflow:hidden;min-height:300px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}.loading-container[_ngcontent-%COMP%]   .loading-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;background:linear-gradient(135deg,#004aad0d,#004aad05);border-bottom:1px solid #e9ecef}.loading-container[_ngcontent-%COMP%]   .loading-header[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{position:relative;width:60px;height:60px;margin-bottom:1rem}.loading-container[_ngcontent-%COMP%]   .loading-header[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border:3px solid transparent;border-radius:50%;animation:spin 1.5s linear infinite}.loading-container[_ngcontent-%COMP%]   .loading-header[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(1){border-top-color:#004aad;animation-delay:0s}.loading-container[_ngcontent-%COMP%]   .loading-header[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(2){border-right-color:#004aadb3;animation-delay:.2s;transform:scale(.8)}.loading-container[_ngcontent-%COMP%]   .loading-header[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]:nth-child(3){border-bottom-color:#004aad66;animation-delay:.4s;transform:scale(.6)}.loading-container[_ngcontent-%COMP%]   .loading-header[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{color:#6c757d;font-size:1rem;margin:0;font-weight:500;letter-spacing:.5px}.loading-container[_ngcontent-%COMP%]   .skeleton-table[_ngcontent-%COMP%]   .skeleton-header[_ngcontent-%COMP%]{display:flex;background-color:#f8f9fa80;padding:1rem 1.25rem;border-bottom:1px solid #e9ecef}.loading-container[_ngcontent-%COMP%]   .skeleton-table[_ngcontent-%COMP%]   .skeleton-header[_ngcontent-%COMP%]   .skeleton-header-cell[_ngcontent-%COMP%]{height:20px;background:linear-gradient(90deg,#e9ecef 25%,#f8f9fa,#e9ecef 75%);background-size:200% 100%;animation:shimmer 1.5s infinite;border-radius:4px;margin-right:1rem;flex:1}.loading-container[_ngcontent-%COMP%]   .skeleton-table[_ngcontent-%COMP%]   .skeleton-header[_ngcontent-%COMP%]   .skeleton-header-cell.actions-skeleton[_ngcontent-%COMP%]{width:80px;flex:none;margin-right:0}.loading-container[_ngcontent-%COMP%]   .skeleton-table[_ngcontent-%COMP%]   .skeleton-body[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]{display:flex;padding:1rem 1.25rem;border-bottom:1px solid #e9ecef;animation:fadeInUp .6s ease-out}.loading-container[_ngcontent-%COMP%]   .skeleton-table[_ngcontent-%COMP%]   .skeleton-body[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#fafbfc80}.loading-container[_ngcontent-%COMP%]   .skeleton-table[_ngcontent-%COMP%]   .skeleton-body[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]   .skeleton-cell[_ngcontent-%COMP%]{height:16px;background:linear-gradient(90deg,#e9ecef 25%,#f8f9fa,#e9ecef 75%);background-size:200% 100%;animation:shimmer 1.5s infinite;border-radius:4px;margin-right:1rem;flex:1}.loading-container[_ngcontent-%COMP%]   .skeleton-table[_ngcontent-%COMP%]   .skeleton-body[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]   .skeleton-cell.actions-skeleton[_ngcontent-%COMP%]{width:60px;flex:none;margin-right:0}.loading-container[_ngcontent-%COMP%]   .skeleton-table[_ngcontent-%COMP%]   .skeleton-body[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]   .skeleton-cell[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.loading-container[_ngcontent-%COMP%]   .skeleton-table[_ngcontent-%COMP%]   .skeleton-body[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]   .skeleton-cell[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.loading-container[_ngcontent-%COMP%]   .skeleton-table[_ngcontent-%COMP%]   .skeleton-body[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]   .skeleton-cell[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.loading-container[_ngcontent-%COMP%]   .skeleton-table[_ngcontent-%COMP%]   .skeleton-body[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]   .skeleton-cell[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.loading-container[_ngcontent-%COMP%]   .skeleton-table[_ngcontent-%COMP%]   .skeleton-body[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]   .skeleton-cell[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}@keyframes fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.data-table-footer[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:stretch!important}.data-table-footer[_ngcontent-%COMP%]   .page-size[_ngcontent-%COMP%]{width:100%}.data-table-footer[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{justify-content:center}}`]})};var Xs=()=>[1,2,3,4,5],tM=()=>[1,2,3,4],W4=()=>[1,2,3];function q4(n,t){n&1&&g(0,"div",9)}function G4(n,t){n&1&&g(0,"div",9)}function Y4(n,t){n&1&&(a(0,"div",10),M(1,G4,1,0,"div",7),c()),n&2&&(d(),m("ngForOf",Ot(1,Xs)))}function Z4(n,t){if(n&1&&(ue(0),a(1,"div",2)(2,"div",3),g(3,"div",4),c(),a(4,"div",5)(5,"div",6),M(6,q4,1,0,"div",7),c(),M(7,Y4,2,2,"div",8),c()(),pe()),n&2){let e=f();d(6),m("ngForOf",Ot(2,Xs)),d(),m("ngForOf",e.rows)}}function K4(n,t){n&1&&(a(0,"div",14),g(1,"div",15),a(2,"div",16),g(3,"div",17)(4,"div",18),c()())}function Q4(n,t){n&1&&g(0,"div",9)}function J4(n,t){n&1&&g(0,"div",9)}function X4(n,t){n&1&&(a(0,"div",10),M(1,J4,1,0,"div",7),c()),n&2&&(d(),m("ngForOf",Ot(1,Xs)))}function eA(n,t){n&1&&(ue(0),a(1,"div",11),M(2,K4,5,0,"div",12),c(),a(3,"div",13)(4,"div",3),g(5,"div",4),c(),a(6,"div",5)(7,"div",6),M(8,Q4,1,0,"div",7),c(),M(9,X4,2,2,"div",8),c()(),pe()),n&2&&(d(2),m("ngForOf",Ot(3,tM)),d(6),m("ngForOf",Ot(4,Xs)),d(),m("ngForOf",Ot(5,Xs)))}function tA(n,t){n&1&&(a(0,"div",22),g(1,"div",23)(2,"div",24),c())}function nA(n,t){n&1&&(ue(0),a(1,"div",2)(2,"div",19),M(3,tA,3,0,"div",20),g(4,"div",21),c()(),pe()),n&2&&(d(3),m("ngForOf",Ot(1,W4)))}function oA(n,t){n&1&&(a(0,"div",26),g(1,"div",27),a(2,"div",28),g(3,"div",29)(4,"div",30),c()())}function iA(n,t){if(n&1&&(ue(0),a(1,"div",2),M(2,oA,5,0,"div",25),c(),pe()),n&2){let e=f();d(2),m("ngForOf",e.rows)}}function rA(n,t){n&1&&(a(0,"div",14),g(1,"div",15),a(2,"div",16),g(3,"div",17)(4,"div",18),c()())}function aA(n,t){n&1&&(ue(0),a(1,"div",11),M(2,rA,5,0,"div",12),c(),a(3,"div",13)(4,"div",3),g(5,"div",4),c(),g(6,"div",31),c(),pe()),n&2&&(d(2),m("ngForOf",Ot(1,tM)))}function sA(n,t){n&1&&(ue(0),a(1,"div",2)(2,"div",3),g(3,"div",4),c(),a(4,"div",32),g(5,"div",33)(6,"div",33)(7,"div",29),c()(),pe())}var an=class n{type="table";rowCount=5;get rows(){return Array(this.rowCount).fill(0).map((t,e)=>e)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-skeleton-loader"]],inputs:{type:"type",rowCount:"rowCount"},decls:7,vars:7,consts:[[1,"skeleton-wrapper",3,"ngClass"],[4,"ngIf"],[1,"skeleton-card"],[1,"skeleton-header"],[1,"skeleton-line","title"],[1,"skeleton-table"],[1,"skeleton-row","header"],["class","skeleton-cell",4,"ngFor","ngForOf"],["class","skeleton-row",4,"ngFor","ngForOf"],[1,"skeleton-cell"],[1,"skeleton-row"],[1,"skeleton-stats-grid"],["class","skeleton-stat-card",4,"ngFor","ngForOf"],[1,"skeleton-card",2,"margin-top","20px"],[1,"skeleton-stat-card"],[1,"skeleton-icon"],[1,"skeleton-stat-content"],[1,"skeleton-line","large"],[1,"skeleton-line","small"],[1,"skeleton-form"],["class","skeleton-form-row",4,"ngFor","ngForOf"],[1,"skeleton-button"],[1,"skeleton-form-row"],[1,"skeleton-label"],[1,"skeleton-input"],["class","skeleton-list-item",4,"ngFor","ngForOf"],[1,"skeleton-list-item"],[1,"skeleton-avatar"],[1,"skeleton-list-content"],[1,"skeleton-line","medium"],[1,"skeleton-line","short"],[1,"skeleton-chart"],[1,"skeleton-body"],[1,"skeleton-line","full"]],template:function(e,o){e&1&&(a(0,"div",0),M(1,Z4,8,3,"ng-container",1)(2,eA,10,6,"ng-container",1)(3,nA,5,2,"ng-container",1)(4,iA,3,1,"ng-container",1)(5,aA,7,2,"ng-container",1)(6,sA,8,0,"ng-container",1),c()),e&2&&(m("ngClass",o.type),d(),m("ngIf",o.type==="table"),d(),m("ngIf",o.type==="stats"),d(),m("ngIf",o.type==="form"),d(),m("ngIf",o.type==="list"),d(),m("ngIf",o.type==="dashboard"),d(),m("ngIf",o.type==="card"))},dependencies:[R,Yt,ee,G],styles:[".skeleton-wrapper[_ngcontent-%COMP%]{width:100%}.skeleton-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9ecef;border-radius:4px;padding:16px}.skeleton-header[_ngcontent-%COMP%]{margin-bottom:16px}.skeleton-line[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite;border-radius:4px;margin-bottom:8px}.skeleton-line.title[_ngcontent-%COMP%]{width:200px;height:20px}.skeleton-line.large[_ngcontent-%COMP%]{width:120px;height:24px}.skeleton-line.medium[_ngcontent-%COMP%]{width:60%;height:14px}.skeleton-line.short[_ngcontent-%COMP%]{width:100px;height:14px}.skeleton-line.small[_ngcontent-%COMP%]{width:80px;height:12px}.skeleton-line.full[_ngcontent-%COMP%]{width:100%;height:14px}.skeleton-table[_ngcontent-%COMP%]   .skeleton-row[_ngcontent-%COMP%]{display:flex;gap:16px;padding:12px 0;border-bottom:1px solid #f0f0f0}.skeleton-table[_ngcontent-%COMP%]   .skeleton-row.header[_ngcontent-%COMP%]   .skeleton-cell[_ngcontent-%COMP%]{height:12px;background:#e8e8e8}.skeleton-table[_ngcontent-%COMP%]   .skeleton-cell[_ngcontent-%COMP%]{flex:1;height:14px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite;border-radius:4px}.skeleton-stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px}.skeleton-stat-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9ecef;border-radius:4px;padding:16px;display:flex;align-items:center;gap:12px}.skeleton-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:8px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.skeleton-stat-content[_ngcontent-%COMP%]{flex:1}.skeleton-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite}.skeleton-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 0;border-bottom:1px solid #f0f0f0}.skeleton-list-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.skeleton-list-content[_ngcontent-%COMP%]{flex:1}.skeleton-form-row[_ngcontent-%COMP%]{margin-bottom:16px}.skeleton-label[_ngcontent-%COMP%]{width:100px;height:12px;margin-bottom:8px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite;border-radius:4px}.skeleton-input[_ngcontent-%COMP%]{width:100%;height:38px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite;border-radius:4px}.skeleton-button[_ngcontent-%COMP%]{width:120px;height:38px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite;border-radius:4px;margin-top:8px}.skeleton-chart[_ngcontent-%COMP%]{width:100%;height:200px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite;border-radius:4px}.skeleton-body[_ngcontent-%COMP%]{padding:8px 0}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}"]})};function cA(n,t){if(n&1&&(a(0,"div",12)(1,"div",13),g(2,"app-lucide-icon",29),l(3," Email "),c(),a(4,"div",15),l(5),c()()),n&2){let e=f();d(5),b(e.customer.email)}}var Eu=class n{customer;modalClosed=new z;editRequested=new z;closeModal(){this.modalClosed.emit()}editCustomer(){this.editRequested.emit(this.customer),this.closeModal()}formatCurrency(t){return new Intl.NumberFormat("rw-RW",{style:"currency",currency:"RWF"}).format(t)}formatDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-view-customer-modal"]],inputs:{customer:"customer"},outputs:{modalClosed:"modalClosed",editRequested:"editRequested"},decls:69,vars:18,consts:[["tabindex","-1","role","dialog",1,"modal","fade"],["role","document",1,"modal-dialog","modal-md","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close-custom",3,"click"],["name","x","size","18px"],[1,"modal-body"],[1,"customer-info"],[1,"customer-avatar"],[1,"avatar-img",3,"src","alt"],[1,"customer-details"],[1,"detail-row"],[1,"detail-label"],["name","user","size","16px"],[1,"detail-value"],["name","phone","size","16px"],["class","detail-row",4,"ngIf"],["name","map-pin","size","16px"],["name","dollar-sign","size","16px"],["name","tag","size","16px"],["name","credit-card","size","16px"],["name","calendar","size","16px"],["name","activity","size","16px"],[1,"status-badge"],[1,"modal-footer"],["type","button",1,"btn","btn-danger-outline",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-backdrop","fade","show"],["name","mail","size","16px"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),l(5,"Customer Details"),c(),a(6,"button",5),v("click",function(){return o.closeModal()}),g(7,"app-lucide-icon",6),c()(),a(8,"div",7)(9,"div",8)(10,"div",9),g(11,"img",10),c(),a(12,"div",11)(13,"div",12)(14,"div",13),g(15,"app-lucide-icon",14),l(16," Name "),c(),a(17,"div",15),l(18),c()(),a(19,"div",12)(20,"div",13),g(21,"app-lucide-icon",16),l(22," Phone "),c(),a(23,"div",15),l(24),c()(),M(25,cA,6,1,"div",17),a(26,"div",12)(27,"div",13),g(28,"app-lucide-icon",18),l(29," Address "),c(),a(30,"div",15),l(31),c()(),a(32,"div",12)(33,"div",13),g(34,"app-lucide-icon",19),l(35," Price per Liter "),c(),a(36,"div",15),l(37),c()(),a(38,"div",12)(39,"div",13),g(40,"app-lucide-icon",20),l(41," Customer Type "),c(),a(42,"div",15),l(43),c()(),a(44,"div",12)(45,"div",13),g(46,"app-lucide-icon",21),l(47," Payment Method "),c(),a(48,"div",15),l(49),c()(),a(50,"div",12)(51,"div",13),g(52,"app-lucide-icon",22),l(53," Registered "),c(),a(54,"div",15),l(55),c()(),a(56,"div",12)(57,"div",13),g(58,"app-lucide-icon",23),l(59," Status "),c(),a(60,"div",15)(61,"span",24),l(62),c()()()()()(),a(63,"div",25)(64,"button",26),v("click",function(){return o.closeModal()}),l(65,"Close"),c(),a(66,"button",27),v("click",function(){return o.editCustomer()}),l(67,"Edit Customer"),c()()()()(),g(68,"div",28)),e&2&&(zr("display","block"),H("show",!0),V("aria-hidden",!1),d(11),m("src",o.customer.avatar||"assets/img/user.png",Ke)("alt",o.customer.name),d(7),b(o.customer.name),d(6),b(o.customer.phone),d(),m("ngIf",o.customer.email),d(6),b(o.customer.address||o.customer.location),d(6),b(o.formatCurrency(o.customer.pricePerLiter||o.customer.buyingPricePerLiter)),d(6),b(o.customer.customerType||"Individual"),d(6),b(o.customer.paymentMethod||"Cash"),d(6),b(o.formatDate(o.customer.registrationDate||o.customer.createdAt)),d(6),H("active",o.customer.status==="Active"||o.customer.isActive),d(),T(" ",o.customer.status||(o.customer.isActive?"Active":"Inactive")," "))},dependencies:[R,G,q],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;padding:20px}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:.25rem;width:100%;max-width:540px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border:none}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.btn-close-custom[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close-custom[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.btn-close-custom[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex:1}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:16px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;transition:all .2s;width:100%;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:40px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.75rem;margin-top:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:1.25rem;border-top:1px solid rgba(27,46,75,.1)}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b!important;border-color:#1b2e4b!important;color:#fff!important;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #1b2e4b33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3498db!important;border-color:#3498db!important;box-shadow:0 4px 12px #1b2e4b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;font-size:.875rem;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c!important;color:#fff!important;border:none!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #e74c3c4d}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b!important;box-shadow:0 4px 12px #e74c3c66}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:12px}.modal-container[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}}.customer-info[_ngcontent-%COMP%]   .customer-avatar[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.customer-info[_ngcontent-%COMP%]   .customer-avatar[_ngcontent-%COMP%]   .avatar-img[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:50%;object-fit:cover;border:3px solid #e2e8f0}.customer-info[_ngcontent-%COMP%]   .customer-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 0;border-bottom:1px solid #f1f5f9}.customer-info[_ngcontent-%COMP%]   .customer-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.customer-info[_ngcontent-%COMP%]   .customer-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:.8125rem;font-weight:600;color:#6c757d;min-width:130px;flex-shrink:0;text-transform:uppercase;letter-spacing:.5px}.customer-info[_ngcontent-%COMP%]   .customer-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#1b2e4b}.customer-info[_ngcontent-%COMP%]   .customer-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-size:.875rem;color:#1e293b;flex:1}.customer-info[_ngcontent-%COMP%]   .customer-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:uppercase;background:#e2e8f0;color:#6c757d}.customer-info[_ngcontent-%COMP%]   .customer-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.btn-close-custom[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #dee2e6;color:#6c757d;padding:0;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:50%}.btn-close-custom[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}"]})};function lA(n,t){n&1&&(a(0,"div",57),l(1," Please enter customer name "),c())}function dA(n,t){if(n&1&&(a(0,"option",58),l(1),c()),n&2){let e=t.$implicit;m("value",e.code),d(),ke(" ",e.flag," ",e.code," ")}}function uA(n,t){n&1&&(a(0,"div",57),l(1," Please enter a valid phone number "),c())}function pA(n,t){n&1&&(a(0,"div",57),l(1," Please enter address "),c())}function mA(n,t){n&1&&(a(0,"div",57),l(1," Please enter a valid price "),c())}function gA(n,t){n&1&&(a(0,"span"),l(1,"Update Customer"),c())}function fA(n,t){n&1&&(a(0,"span"),l(1,"Updating..."),c())}function hA(n,t){n&1&&g(0,"app-lucide-icon",59)}var Iu=class n{customer;customerUpdated=new z;modalClosed=new z;customerData={name:"",phone:"",countryCode:"+250",email:"",address:"",pricePerLiter:null,customerType:"Individual",paymentMethod:"Cash"};countryCodes=[{code:"+250",country:"Rwanda",flag:"\u{1F1F7}\u{1F1FC}"},{code:"+256",country:"Uganda",flag:"\u{1F1FA}\u{1F1EC}"},{code:"+254",country:"Kenya",flag:"\u{1F1F0}\u{1F1EA}"},{code:"+255",country:"Tanzania",flag:"\u{1F1F9}\u{1F1FF}"},{code:"+243",country:"DRC",flag:"\u{1F1E8}\u{1F1E9}"},{code:"+257",country:"Burundi",flag:"\u{1F1E7}\u{1F1EE}"},{code:"+1",country:"USA",flag:"\u{1F1FA}\u{1F1F8}"},{code:"+44",country:"UK",flag:"\u{1F1EC}\u{1F1E7}"},{code:"+33",country:"France",flag:"\u{1F1EB}\u{1F1F7}"},{code:"+49",country:"Germany",flag:"\u{1F1E9}\u{1F1EA}"}];isSubmitting=!1;ngOnInit(){let t=this.customer.phone||"",e="+250";for(let o of this.countryCodes)if(t.startsWith(o.code)){e=o.code,t=t.substring(o.code.length);break}this.customerData={name:this.customer.name,phone:t,countryCode:e,email:this.customer.email||"",address:this.customer.address||this.customer.location||"",pricePerLiter:this.customer.pricePerLiter||this.customer.buyingPricePerLiter||0,customerType:this.customer.customerType||"Individual",paymentMethod:this.customer.paymentMethod||"Cash"}}onSubmit(){if(this.isSubmitting)return;this.isSubmitting=!0;let t=this.customerData.countryCode+this.customerData.phone;setTimeout(()=>{this.customerUpdated.emit($(w({},this.customerData),{phone:t,id:this.customer.id})),this.isSubmitting=!1,this.closeModal()},1500)}closeModal(){this.modalClosed.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-edit-customer-modal"]],inputs:{customer:"customer"},outputs:{customerUpdated:"customerUpdated",modalClosed:"modalClosed"},decls:95,vars:17,consts:[["customerForm","ngForm"],["nameField","ngModel"],["phoneField","ngModel"],["addressField","ngModel"],["priceField","ngModel"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","x","size","20px"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-row"],[1,"form-group"],["for","name"],[1,"input-container"],["name","user","size","18px",1,"input-icon"],["type","text","id","name","name","name","required","","placeholder","Enter customer name",1,"form-input",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","phone"],[1,"unified-phone-input"],[1,"phone-input-wrapper"],[1,"country-code-section"],["name","countryCode",1,"country-code-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"phone-number-section"],["name","phone","size","18px",1,"input-icon"],["type","tel","id","phone","name","phone","required","","placeholder","788606765",1,"phone-input",3,"ngModelChange","ngModel"],["for","email"],["name","mail","size","18px",1,"input-icon"],["type","email","id","email","name","email","placeholder","Email (optional)",1,"form-input",3,"ngModelChange","ngModel"],["for","address"],["name","map-pin","size","18px",1,"input-icon"],["type","text","id","address","name","address","required","","placeholder","Enter address",1,"form-input",3,"ngModelChange","ngModel"],["for","pricePerLiter"],["name","dollar-sign","size","18px",1,"input-icon"],["type","number","id","pricePerLiter","name","pricePerLiter","required","","min","0","step","0.01","placeholder","Price per Liter (RWF)",1,"form-input",3,"ngModelChange","ngModel"],["for","customerType"],["name","tag","size","18px",1,"input-icon"],["id","customerType","name","customerType",1,"form-input",3,"ngModelChange","ngModel"],["value","Individual"],["value","Restaurant"],["value","Shop"],["value","Hotel"],["value","Cafe"],["for","paymentMethod"],["name","credit-card","size","18px",1,"input-icon"],["id","paymentMethod","name","paymentMethod",1,"form-input",3,"ngModelChange","ngModel"],["value","Cash"],["value","Mobile Money"],["value","Bank Transfer"],["value","Credit Card"],[1,"form-actions"],["type","button",1,"btn","btn-danger-outline",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["name","loader","size","16px","class","spinning",4,"ngIf"],[1,"error-message"],[3,"value"],["name","loader","size","16px",1,"spinning"]],template:function(e,o){if(e&1){let i=k();a(0,"div",5),v("click",function(){return h(i),_(o.closeModal())}),a(1,"div",6),v("click",function(s){return h(i),_(s.stopPropagation())}),a(2,"div",7)(3,"h2"),l(4,"Edit Customer"),c(),a(5,"button",8),v("click",function(){return h(i),_(o.closeModal())}),g(6,"app-lucide-icon",9),c()(),a(7,"div",10)(8,"form",11,0),v("ngSubmit",function(){return h(i),_(o.onSubmit())}),a(10,"div",12)(11,"div",13)(12,"label",14),l(13,"Customer Name *"),c(),a(14,"div",15),g(15,"app-lucide-icon",16),a(16,"input",17,1),E("ngModelChange",function(s){return h(i),I(o.customerData.name,s)||(o.customerData.name=s),_(s)}),c()(),M(18,lA,2,0,"div",18),c(),a(19,"div",13)(20,"label",19),l(21,"Phone Number *"),c(),a(22,"div",20)(23,"div",21)(24,"div",22)(25,"select",23),E("ngModelChange",function(s){return h(i),I(o.customerData.countryCode,s)||(o.customerData.countryCode=s),_(s)}),M(26,dA,2,3,"option",24),c()(),a(27,"div",25),g(28,"app-lucide-icon",26),a(29,"input",27,2),E("ngModelChange",function(s){return h(i),I(o.customerData.phone,s)||(o.customerData.phone=s),_(s)}),c()()()(),M(31,uA,2,0,"div",18),c()(),a(32,"div",12)(33,"div",13)(34,"label",28),l(35,"Email (Optional)"),c(),a(36,"div",15),g(37,"app-lucide-icon",29),a(38,"input",30),E("ngModelChange",function(s){return h(i),I(o.customerData.email,s)||(o.customerData.email=s),_(s)}),c()()(),a(39,"div",13)(40,"label",31),l(41,"Address *"),c(),a(42,"div",15),g(43,"app-lucide-icon",32),a(44,"input",33,3),E("ngModelChange",function(s){return h(i),I(o.customerData.address,s)||(o.customerData.address=s),_(s)}),c()(),M(46,pA,2,0,"div",18),c()(),a(47,"div",12)(48,"div",13)(49,"label",34),l(50,"Price per Liter (RWF) *"),c(),a(51,"div",15),g(52,"app-lucide-icon",35),a(53,"input",36,4),E("ngModelChange",function(s){return h(i),I(o.customerData.pricePerLiter,s)||(o.customerData.pricePerLiter=s),_(s)}),c()(),M(55,mA,2,0,"div",18),c(),a(56,"div",13)(57,"label",37),l(58,"Customer Type"),c(),a(59,"div",15),g(60,"app-lucide-icon",38),a(61,"select",39),E("ngModelChange",function(s){return h(i),I(o.customerData.customerType,s)||(o.customerData.customerType=s),_(s)}),a(62,"option",40),l(63,"Individual"),c(),a(64,"option",41),l(65,"Restaurant"),c(),a(66,"option",42),l(67,"Shop"),c(),a(68,"option",43),l(69,"Hotel"),c(),a(70,"option",44),l(71,"Cafe"),c()()()()(),a(72,"div",12)(73,"div",13)(74,"label",45),l(75,"Payment Method"),c(),a(76,"div",15),g(77,"app-lucide-icon",46),a(78,"select",47),E("ngModelChange",function(s){return h(i),I(o.customerData.paymentMethod,s)||(o.customerData.paymentMethod=s),_(s)}),a(79,"option",48),l(80,"Cash"),c(),a(81,"option",49),l(82,"Mobile Money"),c(),a(83,"option",50),l(84,"Bank Transfer"),c(),a(85,"option",51),l(86,"Credit Card"),c()()()(),g(87,"div",13),c(),a(88,"div",52)(89,"button",53),v("click",function(){return h(i),_(o.closeModal())}),l(90," Cancel "),c(),a(91,"button",54),M(92,gA,2,0,"span",55)(93,fA,2,0,"span",55)(94,hA,1,0,"app-lucide-icon",56),c()()()()()()}if(e&2){let i=xe(9),r=xe(17),s=xe(30),u=xe(45),p=xe(54);d(16),S("ngModel",o.customerData.name),d(2),m("ngIf",r.invalid&&r.touched),d(7),S("ngModel",o.customerData.countryCode),d(),m("ngForOf",o.countryCodes),d(3),S("ngModel",o.customerData.phone),d(2),m("ngIf",s.invalid&&s.touched),d(7),S("ngModel",o.customerData.email),d(6),S("ngModel",o.customerData.address),d(2),m("ngIf",u.invalid&&u.touched),d(7),S("ngModel",o.customerData.pricePerLiter),d(2),m("ngIf",p.invalid&&p.touched),d(6),S("ngModel",o.customerData.customerType),d(17),S("ngModel",o.customerData.paymentMethod),d(13),m("disabled",i.invalid||o.isSubmitting),d(),m("ngIf",!o.isSubmitting),d(),m("ngIf",o.isSubmitting),d(),m("ngIf",o.isSubmitting)}},dependencies:[R,ee,G,ie,De,Oe,we,ve,ct,Pe,se,Ie,Xe,_t,he,$e,q],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;padding:20px}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:.25rem;width:100%;max-width:540px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border:none}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.btn-close-custom[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close-custom[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.btn-close-custom[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex:1}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:16px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;transition:all .2s;width:100%;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:40px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.75rem;margin-top:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:1.25rem;border-top:1px solid rgba(27,46,75,.1)}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b!important;border-color:#1b2e4b!important;color:#fff!important;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #1b2e4b33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3498db!important;border-color:#3498db!important;box-shadow:0 4px 12px #1b2e4b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;font-size:.875rem;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c!important;color:#fff!important;border:none!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #e74c3c4d}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b!important;box-shadow:0 4px 12px #e74c3c66}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:12px}.modal-container[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]{display:flex;border:1px solid #dee2e6;border-radius:.25rem;background:#fff;transition:all .2s ease;overflow:hidden}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .country-code-section[_ngcontent-%COMP%]{flex-shrink:0;border-right:1px solid #dee2e6;background:#f3f4f6}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .country-code-section[_ngcontent-%COMP%]   .country-code-select[_ngcontent-%COMP%]{border:none;background:transparent;padding:.5rem;font-size:.875rem;cursor:pointer;outline:none;min-width:90px;color:#374151}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;align-items:center}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]   .phone-input[_ngcontent-%COMP%]{width:100%;border:none;background:transparent;padding:.5rem .875rem .5rem 40px;font-size:.875rem;outline:none}.unified-phone-input[_ngcontent-%COMP%]   .phone-input-wrapper[_ngcontent-%COMP%]   .phone-number-section[_ngcontent-%COMP%]   .phone-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:20px;padding-top:16px;border-top:1px solid rgba(27,46,75,.1)}.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};function _A(n,t){n&1&&(a(0,"span"),l(1,"Delete Customer"),c())}function CA(n,t){n&1&&(a(0,"span"),l(1,"Deleting..."),c())}function vA(n,t){n&1&&g(0,"app-lucide-icon",25)}var Du=class n{customer;customerDeleted=new z;modalClosed=new z;isDeleting=!1;closeModal(){this.modalClosed.emit()}confirmDelete(){this.isDeleting||(this.isDeleting=!0,setTimeout(()=>{this.customerDeleted.emit(this.customer),this.isDeleting=!1,this.closeModal()},1500))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-delete-customer-modal"]],inputs:{customer:"customer"},outputs:{customerDeleted:"customerDeleted",modalClosed:"modalClosed"},decls:49,vars:14,consts:[["tabindex","-1","role","dialog",1,"modal","fade"],["role","document",1,"modal-dialog","modal-md","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close-custom",3,"click"],["name","x","size","18px"],[1,"modal-body"],[1,"delete-warning"],[1,"warning-icon"],["name","alert-triangle","size","48px"],[1,"customer-preview"],[1,"customer-avatar"],[1,"avatar-img",3,"src","alt"],[1,"customer-info"],[1,"customer-name"],[1,"customer-phone"],[1,"customer-address"],[1,"warning-message"],[1,"modal-footer"],["type","button",1,"btn","btn-danger-outline",3,"click"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[4,"ngIf"],["name","loader","size","16px","class","spinning",4,"ngIf"],[1,"modal-backdrop","fade","show"],["name","loader","size","16px",1,"spinning"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),l(5,"Delete Customer"),c(),a(6,"button",5),v("click",function(){return o.closeModal()}),g(7,"app-lucide-icon",6),c()(),a(8,"div",7)(9,"div",8)(10,"div",9),g(11,"app-lucide-icon",10),c(),a(12,"h3"),l(13,"Are you sure you want to delete this customer?"),c(),a(14,"div",11)(15,"div",12),g(16,"img",13),c(),a(17,"div",14)(18,"div",15),l(19),c(),a(20,"div",16),l(21),c(),a(22,"div",17),l(23),c()()(),a(24,"div",18)(25,"p")(26,"strong"),l(27,"This action cannot be undone."),c()(),a(28,"p"),l(29,"All customer data, including:"),c(),a(30,"ul")(31,"li"),l(32,"Customer information"),c(),a(33,"li"),l(34,"Purchase history"),c(),a(35,"li"),l(36,"Payment records"),c(),a(37,"li"),l(38,"Related transactions"),c()(),a(39,"p"),l(40,"will be permanently deleted."),c()()()(),a(41,"div",19)(42,"button",20),v("click",function(){return o.closeModal()}),l(43,"Cancel"),c(),a(44,"button",21),v("click",function(){return o.confirmDelete()}),M(45,_A,2,0,"span",22)(46,CA,2,0,"span",22)(47,vA,1,0,"app-lucide-icon",23),c()()()()(),g(48,"div",24)),e&2&&(zr("display","block"),H("show",!0),V("aria-hidden",!1),d(16),m("src",o.customer.avatar||"assets/img/user.png",Ke)("alt",o.customer.name),d(3),b(o.customer.name),d(2),b(o.customer.phone),d(2),b(o.customer.address||o.customer.location),d(21),m("disabled",o.isDeleting),d(),m("ngIf",!o.isDeleting),d(),m("ngIf",o.isDeleting),d(),m("ngIf",o.isDeleting))},dependencies:[R,G,q],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;padding:20px}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:.25rem;width:100%;max-width:540px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border:none}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.btn-close-custom[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close-custom[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.btn-close-custom[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex:1}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:16px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;transition:all .2s;width:100%;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:40px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.75rem;margin-top:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:1.25rem;border-top:1px solid rgba(27,46,75,.1)}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b!important;border-color:#1b2e4b!important;color:#fff!important;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #1b2e4b33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3498db!important;border-color:#3498db!important;box-shadow:0 4px 12px #1b2e4b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;font-size:.875rem;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c!important;color:#fff!important;border:none!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #e74c3c4d}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b!important;box-shadow:0 4px 12px #e74c3c66}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:12px}.modal-container[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}}.delete-warning[_ngcontent-%COMP%]{text-align:center}.delete-warning[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{margin-bottom:16px;color:#f59e0b}.delete-warning[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#1e293b;margin-bottom:20px}.delete-warning[_ngcontent-%COMP%]   .customer-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:12px 16px;background:#f8fafc;border-radius:.25rem;margin-bottom:20px;text-align:left}.delete-warning[_ngcontent-%COMP%]   .customer-preview[_ngcontent-%COMP%]   .customer-avatar[_ngcontent-%COMP%]   .avatar-img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;object-fit:cover;border:2px solid #e2e8f0}.delete-warning[_ngcontent-%COMP%]   .customer-preview[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]{flex:1}.delete-warning[_ngcontent-%COMP%]   .customer-preview[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-name[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#1e293b;margin-bottom:4px}.delete-warning[_ngcontent-%COMP%]   .customer-preview[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-phone[_ngcontent-%COMP%], .delete-warning[_ngcontent-%COMP%]   .customer-preview[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   .customer-address[_ngcontent-%COMP%]{font-size:.8125rem;color:#64748b;margin-bottom:2px}.delete-warning[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]{text-align:left;background:#fef2f2;border:1px solid #fecaca;border-radius:.25rem;padding:12px 16px;margin-bottom:20px}.delete-warning[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:.8125rem;color:#374151}.delete-warning[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.delete-warning[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#e74c3c}.delete-warning[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:8px 0;padding-left:20px;color:#374151;font-size:.8125rem}.delete-warning[_ngcontent-%COMP%]   .warning-message[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:4px}.btn-close-custom[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #dee2e6;color:#6c757d;padding:0;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;width:32px;height:32px;border-radius:50%}.btn-close-custom[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};function yA(n,t){n&1&&(ue(0),g(1,"app-skeleton-loader",3),pe())}function bA(n,t){if(n&1){let e=k();a(0,"div",30)(1,"button",31),v("click",function(i){let r=h(e).$implicit,s=f(2);return _(s.toggleDropdown(r.id,i))}),g(2,"app-lucide-icon",32),c(),a(3,"ul",33)(4,"li")(5,"a",34),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.viewCustomer(i))}),g(6,"app-lucide-icon",35),l(7," View "),c()(),a(8,"li")(9,"a",34),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.editCustomer(i))}),g(10,"app-lucide-icon",36),l(11," Edit "),c()(),a(12,"li")(13,"a",37),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.deleteCustomer(i))}),g(14,"app-lucide-icon",38),l(15," Delete "),c()()()()}if(n&2){let e=t.$implicit,o=f(2);H("show",o.openDropdownId===e.id),d(3),H("show",o.openDropdownId===e.id)}}function MA(n,t){if(n&1){let e=k();a(0,"app-add-customer-modal",39),v("customerAdded",function(i){h(e);let r=f(2);return _(r.onCustomerAdded(i))})("modalClosed",function(){h(e);let i=f(2);return _(i.closeAddCustomerModal())}),c()}}function xA(n,t){if(n&1){let e=k();a(0,"app-view-customer-modal",40),v("modalClosed",function(){h(e);let i=f(2);return _(i.onViewModalClosed())})("editRequested",function(i){h(e);let r=f(2);return _(r.onEditRequested(i))}),c()}if(n&2){let e=f(2);m("customer",e.selectedCustomer)}}function PA(n,t){if(n&1){let e=k();a(0,"app-edit-customer-modal",41),v("customerUpdated",function(i){h(e);let r=f(2);return _(r.onCustomerUpdated(i))})("modalClosed",function(){h(e);let i=f(2);return _(i.onEditModalClosed())}),c()}if(n&2){let e=f(2);m("customer",e.selectedCustomer)}}function OA(n,t){if(n&1){let e=k();a(0,"app-delete-customer-modal",42),v("customerDeleted",function(i){h(e);let r=f(2);return _(r.onCustomerDeleted(i))})("modalClosed",function(){h(e);let i=f(2);return _(i.onDeleteModalClosed())}),c()}if(n&2){let e=f(2);m("customer",e.selectedCustomer)}}function wA(n,t){if(n&1){let e=k();ue(0),a(1,"div",4)(2,"div",5)(3,"h1"),l(4,"Customers"),c(),a(5,"p",6),l(6,"Manage your customer database and track sales"),c()(),a(7,"div",7)(8,"button",8),v("click",function(){h(e);let i=f();return _(i.openAddCustomerModal())}),g(9,"app-lucide-icon",9),l(10," Add Customer "),c()()(),a(11,"div",10)(12,"div",11)(13,"div",12),g(14,"app-lucide-icon",13),c(),a(15,"div",14)(16,"div",15),l(17),c(),a(18,"div",16),l(19,"Total Customers"),c()()(),a(20,"div",11)(21,"div",12),g(22,"app-lucide-icon",17),c(),a(23,"div",14)(24,"div",15),l(25),c(),a(26,"div",16),l(27,"Active Customers"),c()()(),a(28,"div",11)(29,"div",12),g(30,"app-lucide-icon",18),c(),a(31,"div",14)(32,"div",15),l(33),c(),a(34,"div",16),l(35,"Avg Price/Liter"),c()()(),a(36,"div",11)(37,"div",12),g(38,"app-lucide-icon",19),c(),a(39,"div",14)(40,"div",15),l(41),c(),a(42,"div",16),l(43,"Total Revenue"),c()()()(),a(44,"div",20)(45,"div",21)(46,"div",22)(47,"h3"),l(48,"All Customers"),c(),a(49,"span",23),l(50),c()()(),a(51,"div",24)(52,"app-data-table",25),v("onSort",function(i){h(e);let r=f();return _(r.handleSort(i))})("onPageChange",function(i){h(e);let r=f();return _(r.handlePageChange(i))})("onPageSizeChange",function(i){h(e);let r=f();return _(r.handlePageSizeChange(i))})("onRowClick",function(i){h(e);let r=f();return _(r.viewCustomer(i))}),M(53,bA,16,4,"ng-template",null,0,ut),c()()(),M(55,MA,1,0,"app-add-customer-modal",26)(56,xA,1,1,"app-view-customer-modal",27)(57,PA,1,1,"app-edit-customer-modal",28)(58,OA,1,1,"app-delete-customer-modal",29),pe()}if(n&2){let e=f();d(17),b(e.stats.totalCustomers),d(8),b(e.stats.activeCustomers),d(8),b(e.formatCurrency(e.stats.averagePrice)),d(8),b(e.formatCurrency(e.stats.totalRevenue)),d(9),T("",e.customers.length," customers"),d(2),m("columns",e.columns)("data",e.filteredCustomers)("striped",!1)("hover",!0)("showActions",!1)("showPagination",!0)("currentPage",e.currentPage)("pageSize",e.pageSize)("totalPages",e.totalPages)("totalItems",e.customers.length)("loading",e.loading),d(3),m("ngIf",e.showAddCustomerModal),d(),m("ngIf",e.showViewCustomerModal&&e.selectedCustomer),d(),m("ngIf",e.showEditCustomerModal&&e.selectedCustomer),d(),m("ngIf",e.showDeleteCustomerModal&&e.selectedCustomer)}}var ku=class n{constructor(t){this.customerService=t}customers=[];filteredCustomers=[];stats={};loading=!1;showAddCustomerModal=!1;showViewCustomerModal=!1;showEditCustomerModal=!1;showDeleteCustomerModal=!1;selectedCustomer=null;columns=[];currentPage=1;pageSize=10;totalPages=1;openDropdownId=null;ngOnInit(){this.initializeColumns(),this.loadCustomers(),this.loadStats(),this.customerService.reloadCustomers(),setTimeout(()=>{this.customerService.getCustomersFromAPI().subscribe({next:t=>{console.log("\u2705 API Load Successful:",t),this.loadCustomers(),this.loadStats()},error:t=>{console.error("\u274C API Load Failed:",t),console.log("Using mock data instead")}})},100),document.addEventListener("click",()=>{this.closeDropdown()})}initializeColumns(){this.columns=[{key:"index",title:"No.",type:"number",sortable:!1},{key:"name",title:"Customer",type:"text",sortable:!0},{key:"phone",title:"Phone",type:"text",sortable:!0},{key:"address",title:"Address",type:"text",sortable:!0},{key:"pricePerLiter",title:"Price/Liter (RWF)",type:"number",sortable:!0},{key:"averageSupplyQuantity",title:"Avg Supply (L)",type:"number",sortable:!0},{key:"status",title:"Status",type:"status",sortable:!0},{key:"registrationDate",title:"Registered",type:"date",sortable:!0}]}loadCustomers(){this.loading=!0,setTimeout(()=>{this.customers=this.customerService.getCustomers(),this.customers=this.customers.map((t,e)=>$(w({},t),{index:e+1})),this.filteredCustomers=[...this.customers],this.loading=!1},1e3)}loadStats(){let t=this.customerService.getCustomers();this.stats={totalCustomers:t.length,activeCustomers:t.filter(e=>e.status==="Active").length,totalRevenue:t.reduce((e,o)=>e+(o.totalAmount||0),0),averagePrice:t.length>0?t.reduce((e,o)=>e+(o.pricePerLiter||0),0)/t.length:0}}filterCustomers(){this.filteredCustomers=[...this.customers],this.filteredCustomers=this.filteredCustomers.map((t,e)=>$(w({},t),{index:e+1}))}handleSort(t){console.log("Sort:",t)}handlePageChange(t){this.currentPage=t}handlePageSizeChange(t){this.pageSize=t,this.currentPage=1}viewCustomer(t){this.closeDropdown(),this.selectedCustomer=t,this.showViewCustomerModal=!0}editCustomer(t){this.closeDropdown(),this.selectedCustomer=t,this.showEditCustomerModal=!0}deleteCustomer(t){this.closeDropdown(),this.selectedCustomer=t,this.showDeleteCustomerModal=!0}toggleDropdown(t,e){e.stopPropagation(),this.openDropdownId===t?this.openDropdownId=null:this.openDropdownId=t}closeDropdown(){this.openDropdownId=null}onViewModalClosed(){this.showViewCustomerModal=!1,this.selectedCustomer=null}onEditModalClosed(){this.showEditCustomerModal=!1,this.selectedCustomer=null}onDeleteModalClosed(){this.showDeleteCustomerModal=!1,this.selectedCustomer=null}onEditRequested(t){this.showViewCustomerModal=!1,this.selectedCustomer=t,this.showEditCustomerModal=!0}onCustomerUpdated(t){let e=this.customers.findIndex(o=>o.id===t.id);e!==-1&&(this.customers[e]=w(w({},this.customers[e]),t),this.loadCustomers(),this.loadStats())}onCustomerDeleted(t){this.customerService.deleteCustomer(t.id),this.loadCustomers(),this.loadStats()}formatCurrency(t){return new Intl.NumberFormat("rw-RW",{style:"currency",currency:"RWF"}).format(t)}formatDate(t){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(t))}openAddCustomerModal(){this.showAddCustomerModal=!0}closeAddCustomerModal(){this.showAddCustomerModal=!1}onCustomerAdded(t){this.customerService.addCustomer({name:t.name,phone:t.phone,email:t.email,address:t.address,pricePerLiter:t.pricePerLiter}).subscribe({next:e=>{console.log("Customer created successfully:",e),this.loadCustomers(),this.loadStats()},error:e=>{console.error("Failed to create customer:",e)}})}static \u0275fac=function(e){return new(e||n)(D(On))};static \u0275cmp=N({type:n,selectors:[["app-customers-list"]],decls:3,vars:2,consts:[["rowActions",""],[1,"customers-container"],[4,"ngIf"],["type","stats"],[1,"page-header"],[1,"header-content"],[1,"page-description"],[1,"header-actions"],[1,"btn-primary",3,"click"],["name","plus","size","16px"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],["name","users","size","24px"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],["name","user-check","size","24px"],["name","dollar-sign","size","24px"],["name","trending-up","size","24px"],[1,"card"],[1,"card-header"],[1,"card-title-section"],[1,"customer-count"],[1,"card-body"],[3,"onSort","onPageChange","onPageSizeChange","onRowClick","columns","data","striped","hover","showActions","showPagination","currentPage","pageSize","totalPages","totalItems","loading"],[3,"customerAdded","modalClosed",4,"ngIf"],[3,"customer","modalClosed","editRequested",4,"ngIf"],[3,"customer","customerUpdated","modalClosed",4,"ngIf"],[3,"customer","customerDeleted","modalClosed",4,"ngIf"],[1,"dropdown"],["type","button",1,"btn","btn-outline-secondary","btn-sm","dropdown-toggle",3,"click"],["name","more-horizontal","size","16px"],[1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],["name","eye","size","14px",1,"me-2"],["name","edit","size","14px",1,"me-2"],["href","javascript:void(0)",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","14px",1,"me-2"],[3,"customerAdded","modalClosed"],[3,"modalClosed","editRequested","customer"],[3,"customerUpdated","modalClosed","customer"],[3,"customerDeleted","modalClosed","customer"]],template:function(e,o){e&1&&(a(0,"div",1),M(1,yA,2,0,"ng-container",2)(2,wA,59,20,"ng-container",2),c()),e&2&&(d(),m("ngIf",o.loading),d(),m("ngIf",!o.loading))},dependencies:[R,G,fe,ie,q,Je,an,ha,Eu,Iu,Du],styles:[".customers-container[_ngcontent-%COMP%]{padding:12px;min-height:auto}@media (max-width: 768px){.customers-container[_ngcontent-%COMP%]{padding:8px}}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:32px;gap:20px}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px}}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1e293b;margin:0 0 8px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{color:#64748b;font-size:16px;margin:0}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:stretch}}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:24px}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;border:1px solid #e2e8f0;display:flex;align-items:center;gap:16px;transition:all .2s ease;cursor:pointer}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:transparent;display:flex;align-items:center;justify-content:center;color:#004aad;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1e293b;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;font-weight:500}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;overflow:hidden}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:24px;border-bottom:1px solid #e2e8f0;background:#f8fafc}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1e293b;margin:0}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .customer-count[_ngcontent-%COMP%]{background:#e2e8f0;color:#64748b;padding:4px 12px;border-radius:20px;font-size:14px;font-weight:500}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}.customer-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.customer-info[_ngcontent-%COMP%]   .customer-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid #f1f5f9}.customer-info[_ngcontent-%COMP%]   .customer-details[_ngcontent-%COMP%]   .customer-name[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;font-size:14px;margin-bottom:2px}.customer-info[_ngcontent-%COMP%]   .customer-details[_ngcontent-%COMP%]   .customer-id[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.customer-type[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.customer-type.individual[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.customer-type.business[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.customer-type.restaurant[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.customer-type.school[_ngcontent-%COMP%]{background:#e0e7ff;color:#3730a3}.customer-type.hospital[_ngcontent-%COMP%]{background:#fce7f3;color:#be185d}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.status-badge.active[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status-badge.inactive[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.status-badge.suspended[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.amount[_ngcontent-%COMP%]{font-weight:600;color:#059669;font-size:14px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.action-buttons[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;border:none;border-radius:6px;background:#f8fafc;color:#64748b;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.action-buttons[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#1e293b}.action-buttons[_ngcontent-%COMP%]   .btn-icon.danger[_ngcontent-%COMP%]:hover{background:#fee2e2;color:#dc2626}.btn-primary[_ngcontent-%COMP%]{background:#004aad;color:#fff;border:none;padding:10px 20px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;font-size:14px}.btn-primary[_ngcontent-%COMP%]:hover{background:#003d8f;transform:translateY(-1px)}.btn-primary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#64748b;border:1px solid #d1d5db;padding:10px 20px;border-radius:8px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;font-size:14px}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#94a3b8;color:#1e293b}.btn-secondary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#64748b}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{flex:1;justify-content:center}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:20px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:40px;height:40px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 480px){.customers-container[_ngcontent-%COMP%]{padding:12px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:16px;flex-direction:column;text-align:center;gap:12px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:36px;height:36px}}"]})};function SA(n,t){n&1&&g(0,"app-lucide-icon",59)}function EA(n,t){n&1&&g(0,"app-lucide-icon",60)}var Tu=class n{constructor(t,e){this.customerService=t;this.router=e}customer={name:"",email:"",phone:"",address:"",city:"",region:"",customerType:"Individual",status:"Active",preferredDeliveryTime:"",notes:""};isSubmitting=!1;ngOnInit(){}onSubmit(){this.isSubmitting||(this.isSubmitting=!0,this.customerService.addCustomer({name:this.customer.name,phone:this.customer.phone,email:this.customer.email,address:this.customer.address,pricePerLiter:this.customer.pricePerLiter||0}).subscribe({next:t=>{console.log("Customer created:",t),alert("Customer created successfully!"),this.router.navigate(["/customers/list"]),this.isSubmitting=!1},error:t=>{console.error("Error creating customer:",t),alert("Error creating customer. Please try again."),this.isSubmitting=!1}}))}goBack(){this.router.navigate(["/customers/list"])}static \u0275fac=function(e){return new(e||n)(D(On),D(Ae))};static \u0275cmp=N({type:n,selectors:[["app-add-customer"]],decls:123,vars:14,consts:[["customerForm","ngForm"],[1,"add-customer-container"],[1,"page-header"],[1,"header-content"],[1,"back-btn",3,"click"],["name","arrow-left","size","20px"],[1,"header-text"],[1,"page-description"],[1,"form-container"],[1,"customer-form",3,"ngSubmit"],[1,"form-section"],[1,"section-header"],[1,"form-grid"],[1,"form-group"],["for","name",1,"form-label"],["type","text","id","name","name","name","required","","placeholder","Enter customer's full name",1,"form-input",3,"ngModelChange","ngModel"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","customer@example.com",1,"form-input",3,"ngModelChange","ngModel"],["for","phone",1,"form-label"],["type","tel","id","phone","name","phone","required","","placeholder","+250788123456",1,"form-input",3,"ngModelChange","ngModel"],["for","customerType",1,"form-label"],["id","customerType","name","customerType","required","",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","Individual"],["value","Business"],["value","Restaurant"],["value","School"],["value","Hospital"],[1,"form-group","full-width"],["for","address",1,"form-label"],["type","text","id","address","name","address","required","","placeholder","Enter street address",1,"form-input",3,"ngModelChange","ngModel"],["for","city",1,"form-label"],["type","text","id","city","name","city","required","","placeholder","Enter city",1,"form-input",3,"ngModelChange","ngModel"],["for","region",1,"form-label"],["id","region","name","region","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","Kigali"],["value","Northern Province"],["value","Southern Province"],["value","Eastern Province"],["value","Western Province"],["for","preferredDeliveryTime",1,"form-label"],["id","preferredDeliveryTime","name","preferredDeliveryTime",1,"form-select",3,"ngModelChange","ngModel"],["value","Early Morning (5:00-7:00)"],["value","Morning (7:00-9:00)"],["value","Late Morning (9:00-11:00)"],["value","Afternoon (13:00-15:00)"],["value","Evening (17:00-19:00)"],["for","status",1,"form-label"],["id","status","name","status",1,"form-select",3,"ngModelChange","ngModel"],["value","Active"],["value","Inactive"],["value","Suspended"],["for","notes",1,"form-label"],["id","notes","name","notes","rows","4","placeholder","Additional notes about the customer...",1,"form-textarea",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary",3,"disabled"],["name","loader","size","16px","class","spinning",4,"ngIf"],["name","save","size","16px",4,"ngIf"],["name","loader","size","16px",1,"spinning"],["name","save","size","16px"]],template:function(e,o){if(e&1){let i=k();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),v("click",function(){return h(i),_(o.goBack())}),g(4,"app-lucide-icon",5),c(),a(5,"div",6)(6,"h1"),l(7,"Add New Customer"),c(),a(8,"p",7),l(9,"Create a new customer profile in your system"),c()()()(),a(10,"div",8)(11,"form",9,0),v("ngSubmit",function(){return h(i),_(o.onSubmit())}),a(13,"div",10)(14,"div",11)(15,"h3"),l(16,"Personal Information"),c(),a(17,"p"),l(18,"Basic details about the customer"),c()(),a(19,"div",12)(20,"div",13)(21,"label",14),l(22,"Full Name *"),c(),a(23,"input",15),E("ngModelChange",function(s){return h(i),I(o.customer.name,s)||(o.customer.name=s),_(s)}),c()(),a(24,"div",13)(25,"label",16),l(26,"Email Address"),c(),a(27,"input",17),E("ngModelChange",function(s){return h(i),I(o.customer.email,s)||(o.customer.email=s),_(s)}),c()(),a(28,"div",13)(29,"label",18),l(30,"Phone Number *"),c(),a(31,"input",19),E("ngModelChange",function(s){return h(i),I(o.customer.phone,s)||(o.customer.phone=s),_(s)}),c()(),a(32,"div",13)(33,"label",20),l(34,"Customer Type *"),c(),a(35,"select",21),E("ngModelChange",function(s){return h(i),I(o.customer.customerType,s)||(o.customer.customerType=s),_(s)}),a(36,"option",22),l(37,"Select customer type"),c(),a(38,"option",23),l(39,"Individual"),c(),a(40,"option",24),l(41,"Business"),c(),a(42,"option",25),l(43,"Restaurant"),c(),a(44,"option",26),l(45,"School"),c(),a(46,"option",27),l(47,"Hospital"),c()()()()(),a(48,"div",10)(49,"div",11)(50,"h3"),l(51,"Address Information"),c(),a(52,"p"),l(53,"Customer's location details"),c()(),a(54,"div",12)(55,"div",28)(56,"label",29),l(57,"Street Address *"),c(),a(58,"input",30),E("ngModelChange",function(s){return h(i),I(o.customer.address,s)||(o.customer.address=s),_(s)}),c()(),a(59,"div",13)(60,"label",31),l(61,"City *"),c(),a(62,"input",32),E("ngModelChange",function(s){return h(i),I(o.customer.city,s)||(o.customer.city=s),_(s)}),c()(),a(63,"div",13)(64,"label",33),l(65,"Region *"),c(),a(66,"select",34),E("ngModelChange",function(s){return h(i),I(o.customer.region,s)||(o.customer.region=s),_(s)}),a(67,"option",22),l(68,"Select region"),c(),a(69,"option",35),l(70,"Kigali"),c(),a(71,"option",36),l(72,"Northern Province"),c(),a(73,"option",37),l(74,"Southern Province"),c(),a(75,"option",38),l(76,"Eastern Province"),c(),a(77,"option",39),l(78,"Western Province"),c()()()()(),a(79,"div",10)(80,"div",11)(81,"h3"),l(82,"Preferences"),c(),a(83,"p"),l(84,"Customer's delivery and service preferences"),c()(),a(85,"div",12)(86,"div",13)(87,"label",40),l(88,"Preferred Delivery Time"),c(),a(89,"select",41),E("ngModelChange",function(s){return h(i),I(o.customer.preferredDeliveryTime,s)||(o.customer.preferredDeliveryTime=s),_(s)}),a(90,"option",22),l(91,"Select preferred time"),c(),a(92,"option",42),l(93,"Early Morning (5:00-7:00)"),c(),a(94,"option",43),l(95,"Morning (7:00-9:00)"),c(),a(96,"option",44),l(97,"Late Morning (9:00-11:00)"),c(),a(98,"option",45),l(99,"Afternoon (13:00-15:00)"),c(),a(100,"option",46),l(101,"Evening (17:00-19:00)"),c()()(),a(102,"div",13)(103,"label",47),l(104,"Status"),c(),a(105,"select",48),E("ngModelChange",function(s){return h(i),I(o.customer.status,s)||(o.customer.status=s),_(s)}),a(106,"option",49),l(107,"Active"),c(),a(108,"option",50),l(109,"Inactive"),c(),a(110,"option",51),l(111,"Suspended"),c()()()(),a(112,"div",13)(113,"label",52),l(114,"Notes"),c(),a(115,"textarea",53),E("ngModelChange",function(s){return h(i),I(o.customer.notes,s)||(o.customer.notes=s),_(s)}),c()()(),a(116,"div",54)(117,"button",55),v("click",function(){return h(i),_(o.goBack())}),l(118," Cancel "),c(),a(119,"button",56),M(120,SA,1,0,"app-lucide-icon",57)(121,EA,1,0,"app-lucide-icon",58),l(122),c()()()()()}if(e&2){let i=xe(12);d(23),S("ngModel",o.customer.name),d(4),S("ngModel",o.customer.email),d(4),S("ngModel",o.customer.phone),d(4),S("ngModel",o.customer.customerType),d(23),S("ngModel",o.customer.address),d(4),S("ngModel",o.customer.city),d(4),S("ngModel",o.customer.region),d(23),S("ngModel",o.customer.preferredDeliveryTime),d(16),S("ngModel",o.customer.status),d(10),S("ngModel",o.customer.notes),d(4),m("disabled",!i.valid||o.isSubmitting),d(),m("ngIf",o.isSubmitting),d(),m("ngIf",!o.isSubmitting),d(),T(" ",o.isSubmitting?"Creating...":"Create Customer"," ")}},dependencies:[R,G,ie,De,Oe,we,ve,Pe,se,Ie,Xe,he,$e,q],styles:[`.add-customer-container[_ngcontent-%COMP%]{padding:20px;background:#f8fafc;min-height:100vh}@media (max-width: 768px){.add-customer-container[_ngcontent-%COMP%]{padding:16px}}.page-header[_ngcontent-%COMP%]{margin-bottom:32px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]{width:40px;height:40px;border:none;border-radius:8px;background:#fff;color:#64748b;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;box-shadow:0 1px 3px #0000001a}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .back-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;color:#1e293b;transform:translateY(-1px)}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1e293b;margin:0 0 8px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{color:#64748b;font-size:16px;margin:0}.form-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.customer-form[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;overflow:hidden}.form-section[_ngcontent-%COMP%]{padding:32px;border-bottom:1px solid #e2e8f0}.form-section[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.form-section[_ngcontent-%COMP%]{padding:24px}}.form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:24px}.form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1e293b;margin:0 0 8px}.form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#64748b;font-size:14px;margin:0}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}@media (max-width: 768px){.form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.form-grid[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#374151;margin:0}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]:after{content:" *";color:#dc2626}.form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]:not(:has(+*[required])):after{display:none}.form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{padding:12px 16px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;color:#1e293b;background:#fff;transition:all .2s ease}.form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#004aad;box-shadow:0 0 0 3px #004aad1a}.form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]:disabled{background:#f9fafb;color:#6b7280;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px;font-family:inherit}.form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{cursor:pointer;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3e%3c/svg%3e");background-position:right 12px center;background-repeat:no-repeat;background-size:16px;padding-right:40px}.form-actions[_ngcontent-%COMP%]{padding:32px;background:#f8fafc;display:flex;gap:16px;justify-content:flex-end}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]{padding:24px;flex-direction:column}}.btn-primary[_ngcontent-%COMP%]{background:#004aad;color:#fff;border:none;padding:12px 24px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;font-size:14px;min-width:140px;justify-content:center}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#003d8f;transform:translateY(-1px)}.btn-primary[_ngcontent-%COMP%]:disabled{background:#cbd5e1;cursor:not-allowed;transform:none}.btn-primary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#64748b;border:1px solid #d1d5db;padding:12px 24px;border-radius:8px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;font-size:14px;min-width:100px;justify-content:center}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#94a3b8;color:#1e293b}.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.add-customer-container[_ngcontent-%COMP%]{padding:12px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.form-section[_ngcontent-%COMP%], .form-actions[_ngcontent-%COMP%]{padding:20px}}@media (max-width: 480px){.form-grid[_ngcontent-%COMP%]{gap:12px}.form-group[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .form-textarea[_ngcontent-%COMP%]{padding:10px 12px}.form-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .form-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{padding:10px 20px;font-size:13px}}`]})};function IA(n,t){if(n&1&&(a(0,"option",36),l(1),c()),n&2){let e=t.$implicit;m("value",e.id),d(),b(e.name)}}var Au=class n{constructor(t){this.customerService=t}sales=[];filteredSales=[];customers=[];loading=!1;searchTerm="";statusFilter="";customerFilter="";stats={};columns=[];ngOnInit(){this.initializeColumns(),this.loadSales(),this.loadCustomers(),this.loadStats()}initializeColumns(){this.columns=[{key:"customerName",title:"Customer",type:"text",sortable:!0},{key:"date",title:"Date",type:"date",sortable:!0},{key:"quantity",title:"Quantity (L)",type:"number",sortable:!0},{key:"pricePerLiter",title:"Price/Liter",type:"custom",sortable:!0,template:this.priceTemplate},{key:"totalAmount",title:"Total Amount",type:"custom",sortable:!0,template:this.amountTemplate},{key:"paymentMethod",title:"Payment Method",type:"custom",sortable:!0,template:this.paymentMethodTemplate},{key:"paymentStatus",title:"Status",type:"custom",sortable:!0,template:this.statusTemplate},{key:"deliveryMethod",title:"Delivery",type:"text",sortable:!0},{key:"actions",title:"Actions",type:"custom",template:this.actionsTemplate}]}loadSales(){this.loading=!0,setTimeout(()=>{this.sales=this.customerService.getMilkSales(),this.filteredSales=[...this.sales],this.loading=!1},1e3)}loadCustomers(){this.customers=this.customerService.getCustomers()}loadStats(){let t=this.customerService.getMilkSales();this.stats={totalSales:t.length,totalQuantity:t.reduce((e,o)=>e+o.quantity,0),totalRevenue:t.reduce((e,o)=>e+o.totalAmount,0),averageOrderValue:t.length>0?t.reduce((e,o)=>e+o.totalAmount,0)/t.length:0}}filterSales(){this.filteredSales=this.sales.filter(t=>{let e=!this.searchTerm||t.customerName.toLowerCase().includes(this.searchTerm.toLowerCase())||t.paymentMethod.toLowerCase().includes(this.searchTerm.toLowerCase()),o=!this.statusFilter||t.paymentStatus===this.statusFilter,i=!this.customerFilter||t.customerId===this.customerFilter;return e&&o&&i})}handleSort(t){console.log("Sort:",t)}handleSearch(t){this.searchTerm=t,this.filterSales()}handlePageChange(t){console.log("Page:",t)}handlePageSizeChange(t){console.log("Page size:",t)}addSale(){console.log("Add new sale")}exportSales(){console.log("Export sales")}viewSale(t){console.log("View sale:",t)}editSale(t){console.log("Edit sale:",t)}deleteSale(t){confirm("Are you sure you want to delete this sale record?")&&(this.customerService.deleteMilkSale(t.id),this.loadSales(),this.loadStats())}formatCurrency(t){return new Intl.NumberFormat("rw-RW",{style:"currency",currency:"RWF"}).format(t)}formatDate(t){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(t))}priceTemplate=t=>`
    <div class="price">${this.formatCurrency(t.pricePerLiter)}/L</div>
  `;amountTemplate=t=>`
    <div class="amount">${this.formatCurrency(t.totalAmount)}</div>
  `;paymentMethodTemplate=t=>`
    <span class="payment-method ${t.paymentMethod.toLowerCase().replace(" ","-")}">${t.paymentMethod}</span>
  `;statusTemplate=t=>`
    <span class="status-badge ${t.paymentStatus.toLowerCase()}">${t.paymentStatus}</span>
  `;actionsTemplate=t=>`
    <div class="action-buttons">
      <button class="btn-icon" title="View" (click)="viewSale(sale)">
        <app-lucide-icon name="eye" size="16px"></app-lucide-icon>
      </button>
      <button class="btn-icon" title="Edit" (click)="editSale(sale)">
        <app-lucide-icon name="edit" size="16px"></app-lucide-icon>
      </button>
      <button class="btn-icon danger" title="Delete" (click)="deleteSale(sale)">
        <app-lucide-icon name="trash-2" size="16px"></app-lucide-icon>
      </button>
    </div>
  `;static \u0275fac=function(e){return new(e||n)(D(On))};static \u0275cmp=N({type:n,selectors:[["app-sold-milk"]],decls:75,vars:15,consts:[[1,"sold-milk-container"],[1,"page-header"],[1,"header-content"],[1,"page-description"],[1,"header-actions"],[1,"btn-secondary",3,"click"],["name","download","size","16px"],[1,"btn-primary",3,"click"],["name","plus","size","16px"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],["name","shopping-cart","size","24px"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],["name","droplet","size","24px"],["name","dollar-sign","size","24px"],["name","trending-up","size","24px"],[1,"card"],[1,"card-header"],[1,"card-title-section"],[1,"sales-count"],[1,"card-actions"],[1,"search-box"],["name","search","size","16px"],["type","text","placeholder","Search sales...",1,"search-input",3,"ngModelChange","input","ngModel"],[1,"filter-dropdown"],[1,"filter-select",3,"ngModelChange","change","ngModel"],["value",""],["value","Paid"],["value","Pending"],["value","Overdue"],[3,"value",4,"ngFor","ngForOf"],[1,"card-body"],[3,"onSort","onSearch","onPageChange","onPageSizeChange","onRowClick","columns","data","striped","hover","loading","showActions"],[3,"value"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),l(4,"Sold Milk Records"),c(),a(5,"p",3),l(6,"Track all milk sales and customer transactions"),c()(),a(7,"div",4)(8,"button",5),v("click",function(){return o.exportSales()}),g(9,"app-lucide-icon",6),l(10," Export "),c(),a(11,"button",7),v("click",function(){return o.addSale()}),g(12,"app-lucide-icon",8),l(13," Record Sale "),c()()(),a(14,"div",9)(15,"div",10)(16,"div",11),g(17,"app-lucide-icon",12),c(),a(18,"div",13)(19,"div",14),l(20),c(),a(21,"div",15),l(22,"Total Sales"),c()()(),a(23,"div",10)(24,"div",11),g(25,"app-lucide-icon",16),c(),a(26,"div",13)(27,"div",14),l(28),c(),a(29,"div",15),l(30,"Total Quantity"),c()()(),a(31,"div",10)(32,"div",11),g(33,"app-lucide-icon",17),c(),a(34,"div",13)(35,"div",14),l(36),c(),a(37,"div",15),l(38,"Total Revenue"),c()()(),a(39,"div",10)(40,"div",11),g(41,"app-lucide-icon",18),c(),a(42,"div",13)(43,"div",14),l(44),c(),a(45,"div",15),l(46,"Avg Order Value"),c()()()(),a(47,"div",19)(48,"div",20)(49,"div",21)(50,"h3"),l(51,"Milk Sales Records"),c(),a(52,"span",22),l(53),c()(),a(54,"div",23)(55,"div",24),g(56,"app-lucide-icon",25),a(57,"input",26),E("ngModelChange",function(r){return I(o.searchTerm,r)||(o.searchTerm=r),r}),v("input",function(){return o.filterSales()}),c()(),a(58,"div",27)(59,"select",28),E("ngModelChange",function(r){return I(o.statusFilter,r)||(o.statusFilter=r),r}),v("change",function(){return o.filterSales()}),a(60,"option",29),l(61,"All Status"),c(),a(62,"option",30),l(63,"Paid"),c(),a(64,"option",31),l(65,"Pending"),c(),a(66,"option",32),l(67,"Overdue"),c()()(),a(68,"div",27)(69,"select",28),E("ngModelChange",function(r){return I(o.customerFilter,r)||(o.customerFilter=r),r}),v("change",function(){return o.filterSales()}),a(70,"option",29),l(71,"All Customers"),c(),M(72,IA,2,2,"option",33),c()()()(),a(73,"div",34)(74,"app-data-table",35),v("onSort",function(r){return o.handleSort(r)})("onSearch",function(r){return o.handleSearch(r)})("onPageChange",function(r){return o.handlePageChange(r)})("onPageSizeChange",function(r){return o.handlePageSizeChange(r)})("onRowClick",function(r){return o.viewSale(r)}),c()()()()),e&2&&(d(20),b(o.stats.totalSales),d(8),T("",o.stats.totalQuantity,"L"),d(8),b(o.formatCurrency(o.stats.totalRevenue)),d(8),b(o.formatCurrency(o.stats.averageOrderValue)),d(9),T("",o.sales.length," sales"),d(4),S("ngModel",o.searchTerm),d(2),S("ngModel",o.statusFilter),d(10),S("ngModel",o.customerFilter),d(3),m("ngForOf",o.customers),d(2),m("columns",o.columns)("data",o.filteredSales)("striped",!1)("hover",!0)("loading",o.loading)("showActions",!1))},dependencies:[R,ee,ie,Oe,we,ve,Pe,se,he,q,Je],styles:[".sold-milk-container[_ngcontent-%COMP%]{padding:20px;background:#f8fafc;min-height:100vh}@media (max-width: 768px){.sold-milk-container[_ngcontent-%COMP%]{padding:16px}}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:32px;gap:20px}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px}}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1e293b;margin:0 0 8px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{color:#64748b;font-size:16px;margin:0}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:stretch}}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:32px}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:16px}}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:24px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;display:flex;align-items:center;gap:16px;transition:all .2s ease}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #0000001a;transform:translateY(-2px)}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:#004aad1a;display:flex;align-items:center;justify-content:center;color:#004aad;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1e293b;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;font-weight:500}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;overflow:hidden}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:24px;border-bottom:1px solid #e2e8f0;background:#f8fafc}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1e293b;margin:0}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .sales-count[_ngcontent-%COMP%]{background:#e2e8f0;color:#64748b;padding:4px 12px;border-radius:20px;font-size:14px;font-weight:500}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;flex-wrap:wrap}@media (max-width: 768px){.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{position:relative;flex:1;max-width:300px}@media (max-width: 768px){.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{max-width:none}}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:#94a3b8}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:10px 12px 10px 40px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;background:#fff;transition:all .2s ease}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#004aad;box-shadow:0 0 0 3px #004aad1a}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #d1d5db;border-radius:8px;font-size:14px;background:#fff;cursor:pointer;transition:all .2s ease;min-width:150px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .filter-dropdown[_ngcontent-%COMP%]   .filter-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#004aad}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}.price[_ngcontent-%COMP%]{font-weight:600;color:#059669;font-size:14px}.amount[_ngcontent-%COMP%]{font-weight:700;color:#059669;font-size:14px}.payment-method[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.payment-method.cash[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.payment-method.mobile-money[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.payment-method.bank-transfer[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.payment-method.credit[_ngcontent-%COMP%]{background:#fce7f3;color:#be185d}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.status-badge.paid[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status-badge.pending[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.status-badge.overdue[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.action-buttons[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;border:none;border-radius:6px;background:#f8fafc;color:#64748b;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.action-buttons[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#1e293b}.action-buttons[_ngcontent-%COMP%]   .btn-icon.danger[_ngcontent-%COMP%]:hover{background:#fee2e2;color:#dc2626}.btn-primary[_ngcontent-%COMP%]{background:#004aad;color:#fff;border:none;padding:10px 20px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;font-size:14px}.btn-primary[_ngcontent-%COMP%]:hover{background:#003d8f;transform:translateY(-1px)}.btn-primary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#64748b;border:1px solid #d1d5db;padding:10px 20px;border-radius:8px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;font-size:14px}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#94a3b8;color:#1e293b}.btn-secondary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#64748b}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{flex:1;justify-content:center}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:20px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:40px;height:40px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 480px){.sold-milk-container[_ngcontent-%COMP%]{padding:12px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:16px;flex-direction:column;text-align:center;gap:12px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:36px;height:36px}}"]})};function DA(n,t){if(n&1&&(a(0,"div",7)(1,"div",8),g(2,"app-lucide-icon",25),l(3," Email "),c(),a(4,"div",10),l(5),c()()),n&2){let e=f();d(5),b(e.supplier.email)}}var Nu=class n{supplier;modalClosed=new z;editRequested=new z;deleteRequested=new z;closeModal(){this.modalClosed.emit()}onEdit(){this.editRequested.emit(this.supplier)}onDelete(){this.deleteRequested.emit(this.supplier)}formatCurrency(t){return new Intl.NumberFormat("rw-RW",{style:"currency",currency:"RWF"}).format(t||0)}formatDate(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-view-supplier-modal"]],inputs:{supplier:"supplier"},outputs:{modalClosed:"modalClosed",editRequested:"editRequested",deleteRequested:"deleteRequested"},decls:62,vars:10,consts:[[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","x","size","20px"],[1,"modal-body"],[1,"supplier-info"],[1,"info-row"],[1,"info-label"],["name","user","size","16px"],[1,"info-value"],["name","phone","size","16px"],["class","info-row",4,"ngIf"],["name","map-pin","size","16px"],["name","dollar-sign","size","16px"],["name","droplet","size","16px"],["name","calendar","size","16px"],["name","activity","size","16px"],[1,"status-badge"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-danger",3,"click"],["name","trash-2","size","16px"],[1,"btn-primary",3,"click"],["name","edit-2","size","16px"],["name","mail","size","16px"]],template:function(e,o){e&1&&(a(0,"div",0),v("click",function(){return o.closeModal()}),a(1,"div",1),v("click",function(r){return r.stopPropagation()}),a(2,"div",2)(3,"h2"),l(4,"Supplier Details"),c(),a(5,"button",3),v("click",function(){return o.closeModal()}),g(6,"app-lucide-icon",4),c()(),a(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),g(11,"app-lucide-icon",9),l(12," Name "),c(),a(13,"div",10),l(14),c()(),a(15,"div",7)(16,"div",8),g(17,"app-lucide-icon",11),l(18," Phone "),c(),a(19,"div",10),l(20),c()(),M(21,DA,6,1,"div",12),a(22,"div",7)(23,"div",8),g(24,"app-lucide-icon",13),l(25," Location "),c(),a(26,"div",10),l(27),c()(),a(28,"div",7)(29,"div",8),g(30,"app-lucide-icon",14),l(31," Price per Liter "),c(),a(32,"div",10),l(33),c()(),a(34,"div",7)(35,"div",8),g(36,"app-lucide-icon",15),l(37," Daily Production "),c(),a(38,"div",10),l(39),c()(),a(40,"div",7)(41,"div",8),g(42,"app-lucide-icon",16),l(43," Registered "),c(),a(44,"div",10),l(45),c()(),a(46,"div",7)(47,"div",8),g(48,"app-lucide-icon",17),l(49," Status "),c(),a(50,"div",10)(51,"span",18),l(52),c()()()()(),a(53,"div",19)(54,"button",20),v("click",function(){return o.closeModal()}),l(55,"Close"),c(),a(56,"button",21),v("click",function(){return o.onDelete()}),g(57,"app-lucide-icon",22),l(58," Delete "),c(),a(59,"button",23),v("click",function(){return o.onEdit()}),g(60,"app-lucide-icon",24),l(61," Edit "),c()()()()),e&2&&(d(14),b(o.supplier.name),d(6),b(o.supplier.phone),d(),m("ngIf",o.supplier.email),d(6),b(o.supplier.location||"N/A"),d(6),b(o.formatCurrency(o.supplier.sellingPricePerLiter)),d(6),T("",o.supplier.dailyProduction||0," L"),d(6),b(o.formatDate(o.supplier.createdAt)),d(6),H("active",o.supplier.isActive),d(),T(" ",o.supplier.isActive?"Active":"Inactive"," "))},dependencies:[R,G,q],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:4px;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;border:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e9ecef;background:#f8fafc}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:600;color:#1e293b}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-body[_ngcontent-%COMP%]{padding:20px}.supplier-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f1f5f9}.supplier-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.supplier-info[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:.875rem;color:#64748b;font-weight:500}.supplier-info[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-size:.875rem;color:#1e293b;font-weight:500}.status-badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:.75rem;font-weight:600;background:#fef2f2;color:#dc2626}.status-badge.active[_ngcontent-%COMP%]{background:#f0fdf4;color:#16a34a}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;padding:16px 20px;border-top:1px solid #e9ecef;background:#f8fafc}.btn-secondary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]{padding:8px 16px;border-radius:4px;font-size:.875rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;border:none}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#64748b;border:1px solid #e2e8f0}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8fafc}.btn-primary[_ngcontent-%COMP%]{background:#004aad;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#003d91}.btn-danger[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.btn-danger[_ngcontent-%COMP%]:hover{background:#fee2e2}"]})};function kA(n,t){n&1&&(ue(0),g(1,"app-skeleton-loader",3),pe())}function TA(n,t){if(n&1){let e=k();a(0,"div",28)(1,"button",29),v("click",function(i){let r=h(e).$implicit,s=f(2);return _(s.toggleDropdown(r.id,i))}),g(2,"app-lucide-icon",30),c(),a(3,"ul",31)(4,"li")(5,"a",32),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.viewSupplier(i))}),g(6,"app-lucide-icon",33),l(7," View "),c()(),a(8,"li")(9,"a",32),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.editSupplier(i))}),g(10,"app-lucide-icon",34),l(11," Edit "),c()(),a(12,"li")(13,"a",35),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.deleteSupplier(i))}),g(14,"app-lucide-icon",36),l(15," Delete "),c()()()()}if(n&2){let e=t.$implicit,o=f(2);H("show",o.openDropdownId===e.id),d(3),H("show",o.openDropdownId===e.id)}}function AA(n,t){if(n&1){let e=k();a(0,"app-add-supplier-modal",37),v("supplierAdded",function(i){h(e);let r=f(2);return _(r.onSupplierAdded(i))})("modalClosed",function(){h(e);let i=f(2);return _(i.closeAddSupplierModal())}),c()}}function NA(n,t){if(n&1){let e=k();a(0,"app-view-supplier-modal",38),v("modalClosed",function(){h(e);let i=f(2);return _(i.closeViewSupplierModal())})("editRequested",function(i){h(e);let r=f(2);return _(r.editSupplier(i))})("deleteRequested",function(i){h(e);let r=f(2);return _(r.deleteSupplier(i))}),c()}if(n&2){let e=f(2);m("supplier",e.selectedSupplier)}}function RA(n,t){if(n&1){let e=k();ue(0),a(1,"div",4)(2,"div",5)(3,"h1"),l(4,"Suppliers"),c(),a(5,"p",6),l(6,"Manage your milk suppliers and collection schedules"),c()(),a(7,"div",7)(8,"button",8),v("click",function(){h(e);let i=f();return _(i.openAddSupplierModal())}),g(9,"app-lucide-icon",9),l(10," Add Supplier "),c()()(),a(11,"div",10)(12,"div",11)(13,"div",12),g(14,"app-lucide-icon",13),c(),a(15,"div",14)(16,"div",15),l(17),c(),a(18,"div",16),l(19,"Total Suppliers"),c()()(),a(20,"div",11)(21,"div",12),g(22,"app-lucide-icon",17),c(),a(23,"div",14)(24,"div",15),l(25),c(),a(26,"div",16),l(27,"Active Suppliers"),c()()(),a(28,"div",11)(29,"div",12),g(30,"app-lucide-icon",18),c(),a(31,"div",14)(32,"div",15),l(33),c(),a(34,"div",16),l(35,"Avg Price/Liter"),c()()(),a(36,"div",11)(37,"div",12),g(38,"app-lucide-icon",19),c(),a(39,"div",14)(40,"div",15),l(41),c(),a(42,"div",16),l(43,"Total Production"),c()()()(),a(44,"div",20)(45,"div",21)(46,"div",22)(47,"h3"),l(48,"All Suppliers"),c(),a(49,"span",23),l(50),c()()(),a(51,"div",24)(52,"app-data-table",25),v("onSort",function(i){h(e);let r=f();return _(r.handleSort(i))})("onPageChange",function(i){h(e);let r=f();return _(r.handlePageChange(i))})("onPageSizeChange",function(i){h(e);let r=f();return _(r.handlePageSizeChange(i))})("onRowClick",function(i){h(e);let r=f();return _(r.viewSupplier(i))}),M(53,TA,16,4,"ng-template",null,0,ut),c()()(),M(55,AA,1,0,"app-add-supplier-modal",26)(56,NA,1,1,"app-view-supplier-modal",27),pe()}if(n&2){let e=f();d(17),b(e.stats.totalSuppliers),d(8),b(e.stats.activeSuppliers),d(8),b(e.formatCurrency(e.stats.averagePrice)),d(8),b(e.formatVolume(e.stats.totalProduction)),d(9),T("",e.suppliers.length," suppliers"),d(2),m("columns",e.columns)("data",e.filteredSuppliers)("striped",!1)("hover",!0)("showActions",!1)("showPagination",!0)("currentPage",e.currentPage)("pageSize",e.pageSize)("totalPages",e.totalPages)("totalItems",e.suppliers.length)("loading",e.loading),d(3),m("ngIf",e.showAddSupplierModal),d(),m("ngIf",e.showViewSupplierModal&&e.selectedSupplier)}}var Ru=class n{constructor(t){this.suppliersService=t}suppliers=[];filteredSuppliers=[];stats={};loading=!1;error=null;showAddSupplierModal=!1;showViewSupplierModal=!1;selectedSupplier=null;columns=[];currentPage=1;pageSize=10;totalPages=1;openDropdownId=null;ngOnInit(){this.initializeColumns(),this.loadSuppliers(),this.loadStats(),document.addEventListener("click",()=>{this.closeDropdown()})}initializeColumns(){this.columns=[{key:"index",title:"No.",type:"number",sortable:!1},{key:"name",title:"Supplier",type:"text",sortable:!0},{key:"phone",title:"Phone",type:"text",sortable:!0},{key:"location",title:"Location",type:"text",sortable:!0},{key:"sellingPricePerLiter",title:"Price/Liter (RWF)",type:"number",sortable:!0},{key:"dailyProduction",title:"Daily Production (L)",type:"number",sortable:!0},{key:"businessType",title:"Business Type",type:"text",sortable:!0},{key:"isActive",title:"Status",type:"status",sortable:!0}]}loadSuppliers(){this.loading=!0,this.error=null,this.suppliersService.getSuppliers().subscribe({next:t=>{this.loading=!1,t.code===200&&t.data?(this.suppliers=t.data,this.suppliers=this.suppliers.map((e,o)=>$(w({},e),{index:o+1})),this.filteredSuppliers=[...this.suppliers],this.loadStats()):this.error=t.message||"Failed to load suppliers"},error:t=>{this.loading=!1,this.error=t.message||"Failed to load suppliers",console.error("Error loading suppliers:",t)}})}loadStats(){this.stats={totalSuppliers:this.suppliers.length,activeSuppliers:this.suppliers.filter(t=>t.isActive).length,averagePrice:this.suppliers.length>0?this.suppliers.reduce((t,e)=>t+(e.sellingPricePerLiter||0),0)/this.suppliers.length:0,totalProduction:this.suppliers.reduce((t,e)=>t+(e.dailyProduction||0),0)}}handleSort(t){console.log("Sort:",t)}handlePageChange(t){this.currentPage=t}handlePageSizeChange(t){this.pageSize=t,this.currentPage=1}viewSupplier(t){this.closeDropdown(),this.selectedSupplier=t,this.showViewSupplierModal=!0}closeViewSupplierModal(){this.showViewSupplierModal=!1,this.selectedSupplier=null}editSupplier(t){this.closeDropdown(),console.log("Edit supplier:",t)}deleteSupplier(t){this.closeDropdown(),console.log("Delete supplier:",t)}toggleDropdown(t,e){e.stopPropagation(),this.openDropdownId===t?this.openDropdownId=null:this.openDropdownId=t}closeDropdown(){this.openDropdownId=null}openAddSupplierModal(){this.showAddSupplierModal=!0}closeAddSupplierModal(){this.showAddSupplierModal=!1}onSupplierAdded(t){console.log("Supplier added:",t),this.loadSuppliers()}formatCurrency(t){return new Intl.NumberFormat("rw-RW",{style:"currency",currency:"RWF"}).format(t)}formatVolume(t){return`${t.toFixed(1)}L`}static \u0275fac=function(e){return new(e||n)(D(ti))};static \u0275cmp=N({type:n,selectors:[["app-suppliers-list"]],decls:3,vars:2,consts:[["rowActions",""],[1,"suppliers-container"],[4,"ngIf"],["type","stats"],[1,"page-header"],[1,"header-content"],[1,"page-description"],[1,"header-actions"],[1,"btn-primary",3,"click"],["name","plus","size","16px"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],["name","truck","size","24px"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],["name","user-check","size","24px"],["name","dollar-sign","size","24px"],["name","droplet","size","24px"],[1,"card"],[1,"card-header"],[1,"card-title-section"],[1,"supplier-count"],[1,"card-body"],[3,"onSort","onPageChange","onPageSizeChange","onRowClick","columns","data","striped","hover","showActions","showPagination","currentPage","pageSize","totalPages","totalItems","loading"],[3,"supplierAdded","modalClosed",4,"ngIf"],[3,"supplier","modalClosed","editRequested","deleteRequested",4,"ngIf"],[1,"dropdown"],["type","button",1,"btn","btn-outline-secondary","btn-sm","dropdown-toggle",3,"click"],["name","more-horizontal","size","16px"],[1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],["name","eye","size","14px",1,"me-2"],["name","edit","size","14px",1,"me-2"],["href","javascript:void(0)",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","14px",1,"me-2"],[3,"supplierAdded","modalClosed"],[3,"modalClosed","editRequested","deleteRequested","supplier"]],template:function(e,o){e&1&&(a(0,"div",1),M(1,kA,2,0,"ng-container",2)(2,RA,57,18,"ng-container",2),c()),e&2&&(d(),m("ngIf",o.loading),d(),m("ngIf",!o.loading))},dependencies:[R,G,fe,ie,q,Je,an,_a,Nu],styles:[".suppliers-container[_ngcontent-%COMP%]{padding:12px;min-height:auto}@media (max-width: 768px){.suppliers-container[_ngcontent-%COMP%]{padding:8px}}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:32px;gap:20px}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px}}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1e293b;margin:0 0 8px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{color:#64748b;font-size:16px;margin:0}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:stretch}}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:24px}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;border:1px solid #e2e8f0;display:flex;align-items:center;gap:16px;transition:all .2s ease;cursor:pointer}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:transparent;display:flex;align-items:center;justify-content:center;color:#004aad;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1e293b;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;font-weight:500}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;overflow:hidden}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:24px;border-bottom:1px solid #e2e8f0;background:#f8fafc}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1e293b;margin:0}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .supplier-count[_ngcontent-%COMP%]{background:#e2e8f0;color:#64748b;padding:4px 12px;border-radius:20px;font-size:14px;font-weight:500}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}.supplier-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.supplier-info[_ngcontent-%COMP%]   .supplier-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid #f1f5f9}.supplier-info[_ngcontent-%COMP%]   .supplier-details[_ngcontent-%COMP%]   .supplier-name[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;font-size:14px;margin-bottom:2px}.supplier-info[_ngcontent-%COMP%]   .supplier-details[_ngcontent-%COMP%]   .supplier-id[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.business-type[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.business-type.individual[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.business-type.cooperative[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.business-type.farm[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.status-badge.active[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status-badge.inactive[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.amount[_ngcontent-%COMP%]{font-weight:600;color:#059669;font-size:14px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.action-buttons[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;border:none;border-radius:6px;background:#f8fafc;color:#64748b;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.action-buttons[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#1e293b}.action-buttons[_ngcontent-%COMP%]   .btn-icon.danger[_ngcontent-%COMP%]:hover{background:#fee2e2;color:#dc2626}.btn-primary[_ngcontent-%COMP%]{background:#004aad;color:#fff;border:none;padding:10px 20px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;font-size:14px}.btn-primary[_ngcontent-%COMP%]:hover{background:#003d8f;transform:translateY(-1px)}.btn-primary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#64748b;border:1px solid #d1d5db;padding:10px 20px;border-radius:8px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;font-size:14px}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#94a3b8;color:#1e293b}.btn-secondary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#64748b}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{flex:1;justify-content:center}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:20px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:40px;height:40px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 480px){.suppliers-container[_ngcontent-%COMP%]{padding:12px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:16px;flex-direction:column;text-align:center;gap:12px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:36px;height:36px}}"]})};var Ca=class n{constructor(t,e,o){this.http=t;this.configService=e;this.authService=o}getAuthToken(){let t=this.authService.getToken();if(!t)throw new Error("No authentication token found");return t}handleError(t){let e="An unknown error occurred!";return t.error instanceof ErrorEvent?e=`Error: ${t.error.message}`:t.status===404?e="API endpoint not found.":t.error&&t.error.message?e=`Error: ${t.error.message}`:e=`Error Code: ${t.status}
Message: ${t.message}`,console.error(e),Se(()=>new Error(e))}getCollections(){let t=this.getAuthToken();return this.http.post(this.configService.getFullUrl("/collections/get"),{token:t}).pipe(J(e=>((Array.isArray(e)?e:e.data||[])||[]).map(i=>this.mapToCollection(i))),ae(this.handleError))}getFilteredCollections(t){let o={token:this.getAuthToken(),filters:$(w({},t),{date_from:t.dateFrom?t.dateFrom.toISOString().split("T")[0]:void 0,date_to:t.dateTo?t.dateTo.toISOString().split("T")[0]:void 0})};return this.http.post(this.configService.getFullUrl("/collections/get"),o).pipe(J(i=>((Array.isArray(i)?i:i.data||[])||[]).map(s=>this.mapToCollection(s))),ae(this.handleError))}createCollection(t){let o={token:this.getAuthToken(),supplier_account_code:t.supplierAccountCode,quantity:t.quantity,status:t.status,collection_at:t.collectionAt.toISOString().replace("T"," ").substring(0,19),notes:t.notes};return this.http.post(this.configService.getFullUrl("/collections/create"),o).pipe(ae(this.handleError))}updateCollection(t){let o={token:this.getAuthToken(),collection_id:t.collectionId};return t.quantity!==void 0&&(o.quantity=t.quantity),t.pricePerLiter!==void 0&&(o.unit_price=t.pricePerLiter),t.status!==void 0&&(o.status=t.status),t.collectionAt!==void 0&&(o.collection_at=t.collectionAt.toISOString().replace("T"," ").substring(0,19)),t.notes!==void 0&&(o.notes=t.notes),this.http.post(this.configService.getFullUrl("/collections/update"),o).pipe(ae(this.handleError))}cancelCollection(t){let e=this.getAuthToken();return this.http.post(this.configService.getFullUrl("/collections/cancel"),{token:e,collection_id:t}).pipe(ae(this.handleError))}deleteCollection(t){let e=this.getAuthToken();return this.http.post(this.configService.getFullUrl("/collections/delete"),{token:e,collection_id:t}).pipe(ae(this.handleError))}approveCollection(t){let e=this.getAuthToken();return this.http.post(this.configService.getFullUrl("/collections/approve"),{token:e,collection_id:t.collectionId,notes:t.notes}).pipe(ae(this.handleError))}rejectCollection(t){let e=this.getAuthToken();return this.http.post(this.configService.getFullUrl("/collections/reject"),{token:e,collection_id:t.collectionId,rejection_reason:t.rejectionReason,notes:t.notes}).pipe(ae(this.handleError))}getCollectionStats(){let t=this.getAuthToken();return this.http.post(this.configService.getFullUrl("/collections/stats"),{token:t}).pipe(J(e=>{if(e.code===200||e.status==="success")return e.data||{};throw new Error(e.message||"Failed to get collection stats")}),ae(this.handleError))}mapToCollection(t){let e=t.supplier_account;return{id:t.id?.toString()??"",supplierId:e?.code?.toString()??t.supplier_account_code?.toString()??"",supplierName:e?.name?.toString()??t.supplier_name?.toString()??"",supplierPhone:t.supplier_phone?.toString()??"",quantity:parseFloat(t.quantity?.toString()??"0"),pricePerLiter:parseFloat(t.unit_price?.toString()??"0"),totalValue:parseFloat(t.total_amount?.toString()??"0"),status:t.status?.toString()??"pending",rejectionReason:t.rejection_reason?.toString(),quality:t.quality?.toString(),notes:t.notes?.toString(),collectionDate:new Date(t.collection_at??Date.now()),createdAt:new Date(t.created_at??Date.now()),updatedAt:new Date(t.updated_at??Date.now())}}static \u0275fac=function(e){return new(e||n)(j(ot),j(Pn),j(Le))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function LA(n,t){if(n&1&&(a(0,"option",44),l(1),c()),n&2){let e=t.$implicit;m("value",e.accountCode),d(),ke(" ",e.name," - ",e.phone," ")}}function VA(n,t){n&1&&(a(0,"div",45),l(1," Please select a supplier "),c())}function jA(n,t){n&1&&(a(0,"div",45),l(1," Please enter a valid quantity "),c())}function zA(n,t){if(n&1&&(a(0,"div",46)(1,"h4"),l(2,"Collection Summary"),c(),a(3,"div",47)(4,"span"),l(5,"Supplier:"),c(),a(6,"span"),l(7),c()(),a(8,"div",47)(9,"span"),l(10,"Quantity:"),c(),a(11,"span"),l(12),c()(),a(13,"div",47)(14,"span"),l(15,"Status:"),c(),a(16,"span",48),l(17),te(18,"titlecase"),c()(),a(19,"div",47)(20,"span"),l(21,"Date & Time:"),c(),a(22,"span"),l(23),c()()()),n&2){let e=f();d(7),b(e.getSelectedSupplierName()),d(5),T("",e.collectionData.quantity,"L"),d(4),Fe(e.collectionData.status),d(),T(" ",_e(18,6,e.collectionData.status)," "),d(6),b(e.formatDateTime())}}function BA(n,t){n&1&&g(0,"span",49)}var Fu=class n{collectionRecorded=new z;modalClosed=new z;collectionData={supplierAccountCode:"",quantity:0,status:"accepted",notes:"",collectionAt:new Date};suppliers=[];collectionDate="";collectionTime="";loading=!1;collectionsService=A(Ca);suppliersService=A(ti);ngOnInit(){this.setCurrentDateTime(),this.loadSuppliers()}setCurrentDateTime(){let t=new Date;this.collectionDate=t.toISOString().split("T")[0],this.collectionTime=t.toTimeString().split(" ")[0].substring(0,5)}loadSuppliers(){this.suppliersService.getSuppliers().subscribe({next:t=>{(t.code===200||t.status==="success")&&(this.suppliers=t.data||[])},error:t=>{console.error("Error loading suppliers:",t),this.suppliers=[{accountCode:"A_120BA3",name:"kayumba",phone:"+250 788 123 456"},{accountCode:"A_BA957A",name:"pasteur",phone:"+250 788 234 567"},{accountCode:"A_825DE9",name:"Rwahama",phone:"+250 788 345 678"},{accountCode:"A_AE9A68",name:"celestin",phone:"+250 788 456 789"},{accountCode:"A_1B047F",name:"Arbert",phone:"+250 788 567 890"}]}})}onSubmit(){if(this.loading)return;this.loading=!0;let t=new Date(`${this.collectionDate}T${this.collectionTime}`);this.collectionData.collectionAt=t,this.collectionsService.createCollection(this.collectionData).subscribe({next:e=>{console.log("Collection recorded successfully:",e),this.collectionRecorded.emit(e),this.closeModal()},error:e=>{console.error("Error recording collection:",e),alert("Failed to record collection. Please try again.")},complete:()=>{this.loading=!1}})}closeModal(){this.modalClosed.emit()}getSelectedSupplierName(){let t=this.suppliers.find(e=>e.accountCode===this.collectionData.supplierAccountCode);return t?t.name:""}formatDateTime(){return this.collectionDate&&this.collectionTime?new Date(`${this.collectionDate}T${this.collectionTime}`).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-record-collection-modal"]],outputs:{collectionRecorded:"collectionRecorded",modalClosed:"modalClosed"},decls:69,vars:12,consts:[["collectionForm","ngForm"],["supplierField","ngModel"],["quantityField","ngModel"],["statusField","ngModel"],["dateField","ngModel"],["timeField","ngModel"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","x","size","20px"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-group"],["for","supplier"],[1,"input-container"],["name","user","size","18px",1,"input-icon"],["id","supplier","name","supplier","required","",1,"form-input",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],["for","quantity"],["name","droplet","size","18px",1,"input-icon"],["type","number","id","quantity","name","quantity","required","","min","0","step","0.1","placeholder","Enter quantity in liters",1,"form-input",3,"ngModelChange","ngModel"],["for","status"],["name","check-circle","size","18px",1,"input-icon"],["id","status","name","status","required","",1,"form-input",3,"ngModelChange","ngModel"],["value","accepted"],["value","rejected"],[1,"form-row"],["for","collectionDate"],["name","calendar","size","18px",1,"input-icon"],["type","date","id","collectionDate","name","collectionDate","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","collectionTime"],["name","clock","size","18px",1,"input-icon"],["type","time","id","collectionTime","name","collectionTime","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","notes"],["name","file-text","size","18px",1,"input-icon"],["id","notes","name","notes","placeholder","Add any additional notes...","rows","3",1,"textarea-input",3,"ngModelChange","ngModel"],["class","summary-card",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-danger-outline",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2","role","status",4,"ngIf"],[3,"value"],[1,"error-message"],[1,"summary-card"],[1,"summary-row"],[1,"status-badge"],["role","status",1,"spinner-border","spinner-border-sm","me-2"]],template:function(e,o){if(e&1){let i=k();a(0,"div",6),v("click",function(){return h(i),_(o.closeModal())}),a(1,"div",7),v("click",function(s){return h(i),_(s.stopPropagation())}),a(2,"div",8)(3,"h2"),l(4,"Record Collection"),c(),a(5,"button",9),v("click",function(){return h(i),_(o.closeModal())}),g(6,"app-lucide-icon",10),c()(),a(7,"div",11)(8,"form",12,0),v("ngSubmit",function(){return h(i),_(o.onSubmit())}),a(10,"div",13)(11,"label",14),l(12,"Select Supplier *"),c(),a(13,"div",15),g(14,"app-lucide-icon",16),a(15,"select",17,1),E("ngModelChange",function(s){return h(i),I(o.collectionData.supplierAccountCode,s)||(o.collectionData.supplierAccountCode=s),_(s)}),a(17,"option",18),l(18,"Choose a supplier..."),c(),M(19,LA,2,3,"option",19),c()(),M(20,VA,2,0,"div",20),c(),a(21,"div",13)(22,"label",21),l(23,"Quantity (Liters) *"),c(),a(24,"div",15),g(25,"app-lucide-icon",22),a(26,"input",23,2),E("ngModelChange",function(s){return h(i),I(o.collectionData.quantity,s)||(o.collectionData.quantity=s),_(s)}),c()(),M(28,jA,2,0,"div",20),c(),a(29,"div",13)(30,"label",24),l(31,"Status *"),c(),a(32,"div",15),g(33,"app-lucide-icon",25),a(34,"select",26,3),E("ngModelChange",function(s){return h(i),I(o.collectionData.status,s)||(o.collectionData.status=s),_(s)}),a(36,"option",27),l(37,"Accepted"),c(),a(38,"option",28),l(39,"Rejected"),c()()()(),a(40,"div",29)(41,"div",13)(42,"label",30),l(43,"Collection Date *"),c(),a(44,"div",15),g(45,"app-lucide-icon",31),a(46,"input",32,4),E("ngModelChange",function(s){return h(i),I(o.collectionDate,s)||(o.collectionDate=s),_(s)}),c()()(),a(48,"div",13)(49,"label",33),l(50,"Collection Time *"),c(),a(51,"div",15),g(52,"app-lucide-icon",34),a(53,"input",35,5),E("ngModelChange",function(s){return h(i),I(o.collectionTime,s)||(o.collectionTime=s),_(s)}),c()()()(),a(55,"div",13)(56,"label",36),l(57,"Notes (Optional)"),c(),a(58,"div",15),g(59,"app-lucide-icon",37),a(60,"textarea",38),E("ngModelChange",function(s){return h(i),I(o.collectionData.notes,s)||(o.collectionData.notes=s),_(s)}),l(61,"                "),c()()(),M(62,zA,24,8,"div",39),a(63,"div",40)(64,"button",41),v("click",function(){return h(i),_(o.closeModal())}),l(65,"Cancel"),c(),a(66,"button",42),M(67,BA,1,0,"span",43),l(68," Record Collection "),c()()()()()()}if(e&2){let i=xe(9),r=xe(16),s=xe(27);d(15),S("ngModel",o.collectionData.supplierAccountCode),d(4),m("ngForOf",o.suppliers),d(),m("ngIf",r.invalid&&r.touched),d(6),S("ngModel",o.collectionData.quantity),d(2),m("ngIf",s.invalid&&s.touched),d(6),S("ngModel",o.collectionData.status),d(12),S("ngModel",o.collectionDate),d(7),S("ngModel",o.collectionTime),d(7),S("ngModel",o.collectionData.notes),d(2),m("ngIf",o.collectionData.supplierAccountCode&&o.collectionData.quantity),d(4),m("disabled",!i.valid||o.loading),d(),m("ngIf",o.loading)}},dependencies:[R,ee,G,ie,De,Oe,we,ve,ct,Pe,se,Ie,Xe,_t,he,$e,q,zi],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;padding:20px}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:.25rem;width:100%;max-width:540px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border:none}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.btn-close-custom[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close-custom[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.btn-close-custom[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex:1}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:16px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;transition:all .2s;width:100%;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:40px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.75rem;margin-top:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:1.25rem;border-top:1px solid rgba(27,46,75,.1)}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b!important;border-color:#1b2e4b!important;color:#fff!important;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #1b2e4b33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3498db!important;border-color:#3498db!important;box-shadow:0 4px 12px #1b2e4b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;font-size:.875rem;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c!important;color:#fff!important;border:none!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #e74c3c4d}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b!important;box-shadow:0 4px 12px #e74c3c66}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:12px}.modal-container[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:20px;padding-top:16px;border-top:1px solid rgba(27,46,75,.1)}.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};function UA(n,t){if(n&1&&(a(0,"div",7)(1,"div",8),g(2,"app-lucide-icon",23),l(3," Quality "),c(),a(4,"div",10),l(5),c()()),n&2){let e=f();d(5),b(e.collection.quality)}}function HA(n,t){if(n&1&&(a(0,"div",7)(1,"div",8),g(2,"app-lucide-icon",24),l(3," Rejection Reason "),c(),a(4,"div",25),l(5),c()()),n&2){let e=f();d(5),b(e.collection.rejectionReason)}}function $A(n,t){if(n&1&&(a(0,"div",7)(1,"div",8),g(2,"app-lucide-icon",26),l(3," Notes "),c(),a(4,"div",10),l(5),c()()),n&2){let e=f();d(5),b(e.collection.notes)}}function WA(n,t){if(n&1){let e=k();ue(0),a(1,"button",27),v("click",function(){h(e);let i=f();return _(i.onReject())}),g(2,"app-lucide-icon",28),l(3," Reject "),c(),a(4,"button",29),v("click",function(){h(e);let i=f();return _(i.onApprove())}),g(5,"app-lucide-icon",30),l(6," Approve "),c(),pe()}}var Lu=class n{collection;modalClosed=new z;approveRequested=new z;rejectRequested=new z;closeModal(){this.modalClosed.emit()}onApprove(){this.approveRequested.emit(this.collection)}onReject(){this.rejectRequested.emit(this.collection)}formatCurrency(t){return new Intl.NumberFormat("rw-RW",{style:"currency",currency:"RWF"}).format(t||0)}formatDate(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}getStatusLabel(t){return{pending:"Pending",accepted:"Accepted",rejected:"Rejected",cancelled:"Cancelled"}[t]||t}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-view-collection-modal"]],inputs:{collection:"collection"},outputs:{modalClosed:"modalClosed",approveRequested:"approveRequested",rejectRequested:"rejectRequested"},decls:59,vars:12,consts:[[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","x","size","20px"],[1,"modal-body"],[1,"collection-info"],[1,"info-row"],[1,"info-label"],["name","truck","size","16px"],[1,"info-value"],["name","phone","size","16px"],["name","droplet","size","16px"],["name","dollar-sign","size","16px"],["name","credit-card","size","16px"],[1,"info-value","total"],["class","info-row",4,"ngIf"],["name","calendar","size","16px"],["name","activity","size","16px"],[1,"status-badge",3,"ngClass"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[4,"ngIf"],["name","check-circle","size","16px"],["name","alert-circle","size","16px"],[1,"info-value","rejection"],["name","file-text","size","16px"],[1,"btn-danger",3,"click"],["name","x-circle","size","16px"],[1,"btn-success",3,"click"],["name","check","size","16px"]],template:function(e,o){e&1&&(a(0,"div",0),v("click",function(){return o.closeModal()}),a(1,"div",1),v("click",function(r){return r.stopPropagation()}),a(2,"div",2)(3,"h2"),l(4,"Collection Details"),c(),a(5,"button",3),v("click",function(){return o.closeModal()}),g(6,"app-lucide-icon",4),c()(),a(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),g(11,"app-lucide-icon",9),l(12," Supplier "),c(),a(13,"div",10),l(14),c()(),a(15,"div",7)(16,"div",8),g(17,"app-lucide-icon",11),l(18," Phone "),c(),a(19,"div",10),l(20),c()(),a(21,"div",7)(22,"div",8),g(23,"app-lucide-icon",12),l(24," Quantity "),c(),a(25,"div",10),l(26),c()(),a(27,"div",7)(28,"div",8),g(29,"app-lucide-icon",13),l(30," Price per Liter "),c(),a(31,"div",10),l(32),c()(),a(33,"div",7)(34,"div",8),g(35,"app-lucide-icon",14),l(36," Total Value "),c(),a(37,"div",15),l(38),c()(),M(39,UA,6,1,"div",16),a(40,"div",7)(41,"div",8),g(42,"app-lucide-icon",17),l(43," Collection Date "),c(),a(44,"div",10),l(45),c()(),a(46,"div",7)(47,"div",8),g(48,"app-lucide-icon",18),l(49," Status "),c(),a(50,"div",10)(51,"span",19),l(52),c()()(),M(53,HA,6,1,"div",16)(54,$A,6,1,"div",16),c()(),a(55,"div",20)(56,"button",21),v("click",function(){return o.closeModal()}),l(57,"Close"),c(),M(58,WA,7,0,"ng-container",22),c()()()),e&2&&(d(14),b(o.collection.supplierName),d(6),b(o.collection.supplierPhone),d(6),T("",o.collection.quantity," L"),d(6),b(o.formatCurrency(o.collection.pricePerLiter)),d(6),b(o.formatCurrency(o.collection.totalValue)),d(),m("ngIf",o.collection.quality),d(6),b(o.formatDate(o.collection.collectionDate)),d(6),m("ngClass","status-"+o.collection.status),d(),T(" ",o.getStatusLabel(o.collection.status)," "),d(),m("ngIf",o.collection.rejectionReason),d(),m("ngIf",o.collection.notes),d(4),m("ngIf",o.collection.status==="pending"))},dependencies:[R,Yt,G,q],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:4px;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;border:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e9ecef;background:#f8fafc}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:600;color:#1e293b}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-body[_ngcontent-%COMP%]{padding:20px}.collection-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f1f5f9}.collection-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.collection-info[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:.875rem;color:#64748b;font-weight:500}.collection-info[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-size:.875rem;color:#1e293b;font-weight:500}.collection-info[_ngcontent-%COMP%]   .info-value.total[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#004aad}.collection-info[_ngcontent-%COMP%]   .info-value.rejection[_ngcontent-%COMP%]{color:#dc2626}.status-badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:capitalize}.status-badge.status-pending[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.status-badge.status-accepted[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.status-badge.status-rejected[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.status-badge.status-cancelled[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;padding:16px 20px;border-top:1px solid #e9ecef;background:#f8fafc}.btn-secondary[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]{padding:8px 16px;border-radius:4px;font-size:.875rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;border:none}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#64748b;border:1px solid #e2e8f0}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8fafc}.btn-success[_ngcontent-%COMP%]{background:#059669;color:#fff}.btn-success[_ngcontent-%COMP%]:hover{background:#047857}.btn-danger[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.btn-danger[_ngcontent-%COMP%]:hover{background:#fee2e2}"]})};function qA(n,t){n&1&&(ue(0),g(1,"app-skeleton-loader",4),pe())}function GA(n,t){if(n&1&&(a(0,"span",29),l(1),c()),n&2){let e=t.$implicit,o=f(2);m("ngClass","status-"+e.status),d(),T(" ",o.getStatusLabel(e.status)," ")}}function YA(n,t){if(n&1){let e=k();a(0,"li")(1,"a",34),v("click",function(){h(e);let i=f().$implicit,r=f(2);return _(r.approveCollection(i))}),g(2,"app-lucide-icon",39),l(3," Approve "),c()()}}function ZA(n,t){if(n&1){let e=k();a(0,"li")(1,"a",34),v("click",function(){h(e);let i=f().$implicit,r=f(2);return _(r.rejectCollection(i))}),g(2,"app-lucide-icon",40),l(3," Reject "),c()()}}function KA(n,t){if(n&1){let e=k();a(0,"div",30)(1,"button",31),v("click",function(i){let r=h(e).$implicit,s=f(2);return _(s.toggleDropdown(r.id,i))}),g(2,"app-lucide-icon",32),c(),a(3,"ul",33)(4,"li")(5,"a",34),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.viewCollection(i))}),g(6,"app-lucide-icon",35),l(7," View "),c()(),M(8,YA,4,0,"li",3)(9,ZA,4,0,"li",3),a(10,"li")(11,"a",34),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.editCollection(i))}),g(12,"app-lucide-icon",36),l(13," Edit "),c()(),a(14,"li")(15,"a",37),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.deleteCollection(i))}),g(16,"app-lucide-icon",38),l(17," Delete "),c()()()()}if(n&2){let e=t.$implicit,o=f(2);H("show",o.openDropdownId===e.id),d(3),H("show",o.openDropdownId===e.id),d(5),m("ngIf",e.status==="pending"),d(),m("ngIf",e.status==="pending")}}function QA(n,t){if(n&1){let e=k();a(0,"app-record-collection-modal",41),v("collectionRecorded",function(i){h(e);let r=f(2);return _(r.onCollectionRecorded(i))})("modalClosed",function(){h(e);let i=f(2);return _(i.closeRecordCollectionModal())}),c()}}function JA(n,t){if(n&1){let e=k();a(0,"app-view-collection-modal",42),v("modalClosed",function(){h(e);let i=f(2);return _(i.closeViewCollectionModal())})("approveRequested",function(i){h(e);let r=f(2);return _(r.approveCollection(i))})("rejectRequested",function(i){h(e);let r=f(2);return _(r.rejectCollection(i))}),c()}if(n&2){let e=f(2);m("collection",e.selectedCollection)}}function XA(n,t){if(n&1){let e=k();ue(0),a(1,"div",5)(2,"div",6)(3,"h1"),l(4,"Milk Collections"),c(),a(5,"p",7),l(6,"Track and manage milk collection from suppliers"),c()(),a(7,"div",8)(8,"button",9),v("click",function(){h(e);let i=f();return _(i.openRecordCollectionModal())}),g(9,"app-lucide-icon",10),l(10," Record Collection "),c()()(),a(11,"div",11)(12,"div",12)(13,"div",13),g(14,"app-lucide-icon",14),c(),a(15,"div",15)(16,"div",16),l(17),c(),a(18,"div",17),l(19,"Total Collections"),c()()(),a(20,"div",12)(21,"div",13),g(22,"app-lucide-icon",18),c(),a(23,"div",15)(24,"div",16),l(25),c(),a(26,"div",17),l(27,"Accepted"),c()()(),a(28,"div",12)(29,"div",13),g(30,"app-lucide-icon",19),c(),a(31,"div",15)(32,"div",16),l(33),c(),a(34,"div",17),l(35,"Pending"),c()()(),a(36,"div",12)(37,"div",13),g(38,"app-lucide-icon",20),c(),a(39,"div",15)(40,"div",16),l(41),c(),a(42,"div",17),l(43,"Total Volume"),c()()()(),a(44,"div",21)(45,"div",22)(46,"div",23)(47,"h3"),l(48,"All Collections"),c(),a(49,"span",24),l(50),c()()(),a(51,"div",25)(52,"app-data-table",26),v("onSort",function(i){h(e);let r=f();return _(r.handleSort(i))})("onPageChange",function(i){h(e);let r=f();return _(r.handlePageChange(i))})("onPageSizeChange",function(i){h(e);let r=f();return _(r.handlePageSizeChange(i))})("onRowClick",function(i){h(e);let r=f();return _(r.viewCollection(i))}),M(53,GA,2,2,"ng-template",null,0,ut)(55,KA,18,6,"ng-template",null,1,ut),c()()(),M(57,QA,1,0,"app-record-collection-modal",27)(58,JA,1,1,"app-view-collection-modal",28),pe()}if(n&2){let e=f();d(17),b(e.stats.totalCollections),d(8),b(e.stats.statusCounts.accepted),d(8),b(e.formatNumber(e.stats.statusCounts.pending)),d(8),b(e.formatVolume(e.stats.totalQuantity)),d(9),T("",e.collections.length," collections"),d(2),m("columns",e.columns)("data",e.filteredCollections)("striped",!1)("hover",!0)("showActions",!1)("showPagination",!0)("currentPage",e.currentPage)("pageSize",e.pageSize)("totalPages",e.totalPages)("totalItems",e.collections.length)("loading",e.loading),d(5),m("ngIf",e.showRecordCollectionModal),d(),m("ngIf",e.showViewCollectionModal&&e.selectedCollection)}}var Vu=class n{constructor(t){this.collectionsService=t}collections=[];filteredCollections=[];stats={};loading=!1;error=null;showRecordCollectionModal=!1;showViewCollectionModal=!1;selectedCollection=null;columns=[];currentPage=1;pageSize=10;totalPages=1;openDropdownId=null;ngOnInit(){this.initializeColumns(),this.loadCollections(),this.loadStats(),document.addEventListener("click",()=>{this.closeDropdown()})}initializeColumns(){this.columns=[{key:"index",title:"No.",type:"number",sortable:!1},{key:"supplierName",title:"Supplier",type:"text",sortable:!0},{key:"quantity",title:"Quantity (L)",type:"number",sortable:!0},{key:"pricePerLiter",title:"Price/Liter (RWF)",type:"number",sortable:!0},{key:"totalValue",title:"Total Value (RWF)",type:"number",sortable:!0},{key:"status",title:"Status",type:"custom",sortable:!0,template:this.getStatusTemplate()},{key:"collectionDate",title:"Collection Date",type:"date",sortable:!0}]}loadCollections(){this.loading=!0,this.error=null,this.collectionsService.getCollections().subscribe({next:t=>{this.loading=!1,this.collections=t||[],this.collections=this.collections.map((e,o)=>$(w({},e),{index:o+1})),this.filteredCollections=[...this.collections],this.loadStats()},error:t=>{this.loading=!1,this.error=t.message||"Failed to load collections",console.error("Error loading collections:",t),this.loadMockCollections()}})}loadMockCollections(){let t=new Date;this.collections=[{id:"col_001",supplierId:"SUP001",supplierName:"Jean Baptiste",supplierPhone:"+250 788 123 456",quantity:25.5,pricePerLiter:400,totalValue:10200,status:"pending",collectionDate:new Date(t.getTime()-7200*1e3),createdAt:new Date(t.getTime()-7200*1e3),updatedAt:new Date(t.getTime()-7200*1e3)},{id:"col_002",supplierId:"SUP002",supplierName:"Marie Claire",supplierPhone:"+250 788 234 567",quantity:30,pricePerLiter:420,totalValue:12600,status:"accepted",collectionDate:new Date(t.getTime()-14400*1e3),createdAt:new Date(t.getTime()-14400*1e3),updatedAt:new Date(t.getTime()-14400*1e3)},{id:"col_003",supplierId:"SUP003",supplierName:"Pierre Nkurunziza",supplierPhone:"+250 788 345 678",quantity:15,pricePerLiter:380,totalValue:5700,status:"rejected",rejectionReason:"Poor Quality",collectionDate:new Date(t.getTime()-360*60*1e3),createdAt:new Date(t.getTime()-360*60*1e3),updatedAt:new Date(t.getTime()-360*60*1e3)}],this.collections=this.collections.map((e,o)=>$(w({},e),{index:o+1})),this.filteredCollections=[...this.collections],this.loadStats()}loadStats(){this.stats={totalCollections:this.collections.length,totalQuantity:this.collections.reduce((t,e)=>t+e.quantity,0),totalValue:this.collections.reduce((t,e)=>t+e.totalValue,0),statusCounts:{accepted:this.collections.filter(t=>t.status==="accepted").length,rejected:this.collections.filter(t=>t.status==="rejected").length,pending:this.collections.filter(t=>t.status==="pending").length,cancelled:this.collections.filter(t=>t.status==="cancelled").length}}}handleSort(t){console.log("Sort:",t)}handlePageChange(t){this.currentPage=t}handlePageSizeChange(t){this.pageSize=t,this.currentPage=1}viewCollection(t){this.closeDropdown(),this.selectedCollection=t,this.showViewCollectionModal=!0}closeViewCollectionModal(){this.showViewCollectionModal=!1,this.selectedCollection=null}editCollection(t){this.closeDropdown(),console.log("Edit collection:",t)}deleteCollection(t){this.closeDropdown(),console.log("Delete collection:",t)}approveCollection(t){this.closeViewCollectionModal(),this.collectionsService.approveCollection({collectionId:t.id}).subscribe({next:()=>this.loadCollections(),error:e=>console.error("Error approving collection:",e)})}rejectCollection(t){this.closeViewCollectionModal();let e=prompt("Enter rejection reason:");e&&this.collectionsService.rejectCollection({collectionId:t.id,rejectionReason:e}).subscribe({next:()=>this.loadCollections(),error:o=>console.error("Error rejecting collection:",o)})}toggleDropdown(t,e){e.stopPropagation(),this.openDropdownId===t?this.openDropdownId=null:this.openDropdownId=t}closeDropdown(){this.openDropdownId=null}openRecordCollectionModal(){this.showRecordCollectionModal=!0}closeRecordCollectionModal(){this.showRecordCollectionModal=!1}onCollectionRecorded(t){console.log("Collection recorded:",t),this.loadCollections()}formatCurrency(t){return new Intl.NumberFormat("rw-RW",{style:"currency",currency:"RWF"}).format(t)}formatVolume(t){return`${new Intl.NumberFormat("en-RW").format(t)}L`}formatNumber(t){return new Intl.NumberFormat("en-RW").format(t)}getStatusLabel(t){switch(t){case"pending":return"Pending";case"accepted":return"Accepted";case"rejected":return"Rejected";case"cancelled":return"Cancelled";default:return t.charAt(0).toUpperCase()+t.slice(1)}}getStatusTemplate(){return t=>{let e=t.status,o=this.getStatusLabel(e);return`<span class="status-badge ${`status-${e}`}">${o}</span>`}}static \u0275fac=function(e){return new(e||n)(D(Ca))};static \u0275cmp=N({type:n,selectors:[["app-collections-list"]],decls:3,vars:2,consts:[["statusCell",""],["rowActions",""],[1,"collections-container"],[4,"ngIf"],["type","stats"],[1,"page-header"],[1,"header-content"],[1,"page-description"],[1,"header-actions"],[1,"btn-primary",3,"click"],["name","plus","size","16px"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],["name","truck","size","24px"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],["name","check-circle","size","24px"],["name","clock","size","24px"],["name","droplet","size","24px"],[1,"card"],[1,"card-header"],[1,"card-title-section"],[1,"collection-count"],[1,"card-body"],[3,"onSort","onPageChange","onPageSizeChange","onRowClick","columns","data","striped","hover","showActions","showPagination","currentPage","pageSize","totalPages","totalItems","loading"],[3,"collectionRecorded","modalClosed",4,"ngIf"],[3,"collection","modalClosed","approveRequested","rejectRequested",4,"ngIf"],[1,"status-badge",3,"ngClass"],[1,"dropdown"],["type","button",1,"btn","btn-outline-secondary","btn-sm","dropdown-toggle",3,"click"],["name","more-horizontal","size","16px"],[1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],["name","eye","size","14px",1,"me-2"],["name","edit","size","14px",1,"me-2"],["href","javascript:void(0)",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","14px",1,"me-2"],["name","check","size","14px",1,"me-2"],["name","x","size","14px",1,"me-2"],[3,"collectionRecorded","modalClosed"],[3,"modalClosed","approveRequested","rejectRequested","collection"]],template:function(e,o){e&1&&(a(0,"div",2),M(1,qA,2,0,"ng-container",3)(2,XA,59,18,"ng-container",3),c()),e&2&&(d(),m("ngIf",o.loading),d(),m("ngIf",!o.loading))},dependencies:[R,Yt,G,fe,ie,q,Je,an,Fu,Lu],styles:[".collections-container[_ngcontent-%COMP%]{padding:12px;min-height:auto}@media (max-width: 768px){.collections-container[_ngcontent-%COMP%]{padding:8px}}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:32px;gap:20px}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px}}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1e293b;margin:0 0 8px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{color:#64748b;font-size:16px;margin:0}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:stretch}}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:24px}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;border:1px solid #e2e8f0;display:flex;align-items:center;gap:16px;transition:all .2s ease;cursor:pointer}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:transparent;display:flex;align-items:center;justify-content:center;color:#004aad;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1e293b;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;font-weight:500}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;overflow:hidden}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:24px;border-bottom:1px solid #e2e8f0;background:#f8fafc}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1e293b;margin:0}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .collection-count[_ngcontent-%COMP%]{background:#e2e8f0;color:#64748b;padding:4px 12px;border-radius:20px;font-size:14px;font-weight:500}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}.collection-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.collection-info[_ngcontent-%COMP%]   .collection-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid #f1f5f9}.collection-info[_ngcontent-%COMP%]   .collection-details[_ngcontent-%COMP%]   .collection-name[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;font-size:14px;margin-bottom:2px}.collection-info[_ngcontent-%COMP%]   .collection-details[_ngcontent-%COMP%]   .collection-id[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.status-badge.status-pending[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.status-badge.status-accepted[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status-badge.status-rejected[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.status-badge.status-cancelled[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.amount[_ngcontent-%COMP%]{font-weight:600;color:#059669;font-size:14px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.action-buttons[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;border:none;border-radius:6px;background:#f8fafc;color:#64748b;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.action-buttons[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#1e293b}.action-buttons[_ngcontent-%COMP%]   .btn-icon.danger[_ngcontent-%COMP%]:hover{background:#fee2e2;color:#dc2626}.btn-primary[_ngcontent-%COMP%]{background:#004aad;color:#fff;border:none;padding:10px 20px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;font-size:14px}.btn-primary[_ngcontent-%COMP%]:hover{background:#003d8f;transform:translateY(-1px)}.btn-primary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#64748b;border:1px solid #d1d5db;padding:10px 20px;border-radius:8px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;font-size:14px}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#94a3b8;color:#1e293b}.btn-secondary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#64748b}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{flex:1;justify-content:center}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:20px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:40px;height:40px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 480px){.collections-container[_ngcontent-%COMP%]{padding:12px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:16px;flex-direction:column;text-align:center;gap:12px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:36px;height:36px}}"]})};function e5(n,t){if(n&1&&(a(0,"div",7)(1,"div",8),g(2,"app-lucide-icon",24),l(3," Rejection Reason "),c(),a(4,"div",25),l(5),c()()),n&2){let e=f();d(5),b(e.sale.rejectionReason)}}function t5(n,t){if(n&1&&(a(0,"div",7)(1,"div",8),g(2,"app-lucide-icon",26),l(3," Notes "),c(),a(4,"div",10),l(5),c()()),n&2){let e=f();d(5),b(e.sale.notes)}}function n5(n,t){if(n&1){let e=k();a(0,"button",27),v("click",function(){h(e);let i=f();return _(i.onCancel())}),g(1,"app-lucide-icon",28),l(2," Cancel Sale "),c()}}function o5(n,t){if(n&1){let e=k();a(0,"button",29),v("click",function(){h(e);let i=f();return _(i.onEdit())}),g(1,"app-lucide-icon",30),l(2," Edit "),c()}}var ju=class n{sale;modalClosed=new z;editRequested=new z;cancelRequested=new z;closeModal(){this.modalClosed.emit()}onEdit(){this.editRequested.emit(this.sale)}onCancel(){this.cancelRequested.emit(this.sale)}formatCurrency(t){return new Intl.NumberFormat("rw-RW",{style:"currency",currency:"RWF"}).format(t||0)}formatDate(t){return t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A"}getStatusLabel(t){return{pending:"Pending",accepted:"Accepted",rejected:"Rejected",cancelled:"Cancelled"}[t]||t}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-view-sale-modal"]],inputs:{sale:"sale"},outputs:{modalClosed:"modalClosed",editRequested:"editRequested",cancelRequested:"cancelRequested"},decls:59,vars:12,consts:[[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","x","size","20px"],[1,"modal-body"],[1,"sale-info"],[1,"info-row"],[1,"info-label"],["name","user","size","16px"],[1,"info-value"],["name","phone","size","16px"],["name","droplet","size","16px"],["name","dollar-sign","size","16px"],["name","credit-card","size","16px"],[1,"info-value","total"],["name","calendar","size","16px"],["name","activity","size","16px"],[1,"status-badge",3,"ngClass"],["class","info-row",4,"ngIf"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],["class","btn-danger",3,"click",4,"ngIf"],["class","btn-primary",3,"click",4,"ngIf"],["name","alert-circle","size","16px"],[1,"info-value","rejection"],["name","file-text","size","16px"],[1,"btn-danger",3,"click"],["name","x-circle","size","16px"],[1,"btn-primary",3,"click"],["name","edit-2","size","16px"]],template:function(e,o){e&1&&(a(0,"div",0),v("click",function(){return o.closeModal()}),a(1,"div",1),v("click",function(r){return r.stopPropagation()}),a(2,"div",2)(3,"h2"),l(4,"Sale Details"),c(),a(5,"button",3),v("click",function(){return o.closeModal()}),g(6,"app-lucide-icon",4),c()(),a(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),g(11,"app-lucide-icon",9),l(12," Customer "),c(),a(13,"div",10),l(14),c()(),a(15,"div",7)(16,"div",8),g(17,"app-lucide-icon",11),l(18," Phone "),c(),a(19,"div",10),l(20),c()(),a(21,"div",7)(22,"div",8),g(23,"app-lucide-icon",12),l(24," Quantity "),c(),a(25,"div",10),l(26),c()(),a(27,"div",7)(28,"div",8),g(29,"app-lucide-icon",13),l(30," Price per Liter "),c(),a(31,"div",10),l(32),c()(),a(33,"div",7)(34,"div",8),g(35,"app-lucide-icon",14),l(36," Total Value "),c(),a(37,"div",15),l(38),c()(),a(39,"div",7)(40,"div",8),g(41,"app-lucide-icon",16),l(42," Sale Date "),c(),a(43,"div",10),l(44),c()(),a(45,"div",7)(46,"div",8),g(47,"app-lucide-icon",17),l(48," Status "),c(),a(49,"div",10)(50,"span",18),l(51),c()()(),M(52,e5,6,1,"div",19)(53,t5,6,1,"div",19),c()(),a(54,"div",20)(55,"button",21),v("click",function(){return o.closeModal()}),l(56,"Close"),c(),M(57,n5,3,0,"button",22)(58,o5,3,0,"button",23),c()()()),e&2&&(d(14),b(o.sale.customerName),d(6),b(o.sale.customerPhone),d(6),T("",o.sale.quantity," L"),d(6),b(o.formatCurrency(o.sale.pricePerLiter)),d(6),b(o.formatCurrency(o.sale.totalValue)),d(6),b(o.formatDate(o.sale.saleAt)),d(6),m("ngClass","status-"+o.sale.status),d(),T(" ",o.getStatusLabel(o.sale.status)," "),d(),m("ngIf",o.sale.rejectionReason),d(),m("ngIf",o.sale.notes),d(4),m("ngIf",o.sale.status==="pending"),d(),m("ngIf",o.sale.status==="pending"))},dependencies:[R,Yt,G,q],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:4px;width:100%;max-width:500px;max-height:90vh;overflow-y:auto;border:1px solid #e9ecef}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #e9ecef;background:#f8fafc}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:600;color:#1e293b}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-body[_ngcontent-%COMP%]{padding:20px}.sale-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #f1f5f9}.sale-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.sale-info[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:.875rem;color:#64748b;font-weight:500}.sale-info[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{font-size:.875rem;color:#1e293b;font-weight:500}.sale-info[_ngcontent-%COMP%]   .info-value.total[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#004aad}.sale-info[_ngcontent-%COMP%]   .info-value.rejection[_ngcontent-%COMP%]{color:#dc2626}.status-badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:capitalize}.status-badge.status-pending[_ngcontent-%COMP%]{background:#fef3c7;color:#d97706}.status-badge.status-accepted[_ngcontent-%COMP%]{background:#d1fae5;color:#059669}.status-badge.status-rejected[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.status-badge.status-cancelled[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;padding:16px 20px;border-top:1px solid #e9ecef;background:#f8fafc}.btn-secondary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]{padding:8px 16px;border-radius:4px;font-size:.875rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;border:none}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#64748b;border:1px solid #e2e8f0}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8fafc}.btn-primary[_ngcontent-%COMP%]{background:#004aad;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background:#003d91}.btn-danger[_ngcontent-%COMP%]{background:#fef2f2;color:#dc2626;border:1px solid #fecaca}.btn-danger[_ngcontent-%COMP%]:hover{background:#fee2e2}"]})};var va=class n{constructor(t,e,o){this.http=t;this.configService=e;this.authService=o}getAuthToken(){let t=this.authService.getToken();if(!t)throw new Error("No authentication token found");return t}handleError(t){let e="An unknown error occurred!";return t.error instanceof ErrorEvent?e=`Error: ${t.error.message}`:t.status===404?e="API endpoint not found.":t.error&&t.error.message?e=`Error: ${t.error.message}`:e=`Error Code: ${t.status}
Message: ${t.message}`,console.error(e),Se(()=>new Error(e))}getSales(){let t=this.getAuthToken();return this.http.post(this.configService.getFullUrl("/sales/sales"),{token:t}).pipe(J(e=>{if(e.code===200||e.status==="success")return((e.data&&e.data.sales?e.data.sales:e.data)||[]).map(i=>this.mapToSale(i));throw new Error(e.message||"Failed to get sales")}),ae(this.handleError))}getFilteredSales(t){let o={token:this.getAuthToken(),filters:$(w({},t),{date_from:t.dateFrom?t.dateFrom.toISOString().split("T")[0]:void 0,date_to:t.dateTo?t.dateTo.toISOString().split("T")[0]:void 0})};return this.http.post(this.configService.getFullUrl("/sales/sales"),o).pipe(J(i=>{if(i.code===200||i.status==="success")return((i.data&&i.data.sales?i.data.sales:i.data)||[]).map(s=>this.mapToSale(s));throw new Error(i.message||"Failed to get filtered sales")}),ae(this.handleError))}createSale(t){let o={token:this.getAuthToken(),customer_account_code:t.customerAccountCode,quantity:t.quantity,status:t.status,sale_at:t.saleAt.toISOString().replace("T"," ").substring(0,19),notes:t.notes};return this.http.post(this.configService.getFullUrl("/sales/sell"),o).pipe(ae(this.handleError))}updateSale(t){let o={token:this.getAuthToken(),sale_id:t.saleId};return t.customerAccountCode!==void 0&&(o.customer_account_code=t.customerAccountCode),t.quantity!==void 0&&(o.quantity=t.quantity),t.pricePerLiter!==void 0&&(o.unit_price=t.pricePerLiter),t.status!==void 0&&(o.status=t.status),t.saleAt!==void 0&&(o.sale_at=t.saleAt.toISOString().replace("T"," ").substring(0,19)),t.notes!==void 0&&(o.notes=t.notes),this.http.post(this.configService.getFullUrl("/sales/update"),o).pipe(ae(this.handleError))}cancelSale(t){let e=this.getAuthToken();return this.http.post(this.configService.getFullUrl("/sales/cancel"),{token:e,sale_id:t}).pipe(ae(this.handleError))}getSaleStats(){let t=this.getAuthToken();return this.http.post(this.configService.getFullUrl("/sales/stats"),{token:t}).pipe(J(e=>{if(e.code===200||e.status==="success")return e.data||{};throw new Error(e.message||"Failed to get sale stats")}),ae(this.handleError))}mapToSale(t){let e=t.customer_account;return{id:t.id?.toString()??"",customerId:e?.code?.toString()??t.customer_account_code?.toString()??"",customerName:e?.name?.toString()??t.customer_name?.toString()??"",customerPhone:t.customer_phone?.toString()??"",quantity:parseFloat(t.quantity?.toString()??"0"),pricePerLiter:parseFloat(t.unit_price?.toString()??"0"),totalValue:parseFloat(t.total_amount?.toString()??"0"),status:t.status?.toString()??"pending",rejectionReason:t.rejection_reason?.toString(),notes:t.notes?.toString(),saleAt:new Date(t.sale_at??Date.now()),createdAt:new Date(t.created_at??Date.now()),updatedAt:new Date(t.updated_at??Date.now())}}static \u0275fac=function(e){return new(e||n)(j(ot),j(Pn),j(Le))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function i5(n,t){if(n&1&&(a(0,"option",39),l(1),c()),n&2){let e=t.$implicit;m("value",e.accountCode),d(),ke(" ",e.name," (",e.accountCode,") ")}}function r5(n,t){n&1&&(a(0,"div",40),l(1," Please select a customer "),c())}function a5(n,t){n&1&&(a(0,"div",40),l(1," Please enter a valid quantity "),c())}function s5(n,t){n&1&&(a(0,"div",40),l(1," Please select a status "),c())}function c5(n,t){n&1&&(a(0,"div",40),l(1," Please select sale date and time "),c())}function l5(n,t){n&1&&(a(0,"span"),l(1,"Record Sale"),c())}function d5(n,t){n&1&&(a(0,"span"),l(1,"Recording..."),c())}function u5(n,t){n&1&&g(0,"app-lucide-icon",41)}var zu=class n{saleRecorded=new z;modalClosed=new z;saleData={customerAccountCode:"",quantity:0,status:"accepted",notes:"",saleAt:new Date};selectedCustomerAccountCode="";saleDateTimeLocal="";isSubmitting=!1;customers$=Y([]);salesService=A(va);customerService=A(On);ngOnInit(){this.loadCustomers(),this.setInitialDateTime()}loadCustomers(){this.customers$=Y(this.customerService.getCustomers())}setInitialDateTime(){let t=new Date;t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),this.saleDateTimeLocal=t.toISOString().slice(0,16),this.saleData.saleAt=t}onSubmit(){this.isSubmitting||(this.isSubmitting=!0,this.saleData.customerAccountCode=this.selectedCustomerAccountCode,this.saleData.saleAt=new Date(this.saleDateTimeLocal),this.salesService.createSale(this.saleData).subscribe({next:t=>{console.log("Sale recorded successfully:",t),this.saleRecorded.emit(t),this.isSubmitting=!1,this.closeModal()},error:t=>{console.error("Failed to record sale:",t),alert("Failed to record sale: "+t.message),this.isSubmitting=!1}}))}closeModal(){this.modalClosed.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-record-sale-modal"]],outputs:{saleRecorded:"saleRecorded",modalClosed:"modalClosed"},decls:64,vars:16,consts:[["saleForm","ngForm"],["customerField","ngModel"],["quantityField","ngModel"],["statusField","ngModel"],["saleAtField","ngModel"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","x","size","20px"],[1,"modal-body"],[3,"ngSubmit"],[1,"form-group"],["for","customer"],[1,"input-container"],["name","user","size","18px",1,"input-icon"],["id","customer","name","customer","required","",1,"form-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","error-message",4,"ngIf"],["for","quantity"],["name","droplet","size","18px",1,"input-icon"],["type","number","id","quantity","name","quantity","required","","min","0.1","step","0.1","placeholder","Enter quantity in liters",1,"form-input",3,"ngModelChange","ngModel"],["for","status"],["name","check-circle","size","18px",1,"input-icon"],["id","status","name","status","required","",1,"form-select",3,"ngModelChange","ngModel"],["value","accepted"],["value","rejected"],["value","pending"],["for","saleAt"],["type","datetime-local","id","saleAt","name","saleAt","required","",1,"form-input",3,"ngModelChange","ngModel"],["for","notes"],["name","file-text","size","18px",1,"input-icon"],["id","notes","name","notes","placeholder","Add any additional notes","rows","3",1,"form-textarea",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"btn","btn-danger-outline",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["name","loader","size","16px","class","spinning",4,"ngIf"],[3,"value"],[1,"error-message"],["name","loader","size","16px",1,"spinning"]],template:function(e,o){if(e&1){let i=k();a(0,"div",5),v("click",function(){return h(i),_(o.closeModal())}),a(1,"div",6),v("click",function(s){return h(i),_(s.stopPropagation())}),a(2,"div",7)(3,"h2"),l(4,"Record Milk Sale"),c(),a(5,"button",8),v("click",function(){return h(i),_(o.closeModal())}),g(6,"app-lucide-icon",9),c()(),a(7,"div",10)(8,"form",11,0),v("ngSubmit",function(){return h(i),_(o.onSubmit())}),a(10,"div",12)(11,"label",13),l(12,"Select Customer *"),c(),a(13,"div",14),g(14,"app-lucide-icon",15),a(15,"select",16,1),E("ngModelChange",function(s){return h(i),I(o.selectedCustomerAccountCode,s)||(o.selectedCustomerAccountCode=s),_(s)}),a(17,"option",17),l(18,"-- Select Customer --"),c(),M(19,i5,2,3,"option",18),te(20,"async"),c()(),M(21,r5,2,0,"div",19),c(),a(22,"div",12)(23,"label",20),l(24,"Quantity (Liters) *"),c(),a(25,"div",14),g(26,"app-lucide-icon",21),a(27,"input",22,2),E("ngModelChange",function(s){return h(i),I(o.saleData.quantity,s)||(o.saleData.quantity=s),_(s)}),c()(),M(29,a5,2,0,"div",19),c(),a(30,"div",12)(31,"label",23),l(32,"Status *"),c(),a(33,"div",14),g(34,"app-lucide-icon",24),a(35,"select",25,3),E("ngModelChange",function(s){return h(i),I(o.saleData.status,s)||(o.saleData.status=s),_(s)}),a(37,"option",26),l(38,"Accepted"),c(),a(39,"option",27),l(40,"Rejected"),c(),a(41,"option",28),l(42,"Pending"),c()()(),M(43,s5,2,0,"div",19),c(),a(44,"div",12)(45,"label",29),l(46,"Sale Date & Time *"),c(),a(47,"div",14)(48,"input",30,4),E("ngModelChange",function(s){return h(i),I(o.saleDateTimeLocal,s)||(o.saleDateTimeLocal=s),_(s)}),c()(),M(50,c5,2,0,"div",19),c(),a(51,"div",12)(52,"label",31),l(53,"Notes (Optional)"),c(),a(54,"div",14),g(55,"app-lucide-icon",32),a(56,"textarea",33),E("ngModelChange",function(s){return h(i),I(o.saleData.notes,s)||(o.saleData.notes=s),_(s)}),c()()(),a(57,"div",34)(58,"button",35),v("click",function(){return h(i),_(o.closeModal())}),l(59," Cancel "),c(),a(60,"button",36),M(61,l5,2,0,"span",37)(62,d5,2,0,"span",37)(63,u5,1,0,"app-lucide-icon",38),c()()()()()()}if(e&2){let i=xe(9),r=xe(16),s=xe(28),u=xe(36),p=xe(49);d(15),S("ngModel",o.selectedCustomerAccountCode),d(4),m("ngForOf",_e(20,14,o.customers$)),d(2),m("ngIf",r.invalid&&r.touched),d(6),S("ngModel",o.saleData.quantity),d(2),m("ngIf",s.invalid&&s.touched),d(6),S("ngModel",o.saleData.status),d(8),m("ngIf",u.invalid&&u.touched),d(5),S("ngModel",o.saleDateTimeLocal),d(2),m("ngIf",p.invalid&&p.touched),d(6),S("ngModel",o.saleData.notes),d(4),m("disabled",i.invalid||o.isSubmitting),d(),m("ngIf",!o.isSubmitting),d(),m("ngIf",o.isSubmitting),d(),m("ngIf",o.isSubmitting)}},dependencies:[R,ee,G,ie,De,Oe,we,ve,ct,Pe,se,Ie,Xe,_t,he,$e,q,Qf],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;padding:20px}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:.25rem;width:100%;max-width:540px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border:none}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.btn-close-custom[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close-custom[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.btn-close-custom[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex:1}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:16px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;transition:all .2s;width:100%;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:40px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.75rem;margin-top:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:1.25rem;border-top:1px solid rgba(27,46,75,.1)}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b!important;border-color:#1b2e4b!important;color:#fff!important;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #1b2e4b33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3498db!important;border-color:#3498db!important;box-shadow:0 4px 12px #1b2e4b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;font-size:.875rem;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c!important;color:#fff!important;border:none!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #e74c3c4d}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b!important;box-shadow:0 4px 12px #e74c3c66}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:12px}.modal-container[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;margin-top:20px;padding-top:16px;border-top:1px solid rgba(27,46,75,.1)}.spinning[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};function p5(n,t){n&1&&(ue(0),g(1,"app-skeleton-loader",4),pe())}function m5(n,t){if(n&1&&(a(0,"span",29),l(1),c()),n&2){let e=t.$implicit,o=f(2);m("ngClass","status-"+e.status),d(),T(" ",o.getStatusLabel(e.status)," ")}}function g5(n,t){if(n&1){let e=k();a(0,"li")(1,"a",34),v("click",function(){h(e);let i=f().$implicit,r=f(2);return _(r.approveSale(i))}),g(2,"app-lucide-icon",39),l(3," Approve "),c()()}}function f5(n,t){if(n&1){let e=k();a(0,"li")(1,"a",34),v("click",function(){h(e);let i=f().$implicit,r=f(2);return _(r.rejectSale(i))}),g(2,"app-lucide-icon",40),l(3," Reject "),c()()}}function h5(n,t){if(n&1){let e=k();a(0,"div",30)(1,"button",31),v("click",function(i){let r=h(e).$implicit,s=f(2);return _(s.toggleDropdown(r.id,i))}),g(2,"app-lucide-icon",32),c(),a(3,"ul",33)(4,"li")(5,"a",34),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.viewSale(i))}),g(6,"app-lucide-icon",35),l(7," View "),c()(),M(8,g5,4,0,"li",3)(9,f5,4,0,"li",3),a(10,"li")(11,"a",34),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.editSale(i))}),g(12,"app-lucide-icon",36),l(13," Edit "),c()(),a(14,"li")(15,"a",37),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.deleteSale(i))}),g(16,"app-lucide-icon",38),l(17," Delete "),c()()()()}if(n&2){let e=t.$implicit,o=f(2);H("show",o.openDropdownId===e.id),d(3),H("show",o.openDropdownId===e.id),d(5),m("ngIf",e.status==="pending"),d(),m("ngIf",e.status==="pending")}}function _5(n,t){if(n&1){let e=k();a(0,"app-record-sale-modal",41),v("saleRecorded",function(i){h(e);let r=f(2);return _(r.onSaleRecorded(i))})("modalClosed",function(){h(e);let i=f(2);return _(i.closeRecordSaleModal())}),c()}}function C5(n,t){if(n&1){let e=k();a(0,"app-view-sale-modal",42),v("modalClosed",function(){h(e);let i=f(2);return _(i.closeViewSaleModal())})("editRequested",function(i){h(e);let r=f(2);return _(r.editSale(i))})("cancelRequested",function(i){h(e);let r=f(2);return _(r.cancelSale(i))}),c()}if(n&2){let e=f(2);m("sale",e.selectedSale)}}function v5(n,t){if(n&1){let e=k();ue(0),a(1,"div",5)(2,"div",6)(3,"h1"),l(4,"Milk Sales"),c(),a(5,"p",7),l(6,"Manage all milk sales records to customers"),c()(),a(7,"div",8)(8,"button",9),v("click",function(){h(e);let i=f();return _(i.openRecordSaleModal())}),g(9,"app-lucide-icon",10),l(10," Record Sale "),c()()(),a(11,"div",11)(12,"div",12)(13,"div",13),g(14,"app-lucide-icon",14),c(),a(15,"div",15)(16,"div",16),l(17),c(),a(18,"div",17),l(19,"Total Liters Sold"),c()()(),a(20,"div",12)(21,"div",13),g(22,"app-lucide-icon",18),c(),a(23,"div",15)(24,"div",16),l(25),c(),a(26,"div",17),l(27,"Total Revenue"),c()()(),a(28,"div",12)(29,"div",13),g(30,"app-lucide-icon",19),c(),a(31,"div",15)(32,"div",16),l(33),c(),a(34,"div",17),l(35,"Accepted Sales"),c()()(),a(36,"div",12)(37,"div",13),g(38,"app-lucide-icon",20),c(),a(39,"div",15)(40,"div",16),l(41),c(),a(42,"div",17),l(43,"Rejected Sales"),c()()()(),a(44,"div",21)(45,"div",22)(46,"div",23)(47,"h3"),l(48,"All Sales"),c(),a(49,"span",24),l(50),c()()(),a(51,"div",25)(52,"app-data-table",26),v("onSort",function(i){h(e);let r=f();return _(r.handleSort(i))})("onPageChange",function(i){h(e);let r=f();return _(r.handlePageChange(i))})("onPageSizeChange",function(i){h(e);let r=f();return _(r.handlePageSizeChange(i))})("onRowClick",function(i){h(e);let r=f();return _(r.viewSale(i))}),M(53,m5,2,2,"ng-template",null,0,ut)(55,h5,18,6,"ng-template",null,1,ut),c()()(),M(57,_5,1,0,"app-record-sale-modal",27)(58,C5,1,1,"app-view-sale-modal",28),pe()}if(n&2){let e=f();d(17),b(e.formatVolume(e.stats.totalQuantity)),d(8),b(e.formatCurrency(e.stats.totalValue)),d(8),b(e.formatNumber(e.stats.statusCounts.accepted||0)),d(8),b(e.formatNumber(e.stats.statusCounts.rejected||0)),d(9),T("",e.sales.length," sales"),d(2),m("columns",e.columns)("data",e.filteredSales)("striped",!1)("hover",!0)("showActions",!1)("showPagination",!0)("currentPage",e.currentPage)("pageSize",e.pageSize)("totalPages",e.totalPages)("totalItems",e.sales.length)("loading",e.loading),d(5),m("ngIf",e.showRecordSaleModal),d(),m("ngIf",e.showViewSaleModal&&e.selectedSale)}}var Bu=class n{destroy$=new Ve;salesService=A(va);sales=[];filteredSales=[];searchTerm="";loading=!1;error=null;showViewSaleModal=!1;selectedSale=null;stats={totalQuantity:0,totalValue:0,totalSales:0,statusCounts:{accepted:0,rejected:0,pending:0,cancelled:0}};columns=[{key:"index",title:"No.",type:"number",sortable:!1},{key:"customerName",title:"Customer",type:"text",sortable:!0},{key:"quantity",title:"Quantity (L)",type:"number",sortable:!0},{key:"pricePerLiter",title:"Price/Liter (RWF)",type:"number",sortable:!0},{key:"totalValue",title:"Total Value (RWF)",type:"number",sortable:!0},{key:"status",title:"Status",type:"custom",sortable:!0,template:this.getStatusTemplate()},{key:"saleAt",title:"Sale Date",type:"date",sortable:!0}];currentPage=1;pageSize=10;totalPages=1;openDropdownId=null;showRecordSaleModal=!1;ngOnInit(){this.loadSales(),document.addEventListener("click",this.onDocumentClick)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),document.removeEventListener("click",this.onDocumentClick)}loadSales(){this.loading=!0,this.error=null,this.salesService.getSales().pipe(St(this.destroy$)).subscribe({next:t=>{this.loading=!1,this.sales=t||[],this.sales=this.sales.map((e,o)=>$(w({},e),{index:o+1})),this.filteredSales=[...this.sales],this.loadStats()},error:t=>{this.loading=!1,this.error=t.message||"Failed to load sales",console.error("Error loading sales:",t),this.loadMockSales()}})}loadMockSales(){let t=new Date;this.sales=[{id:"sale_001",customerId:"CUST001",customerName:"John Doe",customerPhone:"+250 788 123 456",quantity:20,pricePerLiter:500,totalValue:1e4,status:"pending",saleAt:new Date(t.getTime()-3600*1e3),createdAt:new Date(t.getTime()-3600*1e3),updatedAt:new Date(t.getTime()-3600*1e3)},{id:"sale_002",customerId:"CUST002",customerName:"Jane Smith",customerPhone:"+250 788 234 567",quantity:15.5,pricePerLiter:520,totalValue:8060,status:"accepted",saleAt:new Date(t.getTime()-10800*1e3),createdAt:new Date(t.getTime()-10800*1e3),updatedAt:new Date(t.getTime()-10800*1e3)},{id:"sale_003",customerId:"CUST003",customerName:"Bob Johnson",customerPhone:"+250 788 345 678",quantity:25,pricePerLiter:480,totalValue:12e3,status:"rejected",rejectionReason:"Quality Issues",saleAt:new Date(t.getTime()-300*60*1e3),createdAt:new Date(t.getTime()-300*60*1e3),updatedAt:new Date(t.getTime()-300*60*1e3)},{id:"sale_004",customerId:"CUST004",customerName:"Alice Brown",customerPhone:"+250 788 456 789",quantity:12,pricePerLiter:510,totalValue:6120,status:"cancelled",rejectionReason:"Customer cancelled",saleAt:new Date(t.getTime()-420*60*1e3),createdAt:new Date(t.getTime()-420*60*1e3),updatedAt:new Date(t.getTime()-420*60*1e3)}],this.filteredSales=[...this.sales],this.updatePagination(),this.calculateStats()}loadStats(){this.salesService.getSaleStats().pipe(St(this.destroy$)).subscribe({next:t=>{this.stats=t},error:t=>{console.error("Error loading stats:",t),this.calculateStats()}})}calculateStats(){this.stats.totalSales=this.sales.length,this.stats.totalQuantity=this.sales.reduce((t,e)=>t+e.quantity,0),this.stats.totalValue=this.sales.reduce((t,e)=>t+e.totalValue,0),this.stats.statusCounts={accepted:0,rejected:0,pending:0,cancelled:0},this.sales.forEach(t=>{this.stats.statusCounts.hasOwnProperty(t.status)&&this.stats.statusCounts[t.status]++})}applyFilter(){let t=this.searchTerm.toLowerCase(),e=this.sales.filter(o=>o.customerName.toLowerCase().includes(t)||o.customerPhone.toLowerCase().includes(t)||o.status.toLowerCase().includes(t)||o.notes?.toLowerCase().includes(t));this.filteredSales=e,this.updatePagination(),this.currentPage=1}updatePagination(){this.totalPages=Math.ceil(this.filteredSales.length/this.pageSize);let t=(this.currentPage-1)*this.pageSize,e=t+this.pageSize;this.filteredSales=this.filteredSales.slice(t,e)}handleSort(t){let{column:e,direction:o}=t;this.sales.sort((i,r)=>{let s=i[e],u=r[e];return typeof s=="string"&&typeof u=="string"?o==="asc"?s.localeCompare(u):u.localeCompare(s):typeof s=="number"&&typeof u=="number"?o==="asc"?s-u:u-s:s instanceof Date&&u instanceof Date?o==="asc"?s.getTime()-u.getTime():u.getTime()-s.getTime():0}),this.updatePagination()}handlePageChange(t){this.currentPage=t,this.updatePagination()}handlePageSizeChange(t){this.pageSize=t,this.currentPage=1,this.updatePagination()}toggleDropdown(t,e){e.stopPropagation(),this.openDropdownId=this.openDropdownId===t?null:t}onDocumentClick=()=>{this.openDropdownId=null};viewSale(t){this.openDropdownId=null,this.selectedSale=t,this.showViewSaleModal=!0}closeViewSaleModal(){this.showViewSaleModal=!1,this.selectedSale=null}editSale(t){this.closeViewSaleModal(),console.log("Edit sale:",t)}approveSale(t){console.log("Approve sale:",t);let e={saleId:t.id,status:"accepted",notes:"Approved by user"};this.salesService.updateSale(e).pipe(St(this.destroy$)).subscribe({next:()=>this.loadSales(),error:o=>console.error("Error approving sale:",o)})}rejectSale(t){console.log("Reject sale:",t);let e=prompt("Enter rejection reason:");if(e){let o={saleId:t.id,status:"rejected",notes:`Rejected: ${e}`};this.salesService.updateSale(o).pipe(St(this.destroy$)).subscribe({next:()=>this.loadSales(),error:i=>console.error("Error rejecting sale:",i)})}}cancelSale(t){this.closeViewSaleModal(),confirm("Are you sure you want to cancel this sale?")&&this.salesService.cancelSale(t.id).pipe(St(this.destroy$)).subscribe({next:()=>this.loadSales(),error:e=>console.error("Error cancelling sale:",e)})}deleteSale(t){console.log("Delete sale:",t),confirm("Are you sure you want to delete this sale?")&&console.log("Delete sale API not implemented yet")}openRecordSaleModal(){this.showRecordSaleModal=!0}closeRecordSaleModal(){this.showRecordSaleModal=!1}onSaleRecorded(t){console.log("Sale recorded:",t),this.closeRecordSaleModal(),this.loadSales()}formatCurrency(t){return new Intl.NumberFormat("en-RW",{style:"currency",currency:"RWF",minimumFractionDigits:0}).format(t)}formatVolume(t){return`${new Intl.NumberFormat("en-RW").format(t)}L`}formatNumber(t){return new Intl.NumberFormat("en-RW").format(t)}getStatusLabel(t){switch(t){case"pending":return"Pending";case"accepted":return"Accepted";case"rejected":return"Rejected";case"cancelled":return"Cancelled";default:return t.charAt(0).toUpperCase()+t.slice(1)}}getStatusTemplate(){return t=>{let e=t.status,o=this.getStatusLabel(e);return`<span class="status-badge ${`status-${e}`}">${o}</span>`}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-sales-list"]],decls:3,vars:2,consts:[["statusCell",""],["rowActions",""],[1,"sales-container"],[4,"ngIf"],["type","stats"],[1,"page-header"],[1,"header-content"],[1,"page-description"],[1,"header-actions"],[1,"btn-primary",3,"click"],["name","plus","size","16px"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],["name","droplet","size","24px"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],["name","dollar-sign","size","24px"],["name","check-circle","size","24px"],["name","x-circle","size","24px"],[1,"card"],[1,"card-header"],[1,"card-title-section"],[1,"sale-count"],[1,"card-body"],[3,"onSort","onPageChange","onPageSizeChange","onRowClick","columns","data","striped","hover","showActions","showPagination","currentPage","pageSize","totalPages","totalItems","loading"],[3,"saleRecorded","modalClosed",4,"ngIf"],[3,"sale","modalClosed","editRequested","cancelRequested",4,"ngIf"],[1,"status-badge",3,"ngClass"],[1,"dropdown"],["type","button",1,"btn","btn-outline-secondary","btn-sm","dropdown-toggle",3,"click"],["name","more-horizontal","size","16px"],[1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],["name","eye","size","14px",1,"me-2"],["name","edit","size","14px",1,"me-2"],["href","javascript:void(0)",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","14px",1,"me-2"],["name","check","size","14px",1,"me-2"],["name","x","size","14px",1,"me-2"],[3,"saleRecorded","modalClosed"],[3,"modalClosed","editRequested","cancelRequested","sale"]],template:function(e,o){e&1&&(a(0,"div",2),M(1,p5,2,0,"ng-container",3)(2,v5,59,18,"ng-container",3),c()),e&2&&(d(),m("ngIf",o.loading),d(),m("ngIf",!o.loading))},dependencies:[R,Yt,G,fe,ie,q,Je,an,ju,zu],styles:[".sales-container[_ngcontent-%COMP%]{padding:12px;min-height:auto}@media (max-width: 768px){.sales-container[_ngcontent-%COMP%]{padding:8px}}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:32px;gap:20px}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px}}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;font-weight:700;color:#1e293b;margin:0 0 8px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{color:#64748b;font-size:16px;margin:0}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;justify-content:stretch}}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:24px}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:20px;border:1px solid #e2e8f0;display:flex;align-items:center;gap:16px;transition:all .2s ease;cursor:pointer}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #0000001a}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:transparent;display:flex;align-items:center;justify-content:center;color:#004aad;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:700;color:#1e293b;margin-bottom:4px}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;font-weight:500}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 1px 3px #0000001a;border:1px solid #e2e8f0;overflow:hidden}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:24px;border-bottom:1px solid #e2e8f0;background:#f8fafc}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:16px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1e293b;margin:0}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .sale-count[_ngcontent-%COMP%]{background:#e2e8f0;color:#64748b;padding:4px 12px;border-radius:20px;font-size:14px;font-weight:500}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}.sale-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.sale-info[_ngcontent-%COMP%]   .sale-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid #f1f5f9}.sale-info[_ngcontent-%COMP%]   .sale-details[_ngcontent-%COMP%]   .sale-name[_ngcontent-%COMP%]{font-weight:600;color:#1e293b;font-size:14px;margin-bottom:2px}.sale-info[_ngcontent-%COMP%]   .sale-details[_ngcontent-%COMP%]   .sale-id[_ngcontent-%COMP%]{font-size:12px;color:#94a3b8}.status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:500;text-transform:uppercase;letter-spacing:.5px}.status-badge.status-pending[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.status-badge.status-accepted[_ngcontent-%COMP%]{background:#dcfce7;color:#166534}.status-badge.status-rejected[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.status-badge.status-cancelled[_ngcontent-%COMP%]{background:#f3f4f6;color:#6b7280}.amount[_ngcontent-%COMP%]{font-weight:600;color:#059669;font-size:14px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.action-buttons[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]{width:32px;height:32px;border:none;border-radius:6px;background:#f8fafc;color:#64748b;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.action-buttons[_ngcontent-%COMP%]   .btn-icon[_ngcontent-%COMP%]:hover{background:#e2e8f0;color:#1e293b}.action-buttons[_ngcontent-%COMP%]   .btn-icon.danger[_ngcontent-%COMP%]:hover{background:#fee2e2;color:#dc2626}.btn-primary[_ngcontent-%COMP%]{background:#004aad;color:#fff;border:none;padding:10px 20px;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;font-size:14px}.btn-primary[_ngcontent-%COMP%]:hover{background:#003d8f;transform:translateY(-1px)}.btn-primary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#fff}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#64748b;border:1px solid #d1d5db;padding:10px 20px;border-radius:8px;font-weight:500;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:8px;font-size:14px}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8fafc;border-color:#94a3b8;color:#1e293b}.btn-secondary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#64748b}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{flex:1;justify-content:center}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:20px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:40px;height:40px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:20px}}@media (max-width: 480px){.sales-container[_ngcontent-%COMP%]{padding:12px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:16px;flex-direction:column;text-align:center;gap:12px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:36px;height:36px}}"]})};var Uu=class n{columns=[{key:"id",title:"ID",type:"text",sortable:!0},{key:"name",title:"Name",type:"text",sortable:!0},{key:"type",title:"Type",type:"text",sortable:!0},{key:"status",title:"Status",type:"status",sortable:!0},{key:"createdAt",title:"Created At",type:"date",sortable:!0},{key:"updatedAt",title:"Updated At",type:"date",sortable:!0}];entities=[{id:1,name:"Bank A",type:"Financial Institution",status:"active",createdAt:"2024-03-15",updatedAt:"2024-03-15"},{id:2,name:"SACCO B",type:"Cooperative",status:"active",createdAt:"2024-03-14",updatedAt:"2024-03-15"},{id:3,name:"Payment Provider C",type:"Payment Service",status:"inactive",createdAt:"2024-03-13",updatedAt:"2024-03-14"}];ngOnInit(){}ngAfterViewInit(){}openAddEntityModal(t){console.log("Open add entity modal for type:",t)}handleSort(t){console.log("Sort:",t)}handleSearch(t){console.log("Search term:",t)}handlePageChange(t){console.log("Page:",t)}handlePageSizeChange(t){console.log("Page size:",t)}editEntity(t){console.log("Edit entity:",t)}deleteEntity(t){console.log("Delete entity:",t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-entities"]],decls:20,vars:3,consts:[[1,"dashboard-container"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title","mb-0"],[1,"dropdown"],["type","button","id","addEntityDropdown","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","btn-sm","d-flex","align-items-center","gap-2"],["name","plus","size","14px"],["aria-labelledby","addEntityDropdown",1,"dropdown-menu"],[1,"dropdown-item","d-flex","align-items-center","gap-2",3,"click"],["name","briefcase","size","14px"],["name","credit-card","size","14px"],[1,"card-body"],[3,"onSort","onSearch","onPageChange","onPageSizeChange","columns","data","striped"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),l(4,"Entities"),c(),a(5,"div",4)(6,"button",5),g(7,"app-lucide-icon",6),l(8," Add Entity "),c(),a(9,"ul",7)(10,"li")(11,"a",8),v("click",function(){return o.openAddEntityModal("Financial")}),g(12,"app-lucide-icon",9),l(13," Add Financial Institution "),c()(),a(14,"li")(15,"a",8),v("click",function(){return o.openAddEntityModal("Payment")}),g(16,"app-lucide-icon",10),l(17," Add Payment Service "),c()()()()(),a(18,"div",11)(19,"app-data-table",12),v("onSort",function(r){return o.handleSort(r)})("onSearch",function(r){return o.handleSearch(r)})("onPageChange",function(r){return o.handlePageChange(r)})("onPageSizeChange",function(r){return o.handlePageSizeChange(r)}),c()()()()),e&2&&(d(19),m("columns",o.columns)("data",o.entities)("striped",!1))},dependencies:[R,fe,q,Je],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:12px;display:flex;flex-direction:column;gap:16px}.card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;box-shadow:0 1px 2px #0000000d}.card-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #e5e7eb;background-color:#fff}.card-title[_ngcontent-%COMP%]{color:#1e293b;font-size:1.25rem;font-weight:600}.card-body[_ngcontent-%COMP%]{padding:1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#004aad;border-color:#004aad}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#003d91;border-color:#3498db}.btn-primary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#fff}"]})};var Hu=class n{constructor(t){this.http=t}mockUsers=[{id:1,name:"John Doe",email:"john.doe@example.com",type:"Human",role:"Admin",status:"active",lastLogin:"2024-03-16T10:30:00",createdAt:"2024-01-15",phoneNumber:"+250789123456",department:"IT"},{id:2,name:"Jane Smith",email:"jane.smith@example.com",type:"Human",role:"Manager",status:"active",lastLogin:"2024-03-15T16:45:00",createdAt:"2024-01-20",phoneNumber:"+250789123457",department:"Operations"},{id:3,name:"Payment Gateway",email:"payment.gateway@system.com",type:"Application",role:"System",status:"active",lastLogin:"2024-03-10T09:15:00",createdAt:"2024-02-01",apiKey:"pk_test_51NcezpLkdIwcKRf..."},{id:4,name:"Notification Service",email:"notifications@system.com",type:"Application",role:"System",status:"active",lastLogin:"2024-03-16T08:30:00",createdAt:"2024-02-15",apiKey:"sk_live_51NcezpLkdIwcKRf..."},{id:5,name:"Sarah Johnson",email:"sarah.j@example.com",type:"Human",role:"Support",status:"active",lastLogin:"2024-03-16T11:20:00",createdAt:"2024-02-20",phoneNumber:"+250789123458",department:"Customer Support"},{id:6,name:"Michael Chen",email:"m.chen@example.com",type:"Human",role:"Developer",status:"active",lastLogin:"2024-03-16T09:15:00",createdAt:"2024-02-25",phoneNumber:"+250789123459",department:"Engineering"},{id:7,name:"Analytics Service",email:"analytics@system.com",type:"Application",role:"System",status:"active",lastLogin:"2024-03-16T00:00:00",createdAt:"2024-03-01",apiKey:"ak_test_51NcezpLkdIwcKRf..."},{id:8,name:"Emma Wilson",email:"e.wilson@example.com",type:"Human",role:"Analyst",status:"inactive",lastLogin:"2024-03-10T14:30:00",createdAt:"2024-03-05",phoneNumber:"+250789123460",department:"Analytics"},{id:9,name:"Reporting Service",email:"reports@system.com",type:"Application",role:"System",status:"inactive",lastLogin:"2024-03-15T23:59:59",createdAt:"2024-03-10",apiKey:"rk_test_51NcezpLkdIwcKRf..."},{id:10,name:"David Brown",email:"d.brown@example.com",type:"Human",role:"Manager",status:"active",lastLogin:"2024-03-16T12:00:00",createdAt:"2024-03-15",phoneNumber:"+250789123461",department:"Sales"}];getMockUsers(){return this.mockUsers}getUsers(){return Y(this.mockUsers).pipe(fn(100))}getUserById(t){let e=this.mockUsers.find(o=>o.id===t);return Y(e).pipe(fn(500))}createUser(t){let e=$(w({},t),{id:Math.max(...this.mockUsers.map(o=>o.id))+1,lastLogin:"-",createdAt:new Date().toISOString()});return this.mockUsers.push(e),Y(e).pipe(fn(500))}updateUser(t,e){let o=this.mockUsers.findIndex(i=>i.id===t);if(o!==-1)return this.mockUsers[o]=w(w({},this.mockUsers[o]),e),Y(this.mockUsers[o]).pipe(fn(500));throw new Error("User not found")}deleteUser(t){let e=this.mockUsers.findIndex(o=>o.id===t);if(e!==-1)return this.mockUsers.splice(e,1),Y(void 0).pipe(fn(500));throw new Error("User not found")}static \u0275fac=function(e){return new(e||n)(j(ot))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var $u=class n{constructor(t){this.userService=t}userTypeBadgeTemplate=t=>`
    <span class="badge ${t.type==="Human"?"badge-primary":"badge-info"}">
      ${t.type}
    </span>
  `;columns=[{key:"id",title:"ID",type:"text",sortable:!0},{key:"name",title:"Name",type:"text",sortable:!0},{key:"type",title:"Type",type:"custom",sortable:!0,template:this.userTypeBadgeTemplate},{key:"email",title:"Email",type:"text",sortable:!0},{key:"role",title:"Role",type:"text",sortable:!0},{key:"status",title:"Status",type:"status",sortable:!0},{key:"lastLogin",title:"Last Login",type:"date",sortable:!0},{key:"createdAt",title:"Created At",type:"date",sortable:!0}];users=[];ngOnInit(){this.users=this.userService.getMockUsers()}openAddUserModal(t){console.log("Open add user modal for type:",t)}handleSort(t){console.log("Sort:",t)}handleSearch(t){console.log("Search term:",t)}handlePageChange(t){console.log("Page:",t)}handlePageSizeChange(t){console.log("Page size:",t)}static \u0275fac=function(e){return new(e||n)(D(Hu))};static \u0275cmp=N({type:n,selectors:[["app-users"]],decls:20,vars:3,consts:[[1,"dashboard-container"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title","mb-0"],[1,"dropdown"],["type","button","id","addUserDropdown","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","btn-sm","d-flex","align-items-center","gap-2"],["name","plus","size","14px"],["aria-labelledby","addUserDropdown",1,"dropdown-menu"],[1,"dropdown-item","d-flex","align-items-center","gap-2",3,"click"],["name","user","size","14px"],["name","box","size","14px"],[1,"card-body"],[3,"onSort","onSearch","onPageChange","onPageSizeChange","columns","data","striped"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),l(4,"Users"),c(),a(5,"div",4)(6,"button",5),g(7,"app-lucide-icon",6),l(8," Add User "),c(),a(9,"ul",7)(10,"li")(11,"a",8),v("click",function(){return o.openAddUserModal("Human")}),g(12,"app-lucide-icon",9),l(13," Add Human User "),c()(),a(14,"li")(15,"a",8),v("click",function(){return o.openAddUserModal("Application")}),g(16,"app-lucide-icon",10),l(17," Add Application "),c()()()()(),a(18,"div",11)(19,"app-data-table",12),v("onSort",function(r){return o.handleSort(r)})("onSearch",function(r){return o.handleSearch(r)})("onPageChange",function(r){return o.handlePageChange(r)})("onPageSizeChange",function(r){return o.handlePageSizeChange(r)}),c()()()()),e&2&&(d(19),m("columns",o.columns)("data",o.users)("striped",!1))},dependencies:[R,fe,So,q,Je],styles:["[_nghost-%COMP%]{display:block;padding:12px}.card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;box-shadow:0 1px 2px #0000000d}.card-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #e5e7eb;background-color:#fff}.card-title[_ngcontent-%COMP%]{color:#1e293b;font-size:1.25rem;font-weight:600}.card-body[_ngcontent-%COMP%]{padding:1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#004aad;border-color:#004aad}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#003d91;border-color:#3498db}.btn-primary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]     .badge{padding:.35em .65em;font-size:.75em;font-weight:500;border-radius:.25rem;text-align:center;white-space:nowrap;vertical-align:baseline}[_nghost-%COMP%]     .badge-primary{color:#fff;background-color:#1b2e4b}[_nghost-%COMP%]     .badge-info{color:#fff;background-color:#3498db}"]})};var Wu=class n{constructor(t){this.http=t}mockRoles=[{id:1,name:"Super Admin",description:"Full system access",permissions:[{id:1,name:"CREATE_USER",description:"Create new users",module:"Users"},{id:2,name:"EDIT_USER",description:"Edit existing users",module:"Users"},{id:3,name:"DELETE_USER",description:"Delete users",module:"Users"},{id:4,name:"VIEW_REPORTS",description:"View all reports",module:"Reports"}],createdAt:"2024-01-01",updatedAt:"2024-01-01",status:"active"},{id:2,name:"Admin",description:"Administrative access with some restrictions",permissions:[{id:1,name:"CREATE_USER",description:"Create new users",module:"Users"},{id:2,name:"EDIT_USER",description:"Edit existing users",module:"Users"},{id:4,name:"VIEW_REPORTS",description:"View all reports",module:"Reports"}],createdAt:"2024-01-15",updatedAt:"2024-01-15",status:"active"},{id:3,name:"User Manager",description:"Manage users and their permissions",permissions:[{id:1,name:"CREATE_USER",description:"Create new users",module:"Users"},{id:2,name:"EDIT_USER",description:"Edit existing users",module:"Users"}],createdAt:"2024-02-01",updatedAt:"2024-02-01",status:"active"},{id:4,name:"Report Viewer",description:"View and export reports",permissions:[{id:4,name:"VIEW_REPORTS",description:"View all reports",module:"Reports"}],createdAt:"2024-02-15",updatedAt:"2024-02-15",status:"active"}];getRoles(){return Y(this.mockRoles).pipe(fn(100))}getPermissions(){let t=Array.from(new Set(this.mockRoles.flatMap(e=>e.permissions)));return Y(t).pipe(fn(100))}static \u0275fac=function(e){return new(e||n)(j(ot))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var qu=class n{constructor(t){this.roleService=t}permissionCountTemplate=t=>`
    <span class="badge badge-info">
      ${t.permissions.length} permissions
    </span>
  `;columns=[{key:"id",title:"ID",type:"text",sortable:!0},{key:"name",title:"Name",type:"text",sortable:!0},{key:"description",title:"Description",type:"text",sortable:!0},{key:"permissions",title:"Permissions",type:"custom",sortable:!0,template:this.permissionCountTemplate},{key:"status",title:"Status",type:"status",sortable:!0},{key:"createdAt",title:"Created At",type:"date",sortable:!0},{key:"updatedAt",title:"Updated At",type:"date",sortable:!0}];roles=[];ngOnInit(){this.loadRoles()}loadRoles(){this.roleService.getRoles().subscribe(t=>{this.roles=t})}openAddRoleModal(t){console.log("Open add role modal for type:",t)}handleSort(t){console.log("Sort:",t)}handleSearch(t){console.log("Search term:",t)}handlePageChange(t){console.log("Page:",t)}handlePageSizeChange(t){console.log("Page size:",t)}static \u0275fac=function(e){return new(e||n)(D(Wu))};static \u0275cmp=N({type:n,selectors:[["app-roles"]],decls:20,vars:3,consts:[[1,"dashboard-container"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title","mb-0"],[1,"dropdown"],["type","button","id","addRoleDropdown","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-primary","btn-sm","d-flex","align-items-center","gap-2"],["name","plus","size","14px"],["aria-labelledby","addRoleDropdown",1,"dropdown-menu"],[1,"dropdown-item","d-flex","align-items-center","gap-2",3,"click"],["name","shield","size","14px"],["name","users","size","14px"],[1,"card-body"],[3,"onSort","onSearch","onPageChange","onPageSizeChange","columns","data","striped"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),l(4,"Roles"),c(),a(5,"div",4)(6,"button",5),g(7,"app-lucide-icon",6),l(8," Add Role "),c(),a(9,"ul",7)(10,"li")(11,"a",8),v("click",function(){return o.openAddRoleModal("System")}),g(12,"app-lucide-icon",9),l(13," Add System Role "),c()(),a(14,"li")(15,"a",8),v("click",function(){return o.openAddRoleModal("Custom")}),g(16,"app-lucide-icon",10),l(17," Add Custom Role "),c()()()()(),a(18,"div",11)(19,"app-data-table",12),v("onSort",function(r){return o.handleSort(r)})("onSearch",function(r){return o.handleSearch(r)})("onPageChange",function(r){return o.handlePageChange(r)})("onPageSizeChange",function(r){return o.handlePageSizeChange(r)}),c()()()()),e&2&&(d(19),m("columns",o.columns)("data",o.roles)("striped",!1))},dependencies:[R,fe,So,q,Je],styles:["[_nghost-%COMP%]{display:block;padding:12px}.card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;box-shadow:0 1px 2px #0000000d}.card-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #e5e7eb;background-color:#fff}.card-title[_ngcontent-%COMP%]{color:#1e293b;font-size:1.25rem;font-weight:600}.card-body[_ngcontent-%COMP%]{padding:1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#004aad;border-color:#004aad}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#003d91;border-color:#3498db}.btn-primary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]     .badge{padding:.35em .65em;font-size:.75em;font-weight:500;border-radius:.25rem;text-align:center;white-space:nowrap;vertical-align:baseline}[_nghost-%COMP%]     .badge-primary{color:#fff;background-color:#1b2e4b}[_nghost-%COMP%]     .badge-info{color:#fff;background-color:#3498db}"]})};var Gu=class n{constructor(t){this.http=t}mockLogs=[{id:1,timestamp:"2024-03-16T12:30:00",level:"INFO",source:"API",message:"API request successful",details:"GET /api/v1/entities - 200 OK",userId:"john.doe",entityId:"ENT001",transactionId:"TRX123",ipAddress:"192.168.1.100"},{id:2,timestamp:"2024-03-16T12:29:45",level:"ERROR",source:"DATABASE",message:"Database connection failed",details:"Connection timeout after 30s",transactionId:"TRX122"},{id:3,timestamp:"2024-03-16T12:28:30",level:"WARNING",source:"AUTH",message:"Failed login attempt",details:"Multiple failed attempts from same IP",userId:"unknown",ipAddress:"192.168.1.101"},{id:4,timestamp:"2024-03-16T12:27:15",level:"INFO",source:"SYSTEM",message:"System backup completed",details:"Backup size: 2.5GB"},{id:5,timestamp:"2024-03-16T12:26:00",level:"ERROR",source:"INTEGRATION",message:"Integration webhook failed",details:"Endpoint not responding: https://api.external.com/webhook",entityId:"ENT002",transactionId:"TRX121"},{id:6,timestamp:"2024-03-16T12:25:30",level:"DEBUG",source:"API",message:"Request validation",details:"Payload validation passed for POST /api/v1/transactions",userId:"jane.smith",transactionId:"TRX120"},{id:7,timestamp:"2024-03-16T12:24:15",level:"INFO",source:"AUTH",message:"User session expired",details:"Session timeout after 30 minutes",userId:"michael.chen",ipAddress:"192.168.1.102"},{id:8,timestamp:"2024-03-16T12:23:00",level:"WARNING",source:"SYSTEM",message:"High CPU usage detected",details:"CPU usage at 85% for 5 minutes"},{id:9,timestamp:"2024-03-16T12:22:45",level:"ERROR",source:"DATABASE",message:"Query execution failed",details:"Deadlock detected on table: transactions",transactionId:"TRX119"},{id:10,timestamp:"2024-03-16T12:21:30",level:"INFO",source:"INTEGRATION",message:"New entity registered",details:"Entity type: Financial Institution",entityId:"ENT003",userId:"admin"}];getMockLogs(){return this.mockLogs}getLogLevels(){return["INFO","WARNING","ERROR","DEBUG"]}getLogSources(){return["API","SYSTEM","AUTH","DATABASE","INTEGRATION"]}static \u0275fac=function(e){return new(e||n)(j(ot))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var Yu=class n{constructor(t){this.logService=t;this.logLevels=this.logService.getLogLevels()}logLevelTemplate=t=>`
    <span class="badge ${this.getLogLevelClass(t.level)}">
      ${t.level}
    </span>
  `;columns=[{key:"timestamp",title:"Timestamp",type:"date",sortable:!0},{key:"level",title:"Level",type:"custom",sortable:!0,template:this.logLevelTemplate},{key:"source",title:"Source",type:"text",sortable:!0},{key:"message",title:"Message",type:"text",sortable:!0},{key:"userId",title:"User",type:"text",sortable:!0},{key:"entityId",title:"Entity",type:"text",sortable:!0},{key:"transactionId",title:"Transaction",type:"text",sortable:!0}];logs=[];filteredLogs=[];logLevels=[];filters={status:"",startDate:"",endDate:"",transactionType:""};ngOnInit(){this.logs=this.logService.getMockLogs(),this.filteredLogs=[...this.logs]}getLogLevelClass(t){switch(t){case"INFO":return"badge-info";case"WARNING":return"badge-warning";case"ERROR":return"badge-danger";case"DEBUG":return"badge-secondary";default:return"badge-secondary"}}applyFilters(){this.filteredLogs=this.logs.filter(t=>{if(this.filters.status&&t.level!==this.filters.status)return!1;if(this.filters.startDate||this.filters.endDate){let e=new Date(t.timestamp),o=this.filters.startDate?new Date(this.filters.startDate):null,i=this.filters.endDate?new Date(this.filters.endDate):null;if(o&&e<o||i&&e>i)return!1}if(this.filters.transactionType){let e=t.message.toLowerCase(),o=t.source.toLowerCase(),i=this.filters.transactionType.toLowerCase();if(!e.includes(i)&&!o.includes(i))return!1}return!0})}clearFilters(){this.filters={status:"",startDate:"",endDate:"",transactionType:""},this.filteredLogs=[...this.logs]}exportLogs(){console.log("Export logs")}handleSort(t){console.log("Sort:",t)}handleSearch(t){console.log("Search term:",t)}handlePageChange(t){console.log("Page:",t)}handlePageSizeChange(t){console.log("Page size:",t)}static \u0275fac=function(e){return new(e||n)(D(Gu))};static \u0275cmp=N({type:n,selectors:[["app-logs"]],decls:62,vars:9,consts:[[1,"dashboard-container"],[1,"card","filter-card","mb-4"],[1,"card-header"],[1,"card-title","mb-0","d-flex","align-items-center"],["name","filter","size","18px",1,"me-2"],[1,"card-body"],[1,"row","g-3",3,"ngSubmit"],[1,"col-md-3"],["for","statusFilter",1,"form-label"],["id","statusFilter","name","status",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","SUCCESS"],["value","FAILED"],["value","PENDING"],["value","PROCESSING"],["for","startDate",1,"form-label"],["type","date","id","startDate","name","startDate",1,"form-control",3,"ngModelChange","ngModel"],["for","endDate",1,"form-label"],["type","date","id","endDate","name","endDate",1,"form-control",3,"ngModelChange","ngModel"],["for","transactionType",1,"form-label"],["id","transactionType","name","transactionType",1,"form-select",3,"ngModelChange","ngModel"],["value","PUSH"],["value","PULL"],["value","INTERNAL"],[1,"col-12"],[1,"d-flex","gap-2"],["type","submit",1,"btn","btn-primary"],["name","search","size","14px",1,"me-1"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["name","x","size","14px",1,"me-1"],["type","button",1,"btn","btn-outline-primary",3,"click"],["name","download","size","14px",1,"me-1"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title","mb-0"],[1,"d-flex","align-items-center","gap-2"],[1,"text-muted","small"],[3,"onSort","onSearch","onPageChange","onPageSizeChange","columns","data","striped"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),g(4,"app-lucide-icon",4),l(5," Filters "),c()(),a(6,"div",5)(7,"form",6),v("ngSubmit",function(){return o.applyFilters()}),a(8,"div",7)(9,"label",8),l(10,"Status"),c(),a(11,"select",9),E("ngModelChange",function(r){return I(o.filters.status,r)||(o.filters.status=r),r}),a(12,"option",10),l(13,"All Statuses"),c(),a(14,"option",11),l(15,"Success"),c(),a(16,"option",12),l(17,"Failed"),c(),a(18,"option",13),l(19,"Pending"),c(),a(20,"option",14),l(21,"Processing"),c()()(),a(22,"div",7)(23,"label",15),l(24,"Start Date"),c(),a(25,"input",16),E("ngModelChange",function(r){return I(o.filters.startDate,r)||(o.filters.startDate=r),r}),c()(),a(26,"div",7)(27,"label",17),l(28,"End Date"),c(),a(29,"input",18),E("ngModelChange",function(r){return I(o.filters.endDate,r)||(o.filters.endDate=r),r}),c()(),a(30,"div",7)(31,"label",19),l(32,"Transaction Type"),c(),a(33,"select",20),E("ngModelChange",function(r){return I(o.filters.transactionType,r)||(o.filters.transactionType=r),r}),a(34,"option",10),l(35,"All Types"),c(),a(36,"option",21),l(37,"Push"),c(),a(38,"option",22),l(39,"Pull"),c(),a(40,"option",23),l(41,"Internal"),c()()(),a(42,"div",24)(43,"div",25)(44,"button",26),g(45,"app-lucide-icon",27),l(46," Apply Filters "),c(),a(47,"button",28),v("click",function(){return o.clearFilters()}),g(48,"app-lucide-icon",29),l(49," Clear "),c(),a(50,"button",30),v("click",function(){return o.exportLogs()}),g(51,"app-lucide-icon",31),l(52," Export "),c()()()()()(),a(53,"div",32)(54,"div",33)(55,"h4",34),l(56,"System Logs"),c(),a(57,"div",35)(58,"span",36),l(59),c()()(),a(60,"div",5)(61,"app-data-table",37),v("onSort",function(r){return o.handleSort(r)})("onSearch",function(r){return o.handleSearch(r)})("onPageChange",function(r){return o.handlePageChange(r)})("onPageSizeChange",function(r){return o.handlePageSizeChange(r)}),c()()()()),e&2&&(d(11),S("ngModel",o.filters.status),d(14),S("ngModel",o.filters.startDate),d(4),S("ngModel",o.filters.endDate),d(4),S("ngModel",o.filters.transactionType),d(26),ke("Showing ",o.filteredLogs.length," of ",o.logs.length," logs"),d(2),m("columns",o.columns)("data",o.filteredLogs)("striped",!1))},dependencies:[R,fe,So,ie,De,Oe,we,ve,Pe,se,Ie,he,$e,q,Je],styles:["[_nghost-%COMP%]{display:block;padding:12px}.card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;box-shadow:0 1px 2px #0000000d}.filter-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb}.filter-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:#fff;border-bottom:1px solid #e5e7eb}.card-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #e5e7eb;background-color:#fff}.card-title[_ngcontent-%COMP%]{color:#1e293b;font-size:1.25rem;font-weight:600}.card-body[_ngcontent-%COMP%]{padding:1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#004aad;border-color:#004aad}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#003d91;border-color:#3498db}.btn-primary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#fff}.btn-outline-secondary[_ngcontent-%COMP%]{color:#1b2e4b;border-color:#e5e7eb}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:#f8fafc;border-color:#1b2e4b}.btn-outline-secondary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#1b2e4b}[_nghost-%COMP%]     .badge{padding:.35em .65em;font-size:.75em;font-weight:500;border-radius:.25rem;text-align:center;white-space:nowrap;vertical-align:baseline}[_nghost-%COMP%]     .badge-info{color:#fff;background-color:#3498db}[_nghost-%COMP%]     .badge-warning{color:#fff;background-color:#f1c40f}[_nghost-%COMP%]     .badge-danger{color:#fff;background-color:#e74c3c}[_nghost-%COMP%]     .badge-secondary{color:#fff;background-color:#95a5a6}"]})};var Zu=class n{constructor(t){this.http=t}mockAuditTrails=[{id:1,timestamp:"2024-03-16T12:30:00",action:"CREATE",resource:"ENTITY",resourceId:"ENT001",userId:"john.doe",userType:"Human",ipAddress:"192.168.1.100",newValue:'{"name": "Bank A", "type": "Financial Institution", "status": "active"}',status:"SUCCESS"},{id:2,timestamp:"2024-03-16T12:29:00",action:"UPDATE",resource:"USER",resourceId:"USR002",userId:"admin",userType:"Human",ipAddress:"192.168.1.101",oldValue:'{"role": "User"}',newValue:'{"role": "Manager"}',status:"SUCCESS"},{id:3,timestamp:"2024-03-16T12:28:00",action:"LOGIN",resource:"USER",resourceId:"USR003",userId:"jane.smith",userType:"Human",ipAddress:"192.168.1.102",status:"FAILURE",reason:"Invalid password"},{id:4,timestamp:"2024-03-16T12:27:00",action:"DELETE",resource:"ROLE",resourceId:"ROL001",userId:"admin",userType:"Human",ipAddress:"192.168.1.101",oldValue:'{"name": "Temporary Role", "permissions": ["VIEW"]}',status:"SUCCESS"},{id:5,timestamp:"2024-03-16T12:26:00",action:"APPROVE",resource:"TRANSACTION",resourceId:"TRX001",userId:"payment.gateway",userType:"Application",ipAddress:"192.168.1.200",status:"SUCCESS"},{id:6,timestamp:"2024-03-16T12:25:00",action:"UPDATE",resource:"CONFIGURATION",resourceId:"CFG001",userId:"system",userType:"Application",ipAddress:"192.168.1.1",oldValue:'{"timeout": 30}',newValue:'{"timeout": 60}',status:"SUCCESS"},{id:7,timestamp:"2024-03-16T12:24:00",action:"REJECT",resource:"TRANSACTION",resourceId:"TRX002",userId:"jane.smith",userType:"Human",ipAddress:"192.168.1.102",status:"SUCCESS",reason:"Amount exceeds daily limit"},{id:8,timestamp:"2024-03-16T12:23:00",action:"CREATE",resource:"PERMISSION",resourceId:"PER001",userId:"admin",userType:"Human",ipAddress:"192.168.1.101",newValue:'{"name": "MANAGE_TRANSACTIONS", "description": "Can manage all transactions"}',status:"SUCCESS"},{id:9,timestamp:"2024-03-16T12:22:00",action:"LOGOUT",resource:"USER",resourceId:"USR004",userId:"michael.chen",userType:"Human",ipAddress:"192.168.1.103",status:"SUCCESS"},{id:10,timestamp:"2024-03-16T12:21:00",action:"UPDATE",resource:"ENTITY",resourceId:"ENT002",userId:"notification.service",userType:"Application",ipAddress:"192.168.1.201",oldValue:'{"status": "inactive"}',newValue:'{"status": "active"}',status:"SUCCESS"}];getMockAuditTrails(){return this.mockAuditTrails}getAuditActions(){return["CREATE","UPDATE","DELETE","LOGIN","LOGOUT","APPROVE","REJECT"]}getAuditResources(){return["USER","ENTITY","ROLE","PERMISSION","TRANSACTION","CONFIGURATION"]}static \u0275fac=function(e){return new(e||n)(j(ot))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function P5(n,t){if(n&1){let e=k();a(0,"li")(1,"a",12),v("click",function(){let i=h(e).$implicit,r=f();return _(r.filterByAction(i))}),l(2),c()()}if(n&2){let e=t.$implicit;d(2),T(" ",e," ")}}var Ku=class n{constructor(t){this.auditService=t;this.auditActions=this.auditService.getAuditActions()}actionTemplate=t=>`
    <span class="badge ${this.getActionClass(t.action)}">
      ${t.action}
    </span>
  `;statusTemplate=t=>`
    <span class="badge ${t.status==="SUCCESS"?"badge-success":"badge-danger"}">
      ${t.status}
    </span>
  `;columns=[{key:"timestamp",title:"Timestamp",type:"date",sortable:!0},{key:"action",title:"Action",type:"custom",sortable:!0,template:this.actionTemplate},{key:"resource",title:"Resource",type:"text",sortable:!0},{key:"resourceId",title:"Resource ID",type:"text",sortable:!0},{key:"userId",title:"User",type:"text",sortable:!0},{key:"userType",title:"User Type",type:"text",sortable:!0},{key:"status",title:"Status",type:"custom",sortable:!0,template:this.statusTemplate}];auditTrails=[];auditActions=[];ngOnInit(){this.auditTrails=this.auditService.getMockAuditTrails()}getActionClass(t){switch(t){case"CREATE":return"badge-success";case"UPDATE":return"badge-info";case"DELETE":return"badge-danger";case"LOGIN":case"LOGOUT":return"badge-primary";case"APPROVE":return"badge-success";case"REJECT":return"badge-danger";default:return"badge-primary"}}filterByAction(t){console.log("Filter by action:",t)}filterByDate(t){console.log("Filter by date range:",t)}exportAudit(){console.log("Export audit trail")}handleSort(t){console.log("Sort:",t)}handleSearch(t){console.log("Search term:",t)}handlePageChange(t){console.log("Page:",t)}handlePageSizeChange(t){console.log("Page size:",t)}static \u0275fac=function(e){return new(e||n)(D(Zu))};static \u0275cmp=N({type:n,selectors:[["app-audit"]],decls:34,vars:4,consts:[[1,"dashboard-container"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"card-title","mb-0"],[1,"d-flex","gap-2"],[1,"dropdown"],["type","button","id","filterDropdown","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-secondary","btn-sm","d-flex","align-items-center","gap-2"],["name","filter","size","14px"],["aria-labelledby","filterDropdown",1,"dropdown-menu"],[1,"dropdown-header"],[4,"ngFor","ngForOf"],[1,"dropdown-divider"],[1,"dropdown-item",3,"click"],[1,"btn","btn-primary","btn-sm","d-flex","align-items-center","gap-2",3,"click"],["name","download","size","14px"],[1,"card-body"],[3,"onSort","onSearch","onPageChange","onPageSizeChange","columns","data","striped"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),l(4,"Audit Trail"),c(),a(5,"div",4)(6,"div",5)(7,"button",6),g(8,"app-lucide-icon",7),l(9," Filter "),c(),a(10,"ul",8)(11,"li")(12,"h6",9),l(13,"Action Type"),c()(),M(14,P5,3,1,"li",10),a(15,"li"),g(16,"hr",11),c(),a(17,"li")(18,"h6",9),l(19,"Date Range"),c()(),a(20,"li")(21,"a",12),v("click",function(){return o.filterByDate("today")}),l(22,"Today"),c()(),a(23,"li")(24,"a",12),v("click",function(){return o.filterByDate("week")}),l(25,"Last 7 days"),c()(),a(26,"li")(27,"a",12),v("click",function(){return o.filterByDate("month")}),l(28,"Last 30 days"),c()()()(),a(29,"button",13),v("click",function(){return o.exportAudit()}),g(30,"app-lucide-icon",14),l(31," Export "),c()()(),a(32,"div",15)(33,"app-data-table",16),v("onSort",function(r){return o.handleSort(r)})("onSearch",function(r){return o.handleSearch(r)})("onPageChange",function(r){return o.handlePageChange(r)})("onPageSizeChange",function(r){return o.handlePageSizeChange(r)}),c()()()()),e&2&&(d(14),m("ngForOf",o.auditActions),d(19),m("columns",o.columns)("data",o.auditTrails)("striped",!1))},dependencies:[R,ee,fe,So,q,Je],styles:["[_nghost-%COMP%]{display:block;padding:12px}.card[_ngcontent-%COMP%]{background:#fff;border:1px solid #e5e7eb;border-radius:8px;box-shadow:0 1px 2px #0000000d}.card-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #e5e7eb;background-color:#fff}.card-title[_ngcontent-%COMP%]{color:#1e293b;font-size:1.25rem;font-weight:600}.card-body[_ngcontent-%COMP%]{padding:1rem}.btn-primary[_ngcontent-%COMP%]{background-color:#004aad;border-color:#004aad}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#003d91;border-color:#3498db}.btn-primary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#fff}.btn-outline-secondary[_ngcontent-%COMP%]{color:#1b2e4b;border-color:#e5e7eb}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:#f8fafc;border-color:#1b2e4b}.btn-outline-secondary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#1b2e4b}[_nghost-%COMP%]     .badge{padding:.35em .65em;font-size:.75em;font-weight:500;border-radius:.25rem;text-align:center;white-space:nowrap;vertical-align:baseline}[_nghost-%COMP%]     .badge-success{color:#fff;background-color:#2ecc71}[_nghost-%COMP%]     .badge-danger{color:#fff;background-color:#e74c3c}[_nghost-%COMP%]     .badge-primary{color:#fff;background-color:#1b2e4b}[_nghost-%COMP%]     .badge-warning{color:#fff;background-color:#f1c40f}[_nghost-%COMP%]     .badge-info{color:#fff;background-color:#3498db}"]})};var Qu=class n{constructor(t,e){this.authService=t;this.inactivityService=e}clockInterval;userName="";password="";error="";currentDate=new Date;currentYear=new Date().getFullYear();ngOnInit(){let t=this.authService.getCurrentUser();t&&(this.userName=t.name),this.startClock()}startClock(){let t=()=>{let e=new Date,o=e.getSeconds(),i=e.getMinutes(),r=e.getHours(),s=o*6+"deg",u=i*6+o*.1+"deg",p=r*30+i*.5+"deg";document.documentElement.style.setProperty("--second-rotation",s),document.documentElement.style.setProperty("--minute-rotation",u),document.documentElement.style.setProperty("--hour-rotation",p),this.currentDate=e};t(),this.clockInterval=setInterval(t,1e3)}ngOnDestroy(){this.clockInterval&&clearInterval(this.clockInterval)}unlock(){this.password&&this.authService.validatePassword(this.password).subscribe({next:t=>{t?(this.error="",this.inactivityService.unlock()):(this.error="Invalid password",this.password="")},error:t=>{this.error="An error occurred. Please try again.",console.error("Unlock error:",t)}})}static \u0275fac=function(e){return new(e||n)(D(Le),D(ei))};static \u0275cmp=N({type:n,selectors:[["app-lock"]],decls:30,vars:7,consts:[["lockForm","ngForm"],[1,"auth-page"],[1,"auth-section"],[1,"auth-container"],[1,"user-info"],[1,"user-avatar"],[1,"fas","fa-user-circle"],[1,"text-muted"],[1,"auth-form",3,"ngSubmit"],["type","password","placeholder","Enter your password","iconClass","fas fa-lock","name","password",3,"ngModelChange","ngModel","isInvalid","errorMessage"],["type","danger",3,"message"],["type","submit",1,"auth-btn",3,"disabled"],[1,"fas","fa-unlock"],[1,"auth-links"],["routerLink","/login",1,"switch-account"],[1,"fas","fa-sign-out-alt"],[1,"footer-text"],[1,"background-section"]],template:function(e,o){if(e&1){let i=k();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),g(5,"i",6),c(),a(6,"h5"),l(7),c(),a(8,"p",7),l(9,"Your session is locked"),c()(),a(10,"form",8,0),v("ngSubmit",function(){return h(i),_(o.unlock())}),a(12,"app-form-input",9),E("ngModelChange",function(s){return h(i),I(o.password,s)||(o.password=s),_(s)}),c(),g(13,"app-alert",10),a(14,"button",11),g(15,"i",12),l(16," Unlock "),c(),a(17,"div",13)(18,"a",14),g(19,"i",15),l(20," Sign in as a different user "),c()()(),a(21,"div",16)(22,"p"),l(23),c(),a(24,"p"),l(25,"A comprehensive dairy farming management system"),c(),a(26,"p"),l(27,"Developed for Rwandan Dairy Farmers"),c()()()(),a(28,"div",17),g(29,"app-analog-clock"),c()()}e&2&&(d(7),b(o.userName),d(5),S("ngModel",o.password),m("isInvalid",!!o.error)("errorMessage",o.error),d(),m("message",o.error),d(),m("disabled",!o.password),d(9),T("\xA9 ",o.currentYear," Gemura"))},dependencies:[R,ie,De,se,Ie,he,$e,fe,wt,po,mo,ma],styles:[".auth-page[_ngcontent-%COMP%]{display:flex;min-height:100vh;width:100%}.auth-section[_ngcontent-%COMP%]{width:40%;min-width:500px;background:#fff;display:flex;align-items:center;justify-content:center;padding:2rem}.auth-container[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:0 20px}.background-section[_ngcontent-%COMP%]{flex:1;background:linear-gradient(#0000004d,#0000004d),url(/assets/img/splash.jpg);background-size:cover;background-position:center;position:relative;display:flex;align-items:center;justify-content:center}.user-info[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:50%;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center;background:#004aad1a;border:3px solid #004AAD}.user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem;color:#004aad}.user-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;color:#333;margin:0 0 .5rem}.user-info[_ngcontent-%COMP%]   .text-muted[_ngcontent-%COMP%]{color:#666;font-size:.9rem;margin:0}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]{width:100%;padding:12px;background:#004aad;color:#fff;border:none;border-radius:4px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#003f94;transform:translateY(-1px);box-shadow:0 4px 8px #004aad4d}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none;box-shadow:none}.auth-form[_ngcontent-%COMP%]   .auth-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.auth-form[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]{text-align:center;margin-top:1.5rem}.auth-form[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .switch-account[_ngcontent-%COMP%]{color:#004aad;text-decoration:none;font-size:.9rem;font-weight:500;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease}.auth-form[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .switch-account[_ngcontent-%COMP%]:hover{color:#00347a;text-decoration:underline}.auth-form[_ngcontent-%COMP%]   .auth-links[_ngcontent-%COMP%]   .switch-account[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.footer-text[_ngcontent-%COMP%]{text-align:center;margin-top:2rem;color:#666;font-size:.8rem;line-height:1.4}.footer-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0}@media (max-width: 992px){.auth-section[_ngcontent-%COMP%]{width:100%;min-width:auto}.background-section[_ngcontent-%COMP%]{display:none}}@media (max-width: 480px){.user-info[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:60px;height:60px}}"]})};var Ju=class n{constructor(t,e){this.authService=t;this.router=e}canActivate(){return this.authService.isLoggedIn()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||n)(j(Le),j(Ae))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function O5(n,t){if(n&1&&(a(0,"option",49),l(1),c()),n&2){let e=t.$implicit;m("value",e),d(),b(e)}}function w5(n,t){if(n&1){let e=k();a(0,"div",9)(1,"label",50),l(2,"New Category *"),c(),a(3,"input",51),E("ngModelChange",function(i){h(e);let r=f();return I(r.newCategory,i)||(r.newCategory=i),_(i)}),c()()}if(n&2){let e=f();d(3),S("ngModel",e.newCategory)}}var Xu=class n{categories=[];itemAdded=new z;modalClosed=new z;newCategory="";item={name:"",sku:"",category:"",quantity:0,unit:"",unitPrice:0,reorderLevel:0,supplier:"",location:"",expiryDate:null,description:""};onSubmit(){let t=w({},this.item);t.category==="__new__"&&this.newCategory&&(t.category=this.newCategory),t.lastRestocked=new Date,this.itemAdded.emit(t)}close(){this.modalClosed.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-add-inventory-modal"]],inputs:{categories:"categories"},outputs:{itemAdded:"itemAdded",modalClosed:"modalClosed"},decls:90,vars:14,consts:[["itemForm","ngForm"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","x","size","20px"],[3,"ngSubmit"],[1,"modal-body"],[1,"form-row"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","required","","placeholder","Enter item name",3,"ngModelChange","ngModel"],["for","sku"],["type","text","id","sku","name","sku","required","","placeholder","e.g., DF-001",3,"ngModelChange","ngModel"],["for","category"],["id","category","name","category","required","",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","__new__"],["class","form-group",4,"ngIf"],["for","quantity"],["type","number","id","quantity","name","quantity","required","","min","0","placeholder","0",3,"ngModelChange","ngModel"],["for","unit"],["id","unit","name","unit","required","",3,"ngModelChange","ngModel"],["value","kg"],["value","liters"],["value","pieces"],["value","boxes"],["value","bottles"],["value","bales"],["value","sets"],["value","doses"],["for","unitPrice"],["type","number","id","unitPrice","name","unitPrice","required","","min","0","placeholder","0",3,"ngModelChange","ngModel"],["for","reorderLevel"],["type","number","id","reorderLevel","name","reorderLevel","required","","min","0","placeholder","Minimum stock level",3,"ngModelChange","ngModel"],["for","supplier"],["type","text","id","supplier","name","supplier","placeholder","Supplier name",3,"ngModelChange","ngModel"],["for","location"],["type","text","id","location","name","location","placeholder","e.g., Warehouse A",3,"ngModelChange","ngModel"],["for","expiryDate"],["type","date","id","expiryDate","name","expiryDate",3,"ngModelChange","ngModel"],[1,"form-group","full-width"],["for","description"],["id","description","name","description","rows","3","placeholder","Item description (optional)",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary",3,"disabled"],["name","plus","size","16px"],[3,"value"],["for","newCategory"],["type","text","id","newCategory","name","newCategory","placeholder","Enter new category",3,"ngModelChange","ngModel"]],template:function(e,o){if(e&1){let i=k();a(0,"div",1),v("click",function(){return h(i),_(o.close())}),a(1,"div",2),v("click",function(s){return h(i),_(s.stopPropagation())}),a(2,"div",3)(3,"h2"),l(4,"Add New Item"),c(),a(5,"button",4),v("click",function(){return h(i),_(o.close())}),g(6,"app-lucide-icon",5),c()(),a(7,"form",6,0),v("ngSubmit",function(){return h(i),_(o.onSubmit())}),a(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),l(13,"Item Name *"),c(),a(14,"input",11),E("ngModelChange",function(s){return h(i),I(o.item.name,s)||(o.item.name=s),_(s)}),c()(),a(15,"div",9)(16,"label",12),l(17,"SKU *"),c(),a(18,"input",13),E("ngModelChange",function(s){return h(i),I(o.item.sku,s)||(o.item.sku=s),_(s)}),c()()(),a(19,"div",8)(20,"div",9)(21,"label",14),l(22,"Category *"),c(),a(23,"select",15),E("ngModelChange",function(s){return h(i),I(o.item.category,s)||(o.item.category=s),_(s)}),a(24,"option",16),l(25,"Select category"),c(),M(26,O5,2,2,"option",17),a(27,"option",18),l(28,"+ Add New Category"),c()()(),M(29,w5,4,1,"div",19),c(),a(30,"div",8)(31,"div",9)(32,"label",20),l(33,"Initial Quantity *"),c(),a(34,"input",21),E("ngModelChange",function(s){return h(i),I(o.item.quantity,s)||(o.item.quantity=s),_(s)}),c()(),a(35,"div",9)(36,"label",22),l(37,"Unit *"),c(),a(38,"select",23),E("ngModelChange",function(s){return h(i),I(o.item.unit,s)||(o.item.unit=s),_(s)}),a(39,"option",16),l(40,"Select unit"),c(),a(41,"option",24),l(42,"Kilograms (kg)"),c(),a(43,"option",25),l(44,"Liters"),c(),a(45,"option",26),l(46,"Pieces"),c(),a(47,"option",27),l(48,"Boxes"),c(),a(49,"option",28),l(50,"Bottles"),c(),a(51,"option",29),l(52,"Bales"),c(),a(53,"option",30),l(54,"Sets"),c(),a(55,"option",31),l(56,"Doses"),c()()()(),a(57,"div",8)(58,"div",9)(59,"label",32),l(60,"Unit Price (RWF) *"),c(),a(61,"input",33),E("ngModelChange",function(s){return h(i),I(o.item.unitPrice,s)||(o.item.unitPrice=s),_(s)}),c()(),a(62,"div",9)(63,"label",34),l(64,"Reorder Level *"),c(),a(65,"input",35),E("ngModelChange",function(s){return h(i),I(o.item.reorderLevel,s)||(o.item.reorderLevel=s),_(s)}),c()()(),a(66,"div",8)(67,"div",9)(68,"label",36),l(69,"Supplier"),c(),a(70,"input",37),E("ngModelChange",function(s){return h(i),I(o.item.supplier,s)||(o.item.supplier=s),_(s)}),c()(),a(71,"div",9)(72,"label",38),l(73,"Storage Location"),c(),a(74,"input",39),E("ngModelChange",function(s){return h(i),I(o.item.location,s)||(o.item.location=s),_(s)}),c()()(),a(75,"div",8)(76,"div",9)(77,"label",40),l(78,"Expiry Date (if applicable)"),c(),a(79,"input",41),E("ngModelChange",function(s){return h(i),I(o.item.expiryDate,s)||(o.item.expiryDate=s),_(s)}),c()()(),a(80,"div",42)(81,"label",43),l(82,"Description"),c(),a(83,"textarea",44),E("ngModelChange",function(s){return h(i),I(o.item.description,s)||(o.item.description=s),_(s)}),c()()(),a(84,"div",45)(85,"button",46),v("click",function(){return h(i),_(o.close())}),l(86,"Cancel"),c(),a(87,"button",47),g(88,"app-lucide-icon",48),l(89," Add Item "),c()()()()()}if(e&2){let i=xe(8);d(14),S("ngModel",o.item.name),d(4),S("ngModel",o.item.sku),d(5),S("ngModel",o.item.category),d(3),m("ngForOf",o.categories),d(3),m("ngIf",o.item.category==="__new__"),d(5),S("ngModel",o.item.quantity),d(4),S("ngModel",o.item.unit),d(23),S("ngModel",o.item.unitPrice),d(4),S("ngModel",o.item.reorderLevel),d(5),S("ngModel",o.item.supplier),d(4),S("ngModel",o.item.location),d(5),S("ngModel",o.item.expiryDate),d(4),S("ngModel",o.item.description),d(4),m("disabled",!i.valid)}},dependencies:[R,ee,G,ie,De,Oe,we,ve,ct,Pe,se,Ie,Xe,_t,he,$e,q],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;padding:20px}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:.25rem;width:100%;max-width:540px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border:none}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.btn-close-custom[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close-custom[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.btn-close-custom[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex:1}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:16px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;transition:all .2s;width:100%;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:40px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.75rem;margin-top:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:1.25rem;border-top:1px solid rgba(27,46,75,.1)}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b!important;border-color:#1b2e4b!important;color:#fff!important;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #1b2e4b33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3498db!important;border-color:#3498db!important;box-shadow:0 4px 12px #1b2e4b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;font-size:.875rem;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c!important;color:#fff!important;border:none!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #e74c3c4d}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b!important;box-shadow:0 4px 12px #e74c3c66}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:12px}.modal-container[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}}"]})};var go=class n{inventoryItems=[{id:"1",name:"Dairy Feed Premium",sku:"DF-001",category:"Animal Feed",quantity:500,unit:"kg",unitPrice:1200,reorderLevel:100,supplier:"Rwanda Feeds Ltd",location:"Warehouse A",status:"In Stock",lastRestocked:new Date("2025-11-20"),description:"High-quality dairy cattle feed"},{id:"2",name:"Milk Containers (20L)",sku:"MC-020",category:"Equipment",quantity:45,unit:"pieces",unitPrice:8500,reorderLevel:20,supplier:"Kigali Plastics",location:"Storage Room B",status:"In Stock",lastRestocked:new Date("2025-11-15")},{id:"3",name:"Veterinary Antibiotics",sku:"VA-101",category:"Medicine",quantity:15,unit:"bottles",unitPrice:25e3,reorderLevel:20,supplier:"VetCare Rwanda",location:"Medicine Cabinet",status:"Low Stock",lastRestocked:new Date("2025-11-10"),expiryDate:new Date("2026-06-15")},{id:"4",name:"Milking Machine Parts",sku:"MMP-050",category:"Equipment",quantity:0,unit:"sets",unitPrice:15e4,reorderLevel:5,supplier:"AgriTech Solutions",location:"Warehouse A",status:"Out of Stock",lastRestocked:new Date("2025-10-01")},{id:"5",name:"Mineral Supplements",sku:"MS-025",category:"Animal Feed",quantity:200,unit:"kg",unitPrice:3500,reorderLevel:50,supplier:"Rwanda Feeds Ltd",location:"Warehouse A",status:"In Stock",lastRestocked:new Date("2025-11-18")},{id:"6",name:"Cleaning Detergent",sku:"CD-010",category:"Supplies",quantity:30,unit:"liters",unitPrice:4500,reorderLevel:25,supplier:"Clean Pro Rwanda",location:"Storage Room B",status:"In Stock",lastRestocked:new Date("2025-11-12")},{id:"7",name:"Rubber Gloves (Box)",sku:"RG-100",category:"Supplies",quantity:8,unit:"boxes",unitPrice:12e3,reorderLevel:10,supplier:"Medical Supplies Co",location:"Storage Room B",status:"Low Stock",lastRestocked:new Date("2025-11-05")},{id:"8",name:"Hay Bales",sku:"HB-500",category:"Animal Feed",quantity:150,unit:"bales",unitPrice:5e3,reorderLevel:30,supplier:"Local Farmers Coop",location:"Barn Storage",status:"In Stock",lastRestocked:new Date("2025-11-22")},{id:"9",name:"Water Trough",sku:"WT-200",category:"Equipment",quantity:12,unit:"pieces",unitPrice:45e3,reorderLevel:5,supplier:"Farm Equipment Ltd",location:"Warehouse A",status:"In Stock",lastRestocked:new Date("2025-10-28")},{id:"10",name:"Deworming Medicine",sku:"DM-050",category:"Medicine",quantity:25,unit:"doses",unitPrice:8e3,reorderLevel:15,supplier:"VetCare Rwanda",location:"Medicine Cabinet",status:"In Stock",lastRestocked:new Date("2025-11-08"),expiryDate:new Date("2026-03-20")}];stockMovements=[{id:"1",itemId:"1",itemName:"Dairy Feed Premium",type:"IN",quantity:200,previousQuantity:300,newQuantity:500,reason:"Restocking from supplier",date:new Date("2025-11-20"),performedBy:"John Doe"},{id:"2",itemId:"3",itemName:"Veterinary Antibiotics",type:"OUT",quantity:5,previousQuantity:20,newQuantity:15,reason:"Used for cattle treatment",date:new Date("2025-11-19"),performedBy:"Jane Smith"},{id:"3",itemId:"4",itemName:"Milking Machine Parts",type:"OUT",quantity:3,previousQuantity:3,newQuantity:0,reason:"Equipment maintenance",date:new Date("2025-11-18"),performedBy:"John Doe"}];inventorySubject=new Ne(this.inventoryItems);getInventoryItems(){return[...this.inventoryItems]}getInventoryItems$(){return this.inventorySubject.asObservable()}getItemById(t){return this.inventoryItems.find(e=>e.id===t)}addItem(t){let e=$(w({},t),{id:(this.inventoryItems.length+1).toString(),status:this.calculateStatus(t.quantity,t.reorderLevel)});return this.inventoryItems.push(e),this.inventorySubject.next(this.inventoryItems),e}updateItem(t,e){let o=this.inventoryItems.findIndex(i=>i.id===t);return o!==-1?(this.inventoryItems[o]=$(w(w({},this.inventoryItems[o]),e),{status:this.calculateStatus(e.quantity??this.inventoryItems[o].quantity,e.reorderLevel??this.inventoryItems[o].reorderLevel)}),this.inventorySubject.next(this.inventoryItems),this.inventoryItems[o]):null}deleteItem(t){let e=this.inventoryItems.findIndex(o=>o.id===t);return e!==-1?(this.inventoryItems.splice(e,1),this.inventorySubject.next(this.inventoryItems),!0):!1}adjustStock(t,e){let o=this.inventoryItems.find(u=>u.id===t);if(!o)return!1;let i=o.quantity,r;e.type==="IN"?r=i+e.quantity:e.type==="OUT"?r=Math.max(0,i-e.quantity):r=e.quantity;let s={id:(this.stockMovements.length+1).toString(),itemId:o.id,itemName:o.name,type:e.type,quantity:e.quantity,previousQuantity:i,newQuantity:r,reason:e.reason,date:new Date,performedBy:"Current User"};return this.stockMovements.push(s),this.updateItem(t,{quantity:r,lastRestocked:e.type==="IN"?new Date:o.lastRestocked}),!0}getStockMovements(t){return t?this.stockMovements.filter(e=>e.itemId===t):[...this.stockMovements]}getCategories(){return[...new Set(this.inventoryItems.map(t=>t.category))]}getStats(){let t=this.inventoryItems;return{totalItems:t.length,totalValue:t.reduce((e,o)=>e+o.quantity*o.unitPrice,0),lowStockItems:t.filter(e=>e.status==="Low Stock").length,outOfStockItems:t.filter(e=>e.status==="Out of Stock").length}}calculateStatus(t,e){return t===0?"Out of Stock":t<=e?"Low Stock":"In Stock"}exportToCSV(){let t=["SKU","Name","Category","Quantity","Unit","Unit Price (RWF)","Reorder Level","Supplier","Location","Status","Last Restocked"],e=this.inventoryItems.map(o=>[o.sku,o.name,o.category,o.quantity.toString(),o.unit,o.unitPrice.toString(),o.reorderLevel.toString(),o.supplier,o.location,o.status,o.lastRestocked.toISOString().split("T")[0]]);return[t.join(","),...e.map(o=>o.join(","))].join(`
`)}importFromCSV(t){let e=t.trim().split(`
`),o=[],i=0;for(let r=1;r<e.length;r++)try{let s=e[r].split(",");if(s.length<10){o.push(`Row ${r+1}: Invalid number of columns`);continue}let u={sku:s[0].trim(),name:s[1].trim(),category:s[2].trim(),quantity:parseInt(s[3].trim(),10),unit:s[4].trim(),unitPrice:parseFloat(s[5].trim()),reorderLevel:parseInt(s[6].trim(),10),supplier:s[7].trim(),location:s[8].trim(),lastRestocked:new Date(s[10]?.trim()||new Date)};this.addItem(u),i++}catch{o.push(`Row ${r+1}: Failed to parse data`)}return{success:i,errors:o}}static \u0275fac=function(e){return new(e||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function S5(n,t){if(n&1&&(a(0,"div",13)(1,"span",14),l(2,"Expiry Date"),c(),a(3,"span",15),l(4),c()()),n&2){let e=f();d(3),H("warning",e.isExpiringSoon(e.item.expiryDate)),d(),T(" ",e.formatDate(e.item.expiryDate)," ")}}function E5(n,t){if(n&1&&(a(0,"div",26)(1,"span",14),l(2,"Description"),c(),a(3,"p"),l(4),c()()),n&2){let e=f();d(4),b(e.item.description)}}function I5(n,t){if(n&1&&(a(0,"div",29)(1,"div",30),g(2,"app-lucide-icon",31),c(),a(3,"div",32)(4,"span",33),l(5),c(),a(6,"span",34),l(7),c()(),a(8,"div",35),l(9),c(),a(10,"div",36),l(11),c()()),n&2){let e=t.$implicit,o=f(2);d(),Fe(e.type.toLowerCase()),d(),m("name",e.type==="IN"?"arrow-down":e.type==="OUT"?"arrow-up":"refresh-cw"),d(3),b(o.getMovementLabel(e.type)),d(2),b(e.reason),d(),Fe(e.type.toLowerCase()),d(),ke(" ",e.type==="IN"?"+":e.type==="OUT"?"-":"","",e.quantity," "),d(2),b(o.formatDate(e.date))}}function D5(n,t){if(n&1&&(a(0,"div",27),M(1,I5,12,10,"div",28),c()),n&2){let e=f();d(),m("ngForOf",e.movements)}}function k5(n,t){n&1&&(a(0,"p",37),l(1,"No stock movements recorded"),c())}var tp=class n{constructor(t){this.inventoryService=t}item;modalClosed=new z;editRequested=new z;movements=[];ngOnInit(){this.movements=this.inventoryService.getStockMovements(this.item.id)}close(){this.modalClosed.emit()}edit(){this.editRequested.emit(this.item)}getStatusClass(t){switch(t){case"In Stock":return"in-stock";case"Low Stock":return"low-stock";case"Out of Stock":return"out-of-stock";default:return""}}getMovementLabel(t){switch(t){case"IN":return"Stock In";case"OUT":return"Stock Out";case"ADJUSTMENT":return"Adjustment";default:return t}}isExpiringSoon(t){let e=new Date(t),o=new Date;return Math.ceil((e.getTime()-o.getTime())/(1e3*60*60*24))<=30}formatCurrency(t){return new Intl.NumberFormat("rw-RW",{style:"currency",currency:"RWF"}).format(t)}formatDate(t){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(t))}static \u0275fac=function(e){return new(e||n)(D(go))};static \u0275cmp=N({type:n,selectors:[["app-view-inventory-modal"]],inputs:{item:"item"},outputs:{modalClosed:"modalClosed",editRequested:"editRequested"},decls:72,vars:19,consts:[[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","x","size","20px"],[1,"modal-body"],[1,"item-header"],[1,"item-icon"],["name","box","size","32px"],[1,"item-title"],[1,"sku"],[1,"status-badge"],[1,"details-grid"],[1,"detail-item"],[1,"label"],[1,"value"],[1,"value","highlight"],["class","detail-item",4,"ngIf"],["class","description",4,"ngIf"],[1,"movements-section"],["class","movements-list",4,"ngIf"],["class","no-movements",4,"ngIf"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],["name","edit","size","16px"],[1,"description"],[1,"movements-list"],["class","movement-item",4,"ngFor","ngForOf"],[1,"movement-item"],[1,"movement-icon"],["size","16px",3,"name"],[1,"movement-details"],[1,"movement-type"],[1,"movement-reason"],[1,"movement-quantity"],[1,"movement-date"],[1,"no-movements"]],template:function(e,o){e&1&&(a(0,"div",0),v("click",function(){return o.close()}),a(1,"div",1),v("click",function(r){return r.stopPropagation()}),a(2,"div",2)(3,"h2"),l(4,"Item Details"),c(),a(5,"button",3),v("click",function(){return o.close()}),g(6,"app-lucide-icon",4),c()(),a(7,"div",5)(8,"div",6)(9,"div",7),g(10,"app-lucide-icon",8),c(),a(11,"div",9)(12,"h3"),l(13),c(),a(14,"span",10),l(15),c()(),a(16,"span",11),l(17),c()(),a(18,"div",12)(19,"div",13)(20,"span",14),l(21,"Category"),c(),a(22,"span",15),l(23),c()(),a(24,"div",13)(25,"span",14),l(26,"Quantity"),c(),a(27,"span",15),l(28),c()(),a(29,"div",13)(30,"span",14),l(31,"Unit Price"),c(),a(32,"span",15),l(33),c()(),a(34,"div",13)(35,"span",14),l(36,"Total Value"),c(),a(37,"span",16),l(38),c()(),a(39,"div",13)(40,"span",14),l(41,"Reorder Level"),c(),a(42,"span",15),l(43),c()(),a(44,"div",13)(45,"span",14),l(46,"Supplier"),c(),a(47,"span",15),l(48),c()(),a(49,"div",13)(50,"span",14),l(51,"Location"),c(),a(52,"span",15),l(53),c()(),a(54,"div",13)(55,"span",14),l(56,"Last Restocked"),c(),a(57,"span",15),l(58),c()(),M(59,S5,5,3,"div",17),c(),M(60,E5,5,1,"div",18),a(61,"div",19)(62,"h4"),l(63,"Recent Stock Movements"),c(),M(64,D5,2,1,"div",20)(65,k5,2,0,"p",21),c()(),a(66,"div",22)(67,"button",23),v("click",function(){return o.close()}),l(68,"Close"),c(),a(69,"button",24),v("click",function(){return o.edit()}),g(70,"app-lucide-icon",25),l(71," Edit Item "),c()()()()),e&2&&(d(13),b(o.item.name),d(2),T("SKU: ",o.item.sku),d(),Fe(o.getStatusClass(o.item.status)),d(),T(" ",o.item.status," "),d(6),b(o.item.category),d(5),ke("",o.item.quantity," ",o.item.unit),d(5),b(o.formatCurrency(o.item.unitPrice)),d(5),b(o.formatCurrency(o.item.quantity*o.item.unitPrice)),d(5),ke("",o.item.reorderLevel," ",o.item.unit),d(5),b(o.item.supplier||"-"),d(5),b(o.item.location||"-"),d(5),b(o.formatDate(o.item.lastRestocked)),d(),m("ngIf",o.item.expiryDate),d(),m("ngIf",o.item.description),d(4),m("ngIf",o.movements.length>0),d(),m("ngIf",o.movements.length===0))},dependencies:[R,ee,G,q],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;padding:20px}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:.25rem;width:100%;max-width:540px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border:none}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.btn-close-custom[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close-custom[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.btn-close-custom[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex:1}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:16px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;transition:all .2s;width:100%;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:40px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.75rem;margin-top:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:1.25rem;border-top:1px solid rgba(27,46,75,.1)}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b!important;border-color:#1b2e4b!important;color:#fff!important;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #1b2e4b33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3498db!important;border-color:#3498db!important;box-shadow:0 4px 12px #1b2e4b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;font-size:.875rem;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c!important;color:#fff!important;border:none!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #e74c3c4d}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b!important;box-shadow:0 4px 12px #e74c3c66}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:12px}.modal-container[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}}.item-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid rgba(27,46,75,.1)}.item-header[_ngcontent-%COMP%]   .item-icon[_ngcontent-%COMP%]{width:56px;height:56px;background:#1b2e4b14;border-radius:.25rem;display:flex;align-items:center;justify-content:center;color:#1b2e4b}.item-header[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{flex:1}.item-header[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0 0 4px}.item-header[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]   .sku[_ngcontent-%COMP%]{font-size:.8125rem;color:#6c757d}.item-header[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:.4em .6em;border-radius:.25rem;font-size:.75rem;font-weight:600}.item-header[_ngcontent-%COMP%]   .status-badge.in-stock[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.item-header[_ngcontent-%COMP%]   .status-badge.low-stock[_ngcontent-%COMP%]{background:#fef3c7;color:#92400e}.item-header[_ngcontent-%COMP%]   .status-badge.out-of-stock[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-bottom:20px}@media (max-width: 480px){.details-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;text-transform:uppercase;letter-spacing:.5px;font-weight:600}.details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#1e293b}.details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value.highlight[_ngcontent-%COMP%]{color:#1b2e4b;font-weight:600}.details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value.warning[_ngcontent-%COMP%]{color:#f59e0b}.description[_ngcontent-%COMP%]{margin-bottom:20px;padding:12px;background:#f8f9fa;border-radius:.25rem}.description[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;text-transform:uppercase;letter-spacing:.5px;font-weight:600;display:block;margin-bottom:8px}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:#1e293b;line-height:1.5}.movements-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b;margin:0 0 12px;text-transform:uppercase;letter-spacing:.5px}.movements-section[_ngcontent-%COMP%]   .movements-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.movements-section[_ngcontent-%COMP%]   .movement-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:10px 12px;background:#f8f9fa;border-radius:.25rem}.movements-section[_ngcontent-%COMP%]   .movement-item[_ngcontent-%COMP%]   .movement-icon[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:.25rem;display:flex;align-items:center;justify-content:center}.movements-section[_ngcontent-%COMP%]   .movement-item[_ngcontent-%COMP%]   .movement-icon.in[_ngcontent-%COMP%]{background:#d1fae5;color:#065f46}.movements-section[_ngcontent-%COMP%]   .movement-item[_ngcontent-%COMP%]   .movement-icon.out[_ngcontent-%COMP%]{background:#fee2e2;color:#dc2626}.movements-section[_ngcontent-%COMP%]   .movement-item[_ngcontent-%COMP%]   .movement-icon.adjustment[_ngcontent-%COMP%]{background:#dbeafe;color:#1e40af}.movements-section[_ngcontent-%COMP%]   .movement-item[_ngcontent-%COMP%]   .movement-details[_ngcontent-%COMP%]{flex:1}.movements-section[_ngcontent-%COMP%]   .movement-item[_ngcontent-%COMP%]   .movement-details[_ngcontent-%COMP%]   .movement-type[_ngcontent-%COMP%]{display:block;font-size:.8125rem;font-weight:600;color:#1e293b}.movements-section[_ngcontent-%COMP%]   .movement-item[_ngcontent-%COMP%]   .movement-details[_ngcontent-%COMP%]   .movement-reason[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d}.movements-section[_ngcontent-%COMP%]   .movement-item[_ngcontent-%COMP%]   .movement-quantity[_ngcontent-%COMP%]{font-weight:600;font-size:.875rem}.movements-section[_ngcontent-%COMP%]   .movement-item[_ngcontent-%COMP%]   .movement-quantity.in[_ngcontent-%COMP%]{color:#065f46}.movements-section[_ngcontent-%COMP%]   .movement-item[_ngcontent-%COMP%]   .movement-quantity.out[_ngcontent-%COMP%]{color:#dc2626}.movements-section[_ngcontent-%COMP%]   .movement-item[_ngcontent-%COMP%]   .movement-quantity.adjustment[_ngcontent-%COMP%]{color:#1e40af}.movements-section[_ngcontent-%COMP%]   .movement-item[_ngcontent-%COMP%]   .movement-date[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d}.movements-section[_ngcontent-%COMP%]   .no-movements[_ngcontent-%COMP%]{text-align:center;color:#6c757d;font-size:.875rem;padding:16px}"]})};function T5(n,t){if(n&1&&(a(0,"option",47),l(1),c()),n&2){let e=t.$implicit;m("value",e),d(),b(e)}}var np=class n{item;categories=[];itemUpdated=new z;modalClosed=new z;editItem={};expiryDateStr="";ngOnInit(){this.editItem=w({},this.item),this.item.expiryDate&&(this.expiryDateStr=new Date(this.item.expiryDate).toISOString().split("T")[0])}onSubmit(){this.expiryDateStr&&(this.editItem.expiryDate=new Date(this.expiryDateStr)),this.itemUpdated.emit(this.editItem)}close(){this.modalClosed.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-edit-inventory-modal"]],inputs:{item:"item",categories:"categories"},outputs:{itemUpdated:"itemUpdated",modalClosed:"modalClosed"},decls:84,vars:12,consts:[["itemForm","ngForm"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","x","size","20px"],[3,"ngSubmit"],[1,"modal-body"],[1,"form-row"],[1,"form-group"],["for","name"],["type","text","id","name","name","name","required","",3,"ngModelChange","ngModel"],["for","sku"],["type","text","id","sku","name","sku","required","",3,"ngModelChange","ngModel"],["for","category"],["id","category","name","category","required","",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","unit"],["id","unit","name","unit","required","",3,"ngModelChange","ngModel"],["value","kg"],["value","liters"],["value","pieces"],["value","boxes"],["value","bottles"],["value","bales"],["value","sets"],["value","doses"],["for","unitPrice"],["type","number","id","unitPrice","name","unitPrice","required","","min","0",3,"ngModelChange","ngModel"],["for","reorderLevel"],["type","number","id","reorderLevel","name","reorderLevel","required","","min","0",3,"ngModelChange","ngModel"],["for","supplier"],["type","text","id","supplier","name","supplier",3,"ngModelChange","ngModel"],["for","location"],["type","text","id","location","name","location",3,"ngModelChange","ngModel"],["for","expiryDate"],["type","date","id","expiryDate","name","expiryDate",3,"ngModelChange","ngModel"],[1,"form-group","full-width"],["for","description"],["id","description","name","description","rows","3",3,"ngModelChange","ngModel"],[1,"info-note"],["name","info","size","16px"],[1,"modal-footer"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary",3,"disabled"],["name","check","size","16px"],[3,"value"]],template:function(e,o){if(e&1){let i=k();a(0,"div",1),v("click",function(){return h(i),_(o.close())}),a(1,"div",2),v("click",function(s){return h(i),_(s.stopPropagation())}),a(2,"div",3)(3,"h2"),l(4,"Edit Item"),c(),a(5,"button",4),v("click",function(){return h(i),_(o.close())}),g(6,"app-lucide-icon",5),c()(),a(7,"form",6,0),v("ngSubmit",function(){return h(i),_(o.onSubmit())}),a(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),l(13,"Item Name *"),c(),a(14,"input",11),E("ngModelChange",function(s){return h(i),I(o.editItem.name,s)||(o.editItem.name=s),_(s)}),c()(),a(15,"div",9)(16,"label",12),l(17,"SKU *"),c(),a(18,"input",13),E("ngModelChange",function(s){return h(i),I(o.editItem.sku,s)||(o.editItem.sku=s),_(s)}),c()()(),a(19,"div",8)(20,"div",9)(21,"label",14),l(22,"Category *"),c(),a(23,"select",15),E("ngModelChange",function(s){return h(i),I(o.editItem.category,s)||(o.editItem.category=s),_(s)}),a(24,"option",16),l(25,"Select category"),c(),M(26,T5,2,2,"option",17),c()(),a(27,"div",9)(28,"label",18),l(29,"Unit *"),c(),a(30,"select",19),E("ngModelChange",function(s){return h(i),I(o.editItem.unit,s)||(o.editItem.unit=s),_(s)}),a(31,"option",20),l(32,"Kilograms (kg)"),c(),a(33,"option",21),l(34,"Liters"),c(),a(35,"option",22),l(36,"Pieces"),c(),a(37,"option",23),l(38,"Boxes"),c(),a(39,"option",24),l(40,"Bottles"),c(),a(41,"option",25),l(42,"Bales"),c(),a(43,"option",26),l(44,"Sets"),c(),a(45,"option",27),l(46,"Doses"),c()()()(),a(47,"div",8)(48,"div",9)(49,"label",28),l(50,"Unit Price (RWF) *"),c(),a(51,"input",29),E("ngModelChange",function(s){return h(i),I(o.editItem.unitPrice,s)||(o.editItem.unitPrice=s),_(s)}),c()(),a(52,"div",9)(53,"label",30),l(54,"Reorder Level *"),c(),a(55,"input",31),E("ngModelChange",function(s){return h(i),I(o.editItem.reorderLevel,s)||(o.editItem.reorderLevel=s),_(s)}),c()()(),a(56,"div",8)(57,"div",9)(58,"label",32),l(59,"Supplier"),c(),a(60,"input",33),E("ngModelChange",function(s){return h(i),I(o.editItem.supplier,s)||(o.editItem.supplier=s),_(s)}),c()(),a(61,"div",9)(62,"label",34),l(63,"Storage Location"),c(),a(64,"input",35),E("ngModelChange",function(s){return h(i),I(o.editItem.location,s)||(o.editItem.location=s),_(s)}),c()()(),a(65,"div",8)(66,"div",9)(67,"label",36),l(68,"Expiry Date"),c(),a(69,"input",37),E("ngModelChange",function(s){return h(i),I(o.expiryDateStr,s)||(o.expiryDateStr=s),_(s)}),c()()(),a(70,"div",38)(71,"label",39),l(72,"Description"),c(),a(73,"textarea",40),E("ngModelChange",function(s){return h(i),I(o.editItem.description,s)||(o.editItem.description=s),_(s)}),c()(),a(74,"div",41),g(75,"app-lucide-icon",42),a(76,"span"),l(77,'To change quantity, use the "Adjust Stock" feature for proper tracking.'),c()()(),a(78,"div",43)(79,"button",44),v("click",function(){return h(i),_(o.close())}),l(80,"Cancel"),c(),a(81,"button",45),g(82,"app-lucide-icon",46),l(83," Save Changes "),c()()()()()}if(e&2){let i=xe(8);d(14),S("ngModel",o.editItem.name),d(4),S("ngModel",o.editItem.sku),d(5),S("ngModel",o.editItem.category),d(3),m("ngForOf",o.categories),d(4),S("ngModel",o.editItem.unit),d(21),S("ngModel",o.editItem.unitPrice),d(4),S("ngModel",o.editItem.reorderLevel),d(5),S("ngModel",o.editItem.supplier),d(4),S("ngModel",o.editItem.location),d(5),S("ngModel",o.expiryDateStr),d(4),S("ngModel",o.editItem.description),d(8),m("disabled",!i.valid)}},dependencies:[R,ee,ie,De,Oe,we,ve,ct,Pe,se,Ie,Xe,_t,he,$e,q],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;padding:20px}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:.25rem;width:100%;max-width:540px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border:none}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.btn-close-custom[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close-custom[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.btn-close-custom[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex:1}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:16px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;transition:all .2s;width:100%;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:40px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.75rem;margin-top:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:1.25rem;border-top:1px solid rgba(27,46,75,.1)}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b!important;border-color:#1b2e4b!important;color:#fff!important;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #1b2e4b33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3498db!important;border-color:#3498db!important;box-shadow:0 4px 12px #1b2e4b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;font-size:.875rem;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c!important;color:#fff!important;border:none!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #e74c3c4d}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b!important;box-shadow:0 4px 12px #e74c3c66}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:12px}.modal-container[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}}.info-note[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 12px;background:#dbeafe;border-radius:.25rem;color:#1e40af;font-size:.8125rem;margin-top:8px}"]})};function A5(n,t){if(n&1&&(a(0,"small",33),l(1),c()),n&2){let e=f();d(),ke(" Maximum: ",e.item.quantity," ",e.item.unit," ")}}function N5(n,t){if(n&1&&(a(0,"div",34)(1,"span",11),l(2,"New Stock Level:"),c(),a(3,"span",12),l(4),c()()),n&2){let e=f();d(3),H("warning",e.getNewQuantity()<=e.item.reorderLevel),d(),ke(" ",e.getNewQuantity()," ",e.item.unit," ")}}function R5(n,t){if(n&1&&(a(0,"option",39),l(1),c()),n&2){let e=t.$implicit;m("value",e),d(),b(e)}}function F5(n,t){if(n&1){let e=k();a(0,"select",35),E("ngModelChange",function(i){h(e);let r=f();return I(r.adjustment.reason,i)||(r.adjustment.reason=i),_(i)}),a(1,"option",36),l(2,"Select reason"),c(),M(3,R5,2,2,"option",37),a(4,"option",38),l(5,"Other"),c()()}if(n&2){let e=f();S("ngModel",e.adjustment.reason),d(3),m("ngForOf",e.getReasons())}}function L5(n,t){if(n&1){let e=k();a(0,"input",40),E("ngModelChange",function(i){h(e);let r=f();return I(r.adjustment.reason,i)||(r.adjustment.reason=i),_(i)}),c()}if(n&2){let e=f();S("ngModel",e.adjustment.reason)}}function V5(n,t){if(n&1){let e=k();a(0,"div",18)(1,"label",41),l(2,"Specify Reason *"),c(),a(3,"input",42),E("ngModelChange",function(i){h(e);let r=f();return I(r.customReason,i)||(r.customReason=i),_(i)}),c()()}if(n&2){let e=f();d(3),S("ngModel",e.customReason)}}var op=class n{item;stockAdjusted=new z;modalClosed=new z;adjustment={type:"IN",quantity:0,reason:""};customReason="";stockInReasons=["Restocking from supplier","Purchase order received","Transfer from another location","Return from customer","Found during inventory count"];stockOutReasons=["Used for operations","Sold to customer","Transfer to another location","Damaged/Expired","Lost/Missing"];getReasons(){return this.adjustment.type==="IN"?this.stockInReasons:this.stockOutReasons}getNewQuantity(){return this.adjustment.type==="IN"?this.item.quantity+this.adjustment.quantity:this.adjustment.type==="OUT"?Math.max(0,this.item.quantity-this.adjustment.quantity):this.adjustment.quantity}onSubmit(){let t=this.adjustment.reason==="__other__"?this.customReason:this.adjustment.reason;this.stockAdjusted.emit({itemId:this.item.id,type:this.adjustment.type,quantity:this.adjustment.quantity,reason:t})}close(){this.modalClosed.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-stock-adjustment-modal"]],inputs:{item:"item"},outputs:{stockAdjusted:"stockAdjusted",modalClosed:"modalClosed"},decls:58,vars:19,consts:[["adjustForm","ngForm"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","x","size","20px"],[3,"ngSubmit"],[1,"modal-body"],[1,"current-stock"],[1,"stock-item-name"],[1,"stock-info"],[1,"label"],[1,"value"],[1,"adjustment-types"],["type","button",1,"type-btn",3,"click"],["name","arrow-down","size","20px"],["name","arrow-up","size","20px"],["name","refresh-cw","size","20px"],[1,"form-group"],["for","quantity"],[1,"quantity-input"],["type","number","id","quantity","name","quantity","required","","min","0",3,"ngModelChange","ngModel","max"],[1,"unit"],["class","hint",4,"ngIf"],["class","preview",4,"ngIf"],["for","reason"],["id","reason","name","reason","required","",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","id","reason","name","reason","required","","placeholder","Enter reason for adjustment",3,"ngModel","ngModelChange",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary",3,"disabled"],["name","check","size","16px"],[1,"hint"],[1,"preview"],["id","reason","name","reason","required","",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","__other__"],[3,"value"],["type","text","id","reason","name","reason","required","","placeholder","Enter reason for adjustment",3,"ngModelChange","ngModel"],["for","customReason"],["type","text","id","customReason","name","customReason","placeholder","Enter reason",3,"ngModelChange","ngModel"]],template:function(e,o){if(e&1){let i=k();a(0,"div",1),v("click",function(){return h(i),_(o.close())}),a(1,"div",2),v("click",function(s){return h(i),_(s.stopPropagation())}),a(2,"div",3)(3,"h2"),l(4,"Adjust Stock"),c(),a(5,"button",4),v("click",function(){return h(i),_(o.close())}),g(6,"app-lucide-icon",5),c()(),a(7,"form",6,0),v("ngSubmit",function(){return h(i),_(o.onSubmit())}),a(9,"div",7)(10,"div",8)(11,"div",9),l(12),c(),a(13,"div",10)(14,"span",11),l(15,"Current Stock:"),c(),a(16,"span",12),l(17),c()()(),a(18,"div",13)(19,"button",14),v("click",function(){return h(i),_(o.adjustment.type="IN")}),g(20,"app-lucide-icon",15),a(21,"span"),l(22,"Stock In"),c(),a(23,"small"),l(24,"Add to inventory"),c()(),a(25,"button",14),v("click",function(){return h(i),_(o.adjustment.type="OUT")}),g(26,"app-lucide-icon",16),a(27,"span"),l(28,"Stock Out"),c(),a(29,"small"),l(30,"Remove from inventory"),c()(),a(31,"button",14),v("click",function(){return h(i),_(o.adjustment.type="ADJUSTMENT")}),g(32,"app-lucide-icon",17),a(33,"span"),l(34,"Set Quantity"),c(),a(35,"small"),l(36,"Set exact amount"),c()()(),a(37,"div",18)(38,"label",19),l(39),c(),a(40,"div",20)(41,"input",21),E("ngModelChange",function(s){return h(i),I(o.adjustment.quantity,s)||(o.adjustment.quantity=s),_(s)}),c(),a(42,"span",22),l(43),c()(),M(44,A5,2,2,"small",23),c(),M(45,N5,5,4,"div",24),a(46,"div",18)(47,"label",25),l(48,"Reason *"),c(),M(49,F5,6,2,"select",26)(50,L5,1,1,"input",27),c(),M(51,V5,4,1,"div",28),c(),a(52,"div",29)(53,"button",30),v("click",function(){return h(i),_(o.close())}),l(54,"Cancel"),c(),a(55,"button",31),g(56,"app-lucide-icon",32),l(57," Apply Adjustment "),c()()()()()}if(e&2){let i=xe(8);d(12),b(o.item.name),d(5),ke("",o.item.quantity," ",o.item.unit),d(2),H("active",o.adjustment.type==="IN"),d(6),H("active",o.adjustment.type==="OUT"),d(6),H("active",o.adjustment.type==="ADJUSTMENT"),d(8),T(" ",o.adjustment.type==="ADJUSTMENT"?"New Quantity":"Quantity"," * "),d(2),S("ngModel",o.adjustment.quantity),m("max",o.adjustment.type==="OUT"?o.item.quantity:null),d(2),b(o.item.unit),d(),m("ngIf",o.adjustment.type==="OUT"),d(),m("ngIf",o.adjustment.quantity>0),d(4),m("ngIf",o.adjustment.type!=="ADJUSTMENT"),d(),m("ngIf",o.adjustment.type==="ADJUSTMENT"),d(),m("ngIf",o.adjustment.reason==="__other__"),d(4),m("disabled",!i.valid||o.adjustment.quantity<=0)}},dependencies:[R,ee,G,ie,De,Oe,we,ve,ct,Pe,se,Ie,Xe,_t,o0,he,$e,q],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;padding:20px}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:.25rem;width:100%;max-width:540px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border:none}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.btn-close-custom[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close-custom[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.btn-close-custom[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex:1}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:16px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;transition:all .2s;width:100%;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:40px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.75rem;margin-top:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:1.25rem;border-top:1px solid rgba(27,46,75,.1)}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b!important;border-color:#1b2e4b!important;color:#fff!important;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #1b2e4b33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3498db!important;border-color:#3498db!important;box-shadow:0 4px 12px #1b2e4b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;font-size:.875rem;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c!important;color:#fff!important;border:none!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #e74c3c4d}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b!important;box-shadow:0 4px 12px #e74c3c66}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:12px}.modal-container[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}}.modal-container[_ngcontent-%COMP%]{max-width:500px}.current-stock[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:.25rem;padding:12px 16px;margin-bottom:20px}.current-stock[_ngcontent-%COMP%]   .stock-item-name[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#1e293b;margin-bottom:8px}.current-stock[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.current-stock[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#6c757d;font-size:.8125rem}.current-stock[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:600;color:#1b2e4b;font-size:1.125rem}.adjustment-types[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-bottom:20px}@media (max-width: 480px){.adjustment-types[_ngcontent-%COMP%]{grid-template-columns:1fr}}.adjustment-types[_ngcontent-%COMP%]   .type-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:6px;padding:12px 10px;border:1px solid #dee2e6;border-radius:.25rem;background:#fff;cursor:pointer;transition:all .2s}.adjustment-types[_ngcontent-%COMP%]   .type-btn[_ngcontent-%COMP%]:hover{border-color:#1b2e4b}.adjustment-types[_ngcontent-%COMP%]   .type-btn.active[_ngcontent-%COMP%]{border-color:#1b2e4b;background:#1b2e4b0d}.adjustment-types[_ngcontent-%COMP%]   .type-btn[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#6c757d}.adjustment-types[_ngcontent-%COMP%]   .type-btn.active[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#1b2e4b}.adjustment-types[_ngcontent-%COMP%]   .type-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:600;color:#1e293b}.adjustment-types[_ngcontent-%COMP%]   .type-btn[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.6875rem;color:#6c757d;text-align:center}.quantity-input[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.quantity-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1}.quantity-input[_ngcontent-%COMP%]   .unit[_ngcontent-%COMP%]{padding:.5rem .875rem;background:#f1f5f9;border-radius:.25rem;font-size:.875rem;color:#6c757d;font-weight:500}.preview[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:#d1fae5;border-radius:.25rem;margin-bottom:16px}.preview[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.8125rem;color:#065f46}.preview[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:#065f46}.preview[_ngcontent-%COMP%]   .value.warning[_ngcontent-%COMP%]{color:#f59e0b}.hint[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;margin-top:4px}"]})};var ip=class n{item;itemDeleted=new z;modalClosed=new z;confirmDelete(){this.itemDeleted.emit(this.item)}close(){this.modalClosed.emit()}formatCurrency(t){return new Intl.NumberFormat("rw-RW",{style:"currency",currency:"RWF"}).format(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=N({type:n,selectors:[["app-delete-inventory-modal"]],inputs:{item:"item"},outputs:{itemDeleted:"itemDeleted",modalClosed:"modalClosed"},decls:37,vars:5,consts:[[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"warning-icon"],["name","alert-triangle","size","32px"],[1,"modal-body"],[1,"message"],[1,"sub-message"],[1,"item-info"],[1,"info-row"],[1,"label"],[1,"value"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-danger",3,"click"],["name","trash-2","size","16px"]],template:function(e,o){e&1&&(a(0,"div",0),v("click",function(){return o.close()}),a(1,"div",1),v("click",function(r){return r.stopPropagation()}),a(2,"div",2)(3,"div",3),g(4,"app-lucide-icon",4),c(),a(5,"h2"),l(6,"Delete Item"),c()(),a(7,"div",5)(8,"p",6),l(9," Are you sure you want to delete "),a(10,"strong"),l(11),c(),l(12,"? "),c(),a(13,"p",7),l(14," This action cannot be undone. All stock movement history for this item will also be removed. "),c(),a(15,"div",8)(16,"div",9)(17,"span",10),l(18,"SKU:"),c(),a(19,"span",11),l(20),c()(),a(21,"div",9)(22,"span",10),l(23,"Current Stock:"),c(),a(24,"span",11),l(25),c()(),a(26,"div",9)(27,"span",10),l(28,"Value:"),c(),a(29,"span",11),l(30),c()()()(),a(31,"div",12)(32,"button",13),v("click",function(){return o.close()}),l(33,"Cancel"),c(),a(34,"button",14),v("click",function(){return o.confirmDelete()}),g(35,"app-lucide-icon",15),l(36," Delete Item "),c()()()()),e&2&&(d(11),b(o.item.name),d(9),b(o.item.sku),d(5),ke("",o.item.quantity," ",o.item.unit),d(5),b(o.formatCurrency(o.item.quantity*o.item.unitPrice)))},dependencies:[R,q],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;padding:20px}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:.25rem;width:100%;max-width:540px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border:none}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.btn-close-custom[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close-custom[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.btn-close-custom[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex:1}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:16px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;transition:all .2s;width:100%;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:40px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.75rem;margin-top:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:1.25rem;border-top:1px solid rgba(27,46,75,.1)}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b!important;border-color:#1b2e4b!important;color:#fff!important;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #1b2e4b33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3498db!important;border-color:#3498db!important;box-shadow:0 4px 12px #1b2e4b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;font-size:.875rem;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c!important;color:#fff!important;border:none!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #e74c3c4d}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b!important;box-shadow:0 4px 12px #e74c3c66}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:12px}.modal-container[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}}.modal-container[_ngcontent-%COMP%]{max-width:420px}.modal-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:24px 24px 16px;text-align:center;border-bottom:none}.modal-header[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{width:56px;height:56px;background:#fee2e2;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#e74c3c;margin-bottom:12px}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.modal-body[_ngcontent-%COMP%]{padding:0 24px 24px;text-align:center}.modal-body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{font-size:.9375rem;color:#1e293b;margin:0 0 8px}.modal-body[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#e74c3c}.modal-body[_ngcontent-%COMP%]   .sub-message[_ngcontent-%COMP%]{font-size:.8125rem;color:#6c757d;margin:0 0 16px}.modal-body[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:.25rem;padding:12px 16px;text-align:left}.modal-body[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:6px 0}.modal-body[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid rgba(27,46,75,.1)}.modal-body[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;text-transform:uppercase;letter-spacing:.5px}.modal-body[_ngcontent-%COMP%]   .item-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:500;color:#1e293b}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:12px;padding:16px 24px;border-top:1px solid rgba(27,46,75,.1)}.modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{flex:1}"]})};function j5(n,t){if(n&1){let e=k();a(0,"div",24),g(1,"app-lucide-icon",25),a(2,"span",26),l(3),c(),a(4,"button",27),v("click",function(){h(e);let i=f();return _(i.removeFile())}),g(5,"app-lucide-icon",28),c()()}if(n&2){let e=f();d(3),b(e.selectedFile.name)}}function z5(n,t){if(n&1&&(a(0,"div",32),g(1,"app-lucide-icon",33),l(2),c()),n&2){let e=f(2);d(2),T(" ",e.importResult.success," items imported successfully ")}}function B5(n,t){if(n&1&&(a(0,"li"),l(1),c()),n&2){let e=t.$implicit;d(),b(e)}}function U5(n,t){if(n&1&&(a(0,"div",34),g(1,"app-lucide-icon",35),l(2),a(3,"ul"),M(4,B5,2,1,"li",36),c()()),n&2){let e=f(2);d(2),T(" ",e.importResult.errors.length," errors occurred "),d(2),m("ngForOf",e.importResult.errors)}}function H5(n,t){if(n&1&&(a(0,"div",29),M(1,z5,3,1,"div",30)(2,U5,5,2,"div",31),c()),n&2){let e=f();d(),m("ngIf",e.importResult.success>0),d(),m("ngIf",e.importResult.errors.length>0)}}function $5(n,t){n&1&&g(0,"app-lucide-icon",37)}function W5(n,t){n&1&&(a(0,"span"),l(1,"Importing..."),c())}function q5(n,t){n&1&&(a(0,"span"),l(1,"Import"),c())}var rp=class n{constructor(t){this.inventoryService=t}importComplete=new z;modalClosed=new z;selectedFile=null;isDragover=!1;importing=!1;importResult=null;onDragOver(t){t.preventDefault(),this.isDragover=!0}onDragLeave(t){t.preventDefault(),this.isDragover=!1}onDrop(t){t.preventDefault(),this.isDragover=!1;let e=t.dataTransfer?.files;e&&e.length>0&&this.handleFile(e[0])}onFileSelected(t){let e=t.target.files[0];e&&this.handleFile(e)}handleFile(t){t.type==="text/csv"||t.name.endsWith(".csv")?(this.selectedFile=t,this.importResult=null):alert("Please select a CSV file")}removeFile(){this.selectedFile=null,this.importResult=null}importFile(){return jn(this,null,function*(){if(this.selectedFile){this.importing=!0;try{let t=yield this.selectedFile.text();this.importResult=this.inventoryService.importFromCSV(t),this.importResult.success>0&&setTimeout(()=>{this.importComplete.emit(this.importResult)},1500)}catch{this.importResult={success:0,errors:["Failed to read file"]}}this.importing=!1}})}downloadTemplate(){let t=`SKU,Name,Category,Quantity,Unit,Unit Price,Reorder Level,Supplier,Location,Status,Last Restocked
DF-001,Dairy Feed Premium,Animal Feed,100,kg,1200,20,Rwanda Feeds Ltd,Warehouse A,In Stock,2025-11-20`,e=new Blob([t],{type:"text/csv"}),o=window.URL.createObjectURL(e),i=document.createElement("a");i.href=o,i.download="inventory_template.csv",i.click(),window.URL.revokeObjectURL(o)}close(){this.modalClosed.emit()}static \u0275fac=function(e){return new(e||n)(D(go))};static \u0275cmp=N({type:n,selectors:[["app-import-inventory-modal"]],outputs:{importComplete:"importComplete",modalClosed:"modalClosed"},decls:42,vars:8,consts:[["fileInput",""],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","x","size","20px"],[1,"modal-body"],[1,"upload-area",3,"dragover","dragleave","drop","click"],["type","file","accept",".csv","hidden","",3,"change"],[1,"upload-icon"],["name","upload-cloud","size","48px"],[1,"upload-text"],[1,"upload-subtext"],["class","selected-file",4,"ngIf"],["class","import-result",4,"ngIf"],[1,"template-section"],[1,"btn-link",3,"click"],["name","download","size","16px"],[1,"format-info"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click","disabled"],["name","upload","size","16px",4,"ngIf"],[4,"ngIf"],[1,"selected-file"],["name","file-text","size","20px"],[1,"file-name"],[1,"remove-btn",3,"click"],["name","x","size","16px"],[1,"import-result"],["class","result-success",4,"ngIf"],["class","result-errors",4,"ngIf"],[1,"result-success"],["name","check-circle","size","16px"],[1,"result-errors"],["name","alert-circle","size","16px"],[4,"ngFor","ngForOf"],["name","upload","size","16px"]],template:function(e,o){if(e&1){let i=k();a(0,"div",1),v("click",function(){return h(i),_(o.close())}),a(1,"div",2),v("click",function(s){return h(i),_(s.stopPropagation())}),a(2,"div",3)(3,"h2"),l(4,"Import Inventory"),c(),a(5,"button",4),v("click",function(){return h(i),_(o.close())}),g(6,"app-lucide-icon",5),c()(),a(7,"div",6)(8,"div",7),v("dragover",function(s){return h(i),_(o.onDragOver(s))})("dragleave",function(s){return h(i),_(o.onDragLeave(s))})("drop",function(s){return h(i),_(o.onDrop(s))})("click",function(){h(i);let s=xe(10);return _(s.click())}),a(9,"input",8,0),v("change",function(s){return h(i),_(o.onFileSelected(s))}),c(),a(11,"div",9),g(12,"app-lucide-icon",10),c(),a(13,"p",11),l(14,"Drag and drop your CSV file here"),c(),a(15,"p",12),l(16,"or click to browse"),c()(),M(17,j5,6,1,"div",13)(18,H5,3,2,"div",14),a(19,"div",15)(20,"p"),l(21,"Need a template? Download our CSV template to get started."),c(),a(22,"button",16),v("click",function(){return h(i),_(o.downloadTemplate())}),g(23,"app-lucide-icon",17),l(24," Download Template "),c()(),a(25,"div",18)(26,"h4"),l(27,"CSV Format Requirements:"),c(),a(28,"ul")(29,"li"),l(30,"First row must be headers"),c(),a(31,"li"),l(32,"Required columns: SKU, Name, Category, Quantity, Unit, Unit Price, Reorder Level, Supplier, Location, Status, Last Restocked"),c(),a(33,"li"),l(34,"Date format: YYYY-MM-DD"),c()()()(),a(35,"div",19)(36,"button",20),v("click",function(){return h(i),_(o.close())}),l(37,"Cancel"),c(),a(38,"button",21),v("click",function(){return h(i),_(o.importFile())}),M(39,$5,1,0,"app-lucide-icon",22)(40,W5,2,0,"span",23)(41,q5,2,0,"span",23),c()()()()}e&2&&(d(8),H("dragover",o.isDragover),d(9),m("ngIf",o.selectedFile),d(),m("ngIf",o.importResult),d(20),m("disabled",!o.selectedFile||o.importing),d(),m("ngIf",!o.importing),d(),m("ngIf",o.importing),d(),m("ngIf",!o.importing))},dependencies:[R,ee,G,q],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;padding:20px}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:.25rem;width:100%;max-width:540px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border:none}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.btn-close-custom[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close-custom[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.btn-close-custom[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex:1}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:16px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;transition:all .2s;width:100%;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:40px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.75rem;margin-top:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:1.25rem;border-top:1px solid rgba(27,46,75,.1)}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b!important;border-color:#1b2e4b!important;color:#fff!important;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #1b2e4b33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3498db!important;border-color:#3498db!important;box-shadow:0 4px 12px #1b2e4b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;font-size:.875rem;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c!important;color:#fff!important;border:none!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #e74c3c4d}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b!important;box-shadow:0 4px 12px #e74c3c66}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:12px}.modal-container[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}}.upload-area[_ngcontent-%COMP%]{border:2px dashed #dee2e6;border-radius:.25rem;padding:32px 20px;text-align:center;cursor:pointer;transition:all .2s;margin-bottom:16px}.upload-area[_ngcontent-%COMP%]:hover, .upload-area.dragover[_ngcontent-%COMP%]{border-color:#1b2e4b;background:#1b2e4b08}.upload-area[_ngcontent-%COMP%]   .upload-icon[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:12px}.upload-area[_ngcontent-%COMP%]   .upload-text[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:500;color:#1e293b;margin:0 0 4px}.upload-area[_ngcontent-%COMP%]   .upload-subtext[_ngcontent-%COMP%]{font-size:.8125rem;color:#6c757d;margin:0}.selected-file[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:10px 12px;background:#1b2e4b0d;border-radius:.25rem;margin-bottom:16px}.selected-file[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#1b2e4b}.selected-file[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{flex:1;font-size:.875rem;font-weight:500;color:#1e293b}.selected-file[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:#6c757d;padding:4px;border-radius:.25rem}.selected-file[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:hover{background:#1b2e4b1a;color:#1e293b}.import-result[_ngcontent-%COMP%]{margin-bottom:16px}.import-result[_ngcontent-%COMP%]   .result-success[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 12px;background:#d1fae5;border-radius:.25rem;color:#065f46;font-size:.875rem;font-weight:500;margin-bottom:8px}.import-result[_ngcontent-%COMP%]   .result-errors[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;padding:10px 12px;background:#fee2e2;border-radius:.25rem;color:#dc2626;font-size:.875rem}.import-result[_ngcontent-%COMP%]   .result-errors[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:8px 0 0;padding-left:20px;font-size:.8125rem}.template-section[_ngcontent-%COMP%]{text-align:center;padding:12px;background:#f8f9fa;border-radius:.25rem;margin-bottom:16px}.template-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8125rem;color:#6c757d;margin:0 0 10px}.template-section[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background:none;border:none;color:#1b2e4b;font-size:.875rem;font-weight:500;cursor:pointer;display:inline-flex;align-items:center;gap:6px}.template-section[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.format-info[_ngcontent-%COMP%]{background:#fffbeb;border-radius:.25rem;padding:12px}.format-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:600;color:#92400e;margin:0 0 8px}.format-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:18px;font-size:.75rem;color:#78350f}.format-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:4px}"]})};function G5(n,t){n&1&&(ue(0),g(1,"app-skeleton-loader",3),pe())}function Y5(n,t){if(n&1&&(a(0,"option",47),l(1),c()),n&2){let e=t.$implicit;m("value",e),d(),b(e)}}function Z5(n,t){if(n&1){let e=k();a(0,"div",48)(1,"button",49),v("click",function(i){let r=h(e).$implicit,s=f(2);return _(s.toggleDropdown(r.id,i))}),g(2,"app-lucide-icon",50),c(),a(3,"ul",51)(4,"li")(5,"a",52),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.viewItem(i))}),g(6,"app-lucide-icon",53),l(7," View "),c()(),a(8,"li")(9,"a",52),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.adjustStock(i))}),g(10,"app-lucide-icon",54),l(11," Adjust Stock "),c()(),a(12,"li")(13,"a",52),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.editItem(i))}),g(14,"app-lucide-icon",55),l(15," Edit "),c()(),a(16,"li")(17,"a",56),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.deleteItem(i))}),g(18,"app-lucide-icon",57),l(19," Delete "),c()()()()}if(n&2){let e=t.$implicit,o=f(2);H("show",o.openDropdownId===e.id),d(3),H("show",o.openDropdownId===e.id)}}function K5(n,t){if(n&1){let e=k();a(0,"app-add-inventory-modal",58),v("itemAdded",function(i){h(e);let r=f(2);return _(r.onItemAdded(i))})("modalClosed",function(){h(e);let i=f(2);return _(i.closeAddModal())}),c()}if(n&2){let e=f(2);m("categories",e.categories)}}function Q5(n,t){if(n&1){let e=k();a(0,"app-view-inventory-modal",59),v("modalClosed",function(){h(e);let i=f(2);return _(i.closeViewModal())})("editRequested",function(i){h(e);let r=f(2);return _(r.onEditRequested(i))}),c()}if(n&2){let e=f(2);m("item",e.selectedItem)}}function J5(n,t){if(n&1){let e=k();a(0,"app-edit-inventory-modal",60),v("itemUpdated",function(i){h(e);let r=f(2);return _(r.onItemUpdated(i))})("modalClosed",function(){h(e);let i=f(2);return _(i.closeEditModal())}),c()}if(n&2){let e=f(2);m("item",e.selectedItem)("categories",e.categories)}}function X5(n,t){if(n&1){let e=k();a(0,"app-stock-adjustment-modal",61),v("stockAdjusted",function(i){h(e);let r=f(2);return _(r.onStockAdjusted(i))})("modalClosed",function(){h(e);let i=f(2);return _(i.closeStockModal())}),c()}if(n&2){let e=f(2);m("item",e.selectedItem)}}function eN(n,t){if(n&1){let e=k();a(0,"app-delete-inventory-modal",62),v("itemDeleted",function(i){h(e);let r=f(2);return _(r.onItemDeleted(i))})("modalClosed",function(){h(e);let i=f(2);return _(i.closeDeleteModal())}),c()}if(n&2){let e=f(2);m("item",e.selectedItem)}}function tN(n,t){if(n&1){let e=k();a(0,"app-import-inventory-modal",63),v("importComplete",function(i){h(e);let r=f(2);return _(r.onImportComplete(i))})("modalClosed",function(){h(e);let i=f(2);return _(i.closeImportModal())}),c()}}function nN(n,t){if(n&1){let e=k();ue(0),a(1,"div",4)(2,"div",5)(3,"h1"),l(4,"Inventory"),c(),a(5,"p",6),l(6,"Manage your stock, supplies, and equipment"),c()(),a(7,"div",7)(8,"a",8),g(9,"app-lucide-icon",9),l(10," Stock Movements "),c(),a(11,"button",10),v("click",function(){h(e);let i=f();return _(i.exportData())}),g(12,"app-lucide-icon",11),l(13," Export "),c(),a(14,"button",10),v("click",function(){h(e);let i=f();return _(i.openImportModal())}),g(15,"app-lucide-icon",12),l(16," Import "),c(),a(17,"button",13),v("click",function(){h(e);let i=f();return _(i.openAddModal())}),g(18,"app-lucide-icon",14),l(19," Add Item "),c()()(),a(20,"div",15)(21,"div",16)(22,"div",17),g(23,"app-lucide-icon",18),c(),a(24,"div",19)(25,"div",20),l(26),c(),a(27,"div",21),l(28,"Total Items"),c()()(),a(29,"div",16)(30,"div",17),g(31,"app-lucide-icon",22),c(),a(32,"div",19)(33,"div",20),l(34),c(),a(35,"div",21),l(36,"Total Value"),c()()(),a(37,"div",23)(38,"div",17),g(39,"app-lucide-icon",24),c(),a(40,"div",19)(41,"div",20),l(42),c(),a(43,"div",21),l(44,"Low Stock"),c()()(),a(45,"div",25)(46,"div",17),g(47,"app-lucide-icon",26),c(),a(48,"div",19)(49,"div",20),l(50),c(),a(51,"div",21),l(52,"Out of Stock"),c()()()(),a(53,"div",27)(54,"div",28)(55,"label"),l(56,"Category"),c(),a(57,"select",29),E("ngModelChange",function(i){h(e);let r=f();return I(r.selectedCategory,i)||(r.selectedCategory=i),_(i)}),v("change",function(){h(e);let i=f();return _(i.filterItems())}),a(58,"option",30),l(59,"All Categories"),c(),M(60,Y5,2,2,"option",31),c()(),a(61,"div",28)(62,"label"),l(63,"Status"),c(),a(64,"select",29),E("ngModelChange",function(i){h(e);let r=f();return I(r.selectedStatus,i)||(r.selectedStatus=i),_(i)}),v("change",function(){h(e);let i=f();return _(i.filterItems())}),a(65,"option",30),l(66,"All Status"),c(),a(67,"option",32),l(68,"In Stock"),c(),a(69,"option",33),l(70,"Low Stock"),c(),a(71,"option",34),l(72,"Out of Stock"),c()()()(),a(73,"div",35)(74,"div",36)(75,"div",37)(76,"h3"),l(77,"All Items"),c(),a(78,"span",38),l(79),c()()(),a(80,"div",39)(81,"app-data-table",40),v("onSort",function(i){h(e);let r=f();return _(r.handleSort(i))})("onPageChange",function(i){h(e);let r=f();return _(r.handlePageChange(i))})("onPageSizeChange",function(i){h(e);let r=f();return _(r.handlePageSizeChange(i))})("onRowClick",function(i){h(e);let r=f();return _(r.viewItem(i))}),M(82,Z5,20,4,"ng-template",null,0,ut),c()()(),M(84,K5,1,1,"app-add-inventory-modal",41)(85,Q5,1,1,"app-view-inventory-modal",42)(86,J5,1,2,"app-edit-inventory-modal",43)(87,X5,1,1,"app-stock-adjustment-modal",44)(88,eN,1,1,"app-delete-inventory-modal",45)(89,tN,1,0,"app-import-inventory-modal",46),pe()}if(n&2){let e=f();d(26),b(e.stats.totalItems),d(8),b(e.formatCurrency(e.stats.totalValue)),d(8),b(e.stats.lowStockItems),d(8),b(e.stats.outOfStockItems),d(7),S("ngModel",e.selectedCategory),d(3),m("ngForOf",e.categories),d(4),S("ngModel",e.selectedStatus),d(15),T("",e.filteredItems.length," items"),d(2),m("columns",e.columns)("data",e.filteredItems)("striped",!1)("hover",!0)("showActions",!1)("showPagination",!0)("currentPage",e.currentPage)("pageSize",e.pageSize)("totalPages",e.totalPages)("totalItems",e.filteredItems.length)("loading",e.loading),d(3),m("ngIf",e.showAddModal),d(),m("ngIf",e.showViewModal&&e.selectedItem),d(),m("ngIf",e.showEditModal&&e.selectedItem),d(),m("ngIf",e.showStockModal&&e.selectedItem),d(),m("ngIf",e.showDeleteModal&&e.selectedItem),d(),m("ngIf",e.showImportModal)}}var ap=class n{constructor(t){this.inventoryService=t}items=[];filteredItems=[];categories=[];stats={};loading=!1;selectedCategory="";selectedStatus="";showAddModal=!1;showViewModal=!1;showEditModal=!1;showStockModal=!1;showDeleteModal=!1;showImportModal=!1;selectedItem=null;columns=[];currentPage=1;pageSize=10;totalPages=1;openDropdownId=null;ngOnInit(){this.initializeColumns(),this.loadData(),document.addEventListener("click",()=>{this.closeDropdown()})}initializeColumns(){this.columns=[{key:"index",title:"No.",type:"number",sortable:!1},{key:"sku",title:"SKU",type:"text",sortable:!0},{key:"name",title:"Item Name",type:"text",sortable:!0},{key:"category",title:"Category",type:"text",sortable:!0},{key:"quantityDisplay",title:"Quantity",type:"text",sortable:!0},{key:"unitPriceDisplay",title:"Unit Price",type:"text",sortable:!0},{key:"status",title:"Status",type:"status",sortable:!0},{key:"location",title:"Location",type:"text",sortable:!0}]}loadData(){this.loading=!0,setTimeout(()=>{this.items=this.inventoryService.getInventoryItems().map((t,e)=>$(w({},t),{index:e+1,quantityDisplay:`${t.quantity} ${t.unit}`,unitPriceDisplay:this.formatCurrency(t.unitPrice)})),this.categories=this.inventoryService.getCategories(),this.stats=this.inventoryService.getStats(),this.filterItems(),this.loading=!1},500)}filterItems(){let t=[...this.items];this.selectedCategory&&(t=t.filter(e=>e.category===this.selectedCategory)),this.selectedStatus&&(t=t.filter(e=>e.status===this.selectedStatus)),this.filteredItems=t.map((e,o)=>$(w({},e),{index:o+1})),this.totalPages=Math.ceil(this.filteredItems.length/this.pageSize)}openAddModal(){this.showAddModal=!0}closeAddModal(){this.showAddModal=!1}openImportModal(){this.showImportModal=!0}closeImportModal(){this.showImportModal=!1}viewItem(t){this.closeDropdown(),this.selectedItem=t,this.showViewModal=!0}closeViewModal(){this.showViewModal=!1,this.selectedItem=null}editItem(t){this.closeDropdown(),this.selectedItem=t,this.showEditModal=!0}closeEditModal(){this.showEditModal=!1,this.selectedItem=null}adjustStock(t){this.closeDropdown(),this.selectedItem=t,this.showStockModal=!0}closeStockModal(){this.showStockModal=!1,this.selectedItem=null}deleteItem(t){this.closeDropdown(),this.selectedItem=t,this.showDeleteModal=!0}closeDeleteModal(){this.showDeleteModal=!1,this.selectedItem=null}onItemAdded(t){this.inventoryService.addItem(t),this.loadData(),this.closeAddModal()}onItemUpdated(t){this.inventoryService.updateItem(t.id,t),this.loadData(),this.closeEditModal()}onStockAdjusted(t){this.inventoryService.adjustStock(t.itemId,t),this.loadData(),this.closeStockModal()}onItemDeleted(t){this.inventoryService.deleteItem(t.id),this.loadData(),this.closeDeleteModal()}onEditRequested(t){this.closeViewModal(),this.editItem(t)}onImportComplete(t){this.loadData(),this.closeImportModal()}exportData(){let t=this.inventoryService.exportToCSV(),e=new Blob([t],{type:"text/csv"}),o=window.URL.createObjectURL(e),i=document.createElement("a");i.href=o,i.download=`inventory_export_${new Date().toISOString().split("T")[0]}.csv`,i.click(),window.URL.revokeObjectURL(o)}handleSort(t){console.log("Sort:",t)}handlePageChange(t){this.currentPage=t}handlePageSizeChange(t){this.pageSize=t,this.currentPage=1}toggleDropdown(t,e){e.stopPropagation(),this.openDropdownId=this.openDropdownId===t?null:t}closeDropdown(){this.openDropdownId=null}formatCurrency(t){return new Intl.NumberFormat("rw-RW",{style:"currency",currency:"RWF"}).format(t)}static \u0275fac=function(e){return new(e||n)(D(go))};static \u0275cmp=N({type:n,selectors:[["app-inventory-list"]],decls:3,vars:2,consts:[["rowActions",""],[1,"inventory-container"],[4,"ngIf"],["type","stats"],[1,"page-header"],[1,"header-content"],[1,"page-description"],[1,"header-actions"],["routerLink","/inventory/movements",1,"btn-outline"],["name","activity","size","16px"],[1,"btn-outline",3,"click"],["name","download","size","16px"],["name","upload","size","16px"],[1,"btn-primary",3,"click"],["name","plus","size","16px"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],["name","box","size","24px"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],["name","dollar-sign","size","24px"],[1,"stat-card","warning"],["name","alert-triangle","size","24px"],[1,"stat-card","danger"],["name","x-circle","size","24px"],[1,"filter-section"],[1,"filter-group"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","In Stock"],["value","Low Stock"],["value","Out of Stock"],[1,"card"],[1,"card-header"],[1,"card-title-section"],[1,"item-count"],[1,"card-body"],[3,"onSort","onPageChange","onPageSizeChange","onRowClick","columns","data","striped","hover","showActions","showPagination","currentPage","pageSize","totalPages","totalItems","loading"],[3,"categories","itemAdded","modalClosed",4,"ngIf"],[3,"item","modalClosed","editRequested",4,"ngIf"],[3,"item","categories","itemUpdated","modalClosed",4,"ngIf"],[3,"item","stockAdjusted","modalClosed",4,"ngIf"],[3,"item","itemDeleted","modalClosed",4,"ngIf"],[3,"importComplete","modalClosed",4,"ngIf"],[3,"value"],[1,"dropdown"],["type","button",1,"btn","btn-outline-secondary","btn-sm","dropdown-toggle",3,"click"],["name","more-horizontal","size","16px"],[1,"dropdown-menu","dropdown-menu-end"],["href","javascript:void(0)",1,"dropdown-item",3,"click"],["name","eye","size","14px",1,"me-2"],["name","refresh-cw","size","14px",1,"me-2"],["name","edit","size","14px",1,"me-2"],["href","javascript:void(0)",1,"dropdown-item","text-danger",3,"click"],["name","trash-2","size","14px",1,"me-2"],[3,"itemAdded","modalClosed","categories"],[3,"modalClosed","editRequested","item"],[3,"itemUpdated","modalClosed","item","categories"],[3,"stockAdjusted","modalClosed","item"],[3,"itemDeleted","modalClosed","item"],[3,"importComplete","modalClosed"]],template:function(e,o){e&1&&(a(0,"div",1),M(1,G5,2,0,"ng-container",2)(2,nN,90,25,"ng-container",2),c()),e&2&&(d(),m("ngIf",o.loading),d(),m("ngIf",!o.loading))},dependencies:[R,ee,G,ie,Oe,we,Pe,se,he,fe,wt,q,Je,an,Xu,tp,np,op,ip,rp],styles:[".inventory-container[_ngcontent-%COMP%]{padding:12px;min-height:auto}@media (max-width: 768px){.inventory-container[_ngcontent-%COMP%]{padding:8px}}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px;gap:20px}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px}}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#3b3f5c;margin:0 0 4px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{color:#6c757d;font-size:14px;margin:0}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;flex-wrap:wrap}}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:20px}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:12px}}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;padding:16px;border:1px solid #e5e7eb;box-shadow:0 1px 2px #0000000d;display:flex;align-items:center;gap:12px;transition:all .2s ease}.stat-card[_ngcontent-%COMP%]:hover{box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:.5rem;background:#1b2e4b14;display:flex;align-items:center;justify-content:center;color:#1b2e4b;flex-shrink:0}.stat-card.warning[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#f59e0b1a;color:#f59e0b}.stat-card.danger[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{background:#ef44441a;color:#ef4444}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]{flex:1}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1e293b;margin-bottom:2px}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:13px;color:#6c757d;font-weight:500}.filter-section[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:16px;flex-wrap:wrap}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;min-width:160px}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#6c757d;text-transform:uppercase;letter-spacing:.5px}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;background-color:#fff}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.card[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;border:none;overflow:hidden;margin-bottom:1.5rem}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .item-count[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d;padding:4px 10px;border-radius:12px;font-size:12px;font-weight:500}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b;border-color:#1b2e4b;color:#fff;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;box-shadow:0 2px 6px #1b2e4b33;white-space:nowrap}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#3498db;border-color:#3498db;box-shadow:0 4px 12px #1b2e4b4d;transform:translateY(-1px)}.btn-primary[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#fff;flex-shrink:0}.btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;white-space:nowrap;box-shadow:none!important;text-decoration:none}.btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-outline[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#495057;flex-shrink:0}.btn-outline[_ngcontent-%COMP%]:hover   app-feather-icon[_ngcontent-%COMP%]{color:#1b2e4b}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]   .btn-outline[_ngcontent-%COMP%]{flex:1;justify-content:center;min-width:90px;padding:.5rem .75rem}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{padding:12px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:36px;height:36px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:16px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:11px}}@media (max-width: 480px){.inventory-container[_ngcontent-%COMP%]{padding:8px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.filter-section[_ngcontent-%COMP%]{flex-direction:column}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{width:100%}}"]})};function oN(n,t){if(n&1&&(a(0,"option",43),l(1),c()),n&2){let e=t.$implicit;m("value",e.id),d(),b(e.name)}}function iN(n,t){if(n&1&&(a(0,"tr")(1,"td",47)(2,"span",48),l(3),c(),a(4,"span",49),l(5),c()(),a(6,"td",50)(7,"span",51),l(8),c()(),a(9,"td")(10,"span",52),g(11,"app-lucide-icon",53),l(12),c()(),a(13,"td",54),l(14),c(),a(15,"td",55),l(16),c(),a(17,"td",55)(18,"span"),l(19),c()(),a(20,"td",56),l(21),c(),a(22,"td",57),l(23),c()()),n&2){let e=t.$implicit,o=f(2);d(3),b(o.formatDate(e.date)),d(2),b(o.formatTime(e.date)),d(3),b(e.itemName),d(2),Fe(e.type.toLowerCase()),d(),m("name",o.getTypeIcon(e.type)),d(),T(" ",o.getTypeLabel(e.type)," "),d(),Fe(e.type.toLowerCase()),d(),ke(" ",e.type==="IN"?"+":e.type==="OUT"?"-":"\xB1","",e.quantity," "),d(2),b(e.previousQuantity),d(2),H("highlight",e.newQuantity>e.previousQuantity)("warning",e.newQuantity<e.previousQuantity),d(),T(" ",e.newQuantity," "),d(2),b(e.reason),d(2),b(e.performedBy)}}function rN(n,t){if(n&1&&(a(0,"div",44)(1,"table",45)(2,"thead")(3,"tr")(4,"th"),l(5,"Date & Time"),c(),a(6,"th"),l(7,"Item"),c(),a(8,"th"),l(9,"Type"),c(),a(10,"th"),l(11,"Quantity"),c(),a(12,"th"),l(13,"Before"),c(),a(14,"th"),l(15,"After"),c(),a(16,"th"),l(17,"Reason"),c(),a(18,"th"),l(19,"Performed By"),c()()(),a(20,"tbody"),M(21,iN,24,19,"tr",46),c()()()),n&2){let e=f();d(21),m("ngForOf",e.paginatedMovements)}}function aN(n,t){n&1&&(a(0,"div",58),g(1,"app-lucide-icon",59),a(2,"h4"),l(3,"No movements found"),c(),a(4,"p"),l(5,"No stock movements match your current filters."),c()())}function sN(n,t){if(n&1){let e=k();a(0,"div",60)(1,"div",61),l(2),c(),a(3,"div",62)(4,"button",63),v("click",function(){h(e);let i=f();return _(i.currentPage=i.currentPage-1)}),g(5,"app-lucide-icon",64),c(),a(6,"span",65),l(7),c(),a(8,"button",63),v("click",function(){h(e);let i=f();return _(i.currentPage=i.currentPage+1)}),g(9,"app-lucide-icon",66),c()()()}if(n&2){let e=f();d(2),Br(" Showing ",(e.currentPage-1)*e.pageSize+1," to ",e.Math.min(e.currentPage*e.pageSize,e.filteredMovements.length)," of ",e.filteredMovements.length," "),d(2),m("disabled",e.currentPage===1),d(3),ke("",e.currentPage," / ",e.totalPages),d(),m("disabled",e.currentPage===e.totalPages)}}var sp=class n{constructor(t){this.inventoryService=t}movements=[];filteredMovements=[];items=[];stats={stockIn:0,stockOut:0,adjustments:0,total:0};selectedType="";selectedItem="";startDate="";endDate="";currentPage=1;pageSize=15;Math=Math;ngOnInit(){this.loadData()}loadData(){this.movements=this.inventoryService.getStockMovements(),this.items=this.inventoryService.getInventoryItems(),this.calculateStats(),this.filterMovements()}calculateStats(){this.stats={stockIn:this.movements.filter(t=>t.type==="IN").length,stockOut:this.movements.filter(t=>t.type==="OUT").length,adjustments:this.movements.filter(t=>t.type==="ADJUSTMENT").length,total:this.movements.length}}filterMovements(){let t=[...this.movements];if(this.selectedType&&(t=t.filter(e=>e.type===this.selectedType)),this.selectedItem&&(t=t.filter(e=>e.itemId===this.selectedItem)),this.startDate){let e=new Date(this.startDate);e.setHours(0,0,0,0),t=t.filter(o=>new Date(o.date)>=e)}if(this.endDate){let e=new Date(this.endDate);e.setHours(23,59,59,999),t=t.filter(o=>new Date(o.date)<=e)}t.sort((e,o)=>new Date(o.date).getTime()-new Date(e.date).getTime()),this.filteredMovements=t,this.currentPage=1}clearFilters(){this.selectedType="",this.selectedItem="",this.startDate="",this.endDate="",this.filterMovements()}get totalPages(){return Math.ceil(this.filteredMovements.length/this.pageSize)}get paginatedMovements(){let t=(this.currentPage-1)*this.pageSize;return this.filteredMovements.slice(t,t+this.pageSize)}getTypeIcon(t){switch(t){case"IN":return"arrow-down";case"OUT":return"arrow-up";case"ADJUSTMENT":return"refresh-cw";default:return"activity"}}getTypeLabel(t){switch(t){case"IN":return"Stock In";case"OUT":return"Stock Out";case"ADJUSTMENT":return"Adjustment";default:return t}}formatDate(t){return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(new Date(t))}formatTime(t){return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(new Date(t))}exportMovements(){let t=["Date","Item","Type","Quantity","Previous","New","Reason","Performed By"],e=this.filteredMovements.map(u=>[new Date(u.date).toISOString(),u.itemName,u.type,u.quantity.toString(),u.previousQuantity.toString(),u.newQuantity.toString(),u.reason,u.performedBy]),o=[t.join(","),...e.map(u=>u.join(","))].join(`
`),i=new Blob([o],{type:"text/csv"}),r=window.URL.createObjectURL(i),s=document.createElement("a");s.href=r,s.download=`stock_movements_${new Date().toISOString().split("T")[0]}.csv`,s.click(),window.URL.revokeObjectURL(r)}static \u0275fac=function(e){return new(e||n)(D(go))};static \u0275cmp=N({type:n,selectors:[["app-stock-movements"]],decls:95,vars:13,consts:[[1,"movements-container"],[1,"page-header"],[1,"header-content"],[1,"breadcrumb"],["routerLink","/inventory"],["name","chevron-right","size","14px"],[1,"page-description"],[1,"header-actions"],[1,"btn-outline",3,"click"],["name","download","size","16px"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon","in"],["name","arrow-down","size","24px"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-icon","out"],["name","arrow-up","size","24px"],[1,"stat-icon","adjustment"],["name","refresh-cw","size","24px"],[1,"stat-icon","total"],["name","activity","size","24px"],[1,"filter-section"],[1,"filter-group"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value",""],["value","IN"],["value","OUT"],["value","ADJUSTMENT"],[3,"value",4,"ngFor","ngForOf"],["type","date",1,"form-control",3,"ngModelChange","change","ngModel"],[1,"filter-group","filter-actions"],[1,"btn-clear",3,"click"],["name","x","size","14px"],[1,"card"],[1,"card-header"],[1,"card-title-section"],[1,"item-count"],[1,"card-body"],["class","movements-table",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","pagination-wrapper",4,"ngIf"],[3,"value"],[1,"movements-table"],[1,"table"],[4,"ngFor","ngForOf"],[1,"date-cell"],[1,"date"],[1,"time"],[1,"item-cell"],[1,"item-name"],[1,"type-badge"],["size","14px",3,"name"],[1,"quantity-cell"],[1,"stock-cell"],[1,"reason-cell"],[1,"user-cell"],[1,"empty-state"],["name","inbox","size","48px"],[1,"pagination-wrapper"],[1,"page-info"],[1,"page-controls"],[1,"page-btn",3,"click","disabled"],["name","chevron-left","size","16px"],[1,"page-number"],["name","chevron-right","size","16px"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),l(5,"Inventory"),c(),g(6,"app-lucide-icon",5),a(7,"span"),l(8,"Stock Movements"),c()(),a(9,"h1"),l(10,"Stock Movements"),c(),a(11,"p",6),l(12,"Track all stock changes across your inventory"),c()(),a(13,"div",7)(14,"button",8),v("click",function(){return o.exportMovements()}),g(15,"app-lucide-icon",9),l(16," Export "),c()()(),a(17,"div",10)(18,"div",11)(19,"div",12),g(20,"app-lucide-icon",13),c(),a(21,"div",14)(22,"div",15),l(23),c(),a(24,"div",16),l(25,"Stock In"),c()()(),a(26,"div",11)(27,"div",17),g(28,"app-lucide-icon",18),c(),a(29,"div",14)(30,"div",15),l(31),c(),a(32,"div",16),l(33,"Stock Out"),c()()(),a(34,"div",11)(35,"div",19),g(36,"app-lucide-icon",20),c(),a(37,"div",14)(38,"div",15),l(39),c(),a(40,"div",16),l(41,"Adjustments"),c()()(),a(42,"div",11)(43,"div",21),g(44,"app-lucide-icon",22),c(),a(45,"div",14)(46,"div",15),l(47),c(),a(48,"div",16),l(49,"Total Movements"),c()()()(),a(50,"div",23)(51,"div",24)(52,"label"),l(53,"Movement Type"),c(),a(54,"select",25),E("ngModelChange",function(r){return I(o.selectedType,r)||(o.selectedType=r),r}),v("change",function(){return o.filterMovements()}),a(55,"option",26),l(56,"All Types"),c(),a(57,"option",27),l(58,"Stock In"),c(),a(59,"option",28),l(60,"Stock Out"),c(),a(61,"option",29),l(62,"Adjustment"),c()()(),a(63,"div",24)(64,"label"),l(65,"Item"),c(),a(66,"select",25),E("ngModelChange",function(r){return I(o.selectedItem,r)||(o.selectedItem=r),r}),v("change",function(){return o.filterMovements()}),a(67,"option",26),l(68,"All Items"),c(),M(69,oN,2,2,"option",30),c()(),a(70,"div",24)(71,"label"),l(72,"From Date"),c(),a(73,"input",31),E("ngModelChange",function(r){return I(o.startDate,r)||(o.startDate=r),r}),v("change",function(){return o.filterMovements()}),c()(),a(74,"div",24)(75,"label"),l(76,"To Date"),c(),a(77,"input",31),E("ngModelChange",function(r){return I(o.endDate,r)||(o.endDate=r),r}),v("change",function(){return o.filterMovements()}),c()(),a(78,"div",32)(79,"label"),l(80,"\xA0"),c(),a(81,"button",33),v("click",function(){return o.clearFilters()}),g(82,"app-lucide-icon",34),l(83," Clear "),c()()(),a(84,"div",35)(85,"div",36)(86,"div",37)(87,"h3"),l(88,"Movement History"),c(),a(89,"span",38),l(90),c()()(),a(91,"div",39),M(92,rN,22,1,"div",40)(93,aN,6,0,"div",41)(94,sN,10,7,"div",42),c()()()),e&2&&(d(23),b(o.stats.stockIn),d(8),b(o.stats.stockOut),d(8),b(o.stats.adjustments),d(8),b(o.stats.total),d(7),S("ngModel",o.selectedType),d(12),S("ngModel",o.selectedItem),d(3),m("ngForOf",o.items),d(4),S("ngModel",o.startDate),d(4),S("ngModel",o.endDate),d(13),T("",o.filteredMovements.length," records"),d(2),m("ngIf",o.filteredMovements.length>0),d(),m("ngIf",o.filteredMovements.length===0),d(),m("ngIf",o.filteredMovements.length>o.pageSize))},dependencies:[R,ee,G,ie,Oe,we,ve,Pe,se,he,fe,wt,q],styles:[".movements-container[_ngcontent-%COMP%]{padding:12px;min-height:auto}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px;gap:20px}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:16px}}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px;font-size:.8125rem}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#1b2e4b;text-decoration:none}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#6c757d}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#6c757d}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#3b3f5c;margin:0 0 4px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{color:#6c757d;font-size:14px;margin:0}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:16px;margin-bottom:20px}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;padding:16px;border:1px solid #e5e7eb;box-shadow:0 1px 2px #0000000d;display:flex;align-items:center;gap:12px}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:.5rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.stat-card[_ngcontent-%COMP%]   .stat-icon.in[_ngcontent-%COMP%]{background:#10b9811a;color:#10b981}.stat-card[_ngcontent-%COMP%]   .stat-icon.out[_ngcontent-%COMP%]{background:#ef44441a;color:#ef4444}.stat-card[_ngcontent-%COMP%]   .stat-icon.adjustment[_ngcontent-%COMP%]{background:#3b82f61a;color:#3b82f6}.stat-card[_ngcontent-%COMP%]   .stat-icon.total[_ngcontent-%COMP%]{background:#1b2e4b14;color:#1b2e4b}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#1e293b}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:13px;color:#6c757d}.filter-section[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:16px;flex-wrap:wrap;align-items:flex-end}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;min-width:160px}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#6c757d;text-transform:uppercase;letter-spacing:.5px}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%], .filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;background-color:#fff}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus, .filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.filter-section[_ngcontent-%COMP%]   .filter-group.filter-actions[_ngcontent-%COMP%]{min-width:auto}.filter-section[_ngcontent-%COMP%]   .btn-clear[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;padding:.5rem .875rem;background:#fff;border:1px solid #dee2e6;border-radius:.25rem;color:#6c757d;font-size:.875rem;cursor:pointer;transition:all .2s}.filter-section[_ngcontent-%COMP%]   .btn-clear[_ngcontent-%COMP%]:hover{border-color:#1b2e4b;color:#1b2e4b}.card[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;border:none;overflow:hidden}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .item-count[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d;padding:4px 10px;border-radius:12px;font-size:12px;font-weight:500}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}.movements-table[_ngcontent-%COMP%]{overflow-x:auto}.movements-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{width:100%;margin:0;border-collapse:collapse}.movements-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#1b2e4b08;padding:12px 16px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#6c757d;border-bottom:1px solid rgba(27,46,75,.1);white-space:nowrap}.movements-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #f1f5f9;font-size:.875rem;color:#1e293b;vertical-align:middle}.movements-table[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#1b2e4b05}.date-cell[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{display:block;font-weight:500}.date-cell[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#6c757d}.item-cell[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{font-weight:500}.type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:12px;font-size:.75rem;font-weight:600}.type-badge.in[_ngcontent-%COMP%]{background:#10b9811a;color:#059669}.type-badge.out[_ngcontent-%COMP%]{background:#ef44441a;color:#dc2626}.type-badge.adjustment[_ngcontent-%COMP%]{background:#3b82f61a;color:#2563eb}.quantity-cell[_ngcontent-%COMP%]{font-weight:600;font-size:.9375rem}.quantity-cell.in[_ngcontent-%COMP%]{color:#059669}.quantity-cell.out[_ngcontent-%COMP%]{color:#dc2626}.quantity-cell.adjustment[_ngcontent-%COMP%]{color:#2563eb}.stock-cell[_ngcontent-%COMP%]{color:#6c757d}.stock-cell[_ngcontent-%COMP%]   .highlight[_ngcontent-%COMP%]{color:#059669;font-weight:500}.stock-cell[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:#dc2626;font-weight:500}.reason-cell[_ngcontent-%COMP%]{max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.user-cell[_ngcontent-%COMP%]{color:#6c757d}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px 24px;color:#6c757d}.empty-state[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0 0 8px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem}.pagination-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 24px;border-top:1px solid #f1f5f9}.pagination-wrapper[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{font-size:.8125rem;color:#6c757d}.pagination-wrapper[_ngcontent-%COMP%]   .page-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.pagination-wrapper[_ngcontent-%COMP%]   .page-controls[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border:1px solid #dee2e6;border-radius:.25rem;background:#fff;cursor:pointer;transition:all .2s}.pagination-wrapper[_ngcontent-%COMP%]   .page-controls[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#1b2e4b;color:#1b2e4b}.pagination-wrapper[_ngcontent-%COMP%]   .page-controls[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-wrapper[_ngcontent-%COMP%]   .page-controls[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#1e293b}.btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;transition:all .2s ease;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;white-space:nowrap;box-shadow:none!important}.btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-outline[_ngcontent-%COMP%]   app-feather-icon[_ngcontent-%COMP%]{color:#495057;flex-shrink:0}.btn-outline[_ngcontent-%COMP%]:hover   app-feather-icon[_ngcontent-%COMP%]{color:#1b2e4b}@media (max-width: 768px){.filter-section[_ngcontent-%COMP%]{flex-direction:column}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{width:100%}.pagination-wrapper[_ngcontent-%COMP%]{flex-direction:column;gap:12px}}"]})};var ni=class n{employees=[{id:"1",name:"Jean Baptiste Uwimana",phone:"+250788123456",email:"jean@gemura.rw",role:"Farm Manager",department:"Operations",baseSalary:45e4,bankName:"Bank of Kigali",bankAccount:"0001234567890",hireDate:new Date("2023-01-15"),status:"active",createdAt:new Date("2023-01-15")},{id:"2",name:"Marie Claire Mukamana",phone:"+250788234567",email:"marie@gemura.rw",role:"Accountant",department:"Finance",baseSalary:38e4,bankName:"Equity Bank",bankAccount:"0002345678901",hireDate:new Date("2023-03-01"),status:"active",createdAt:new Date("2023-03-01")},{id:"3",name:"Patrick Habimana",phone:"+250788345678",role:"Driver",department:"Logistics",baseSalary:18e4,hireDate:new Date("2023-06-10"),status:"active",createdAt:new Date("2023-06-10")},{id:"4",name:"Claudine Uwase",phone:"+250788456789",role:"Milk Collector",department:"Operations",baseSalary:15e4,hireDate:new Date("2024-01-05"),status:"active",createdAt:new Date("2024-01-05")},{id:"5",name:"Emmanuel Niyonzima",phone:"+250788567890",role:"Security Guard",department:"Security",baseSalary:12e4,hireDate:new Date("2024-02-20"),status:"active",createdAt:new Date("2024-02-20")}];advances=[{id:"1",personId:"3",personName:"Patrick Habimana",personType:"employee",amount:5e4,remainingBalance:3e4,reason:"Medical emergency",date:new Date("2025-11-05"),status:"partial",deductions:[{id:"1",advanceId:"1",payrollId:"p1",amount:2e4,date:new Date("2025-11-15")}]},{id:"2",personId:"4",personName:"Claudine Uwase",personType:"employee",amount:3e4,remainingBalance:3e4,reason:"School fees",date:new Date("2025-11-20"),status:"pending",deductions:[]},{id:"3",personId:"sup1",personName:"Rwanda Feeds Ltd",personType:"supplier",amount:2e5,remainingBalance:1e5,reason:"Advance payment for bulk order",date:new Date("2025-11-01"),status:"partial",deductions:[{id:"2",advanceId:"3",payrollId:"sp1",amount:1e5,date:new Date("2025-11-15")}]}];productDebts=[{id:"1",personId:"2",personName:"Marie Claire Mukamana",personType:"employee",products:[{productName:"Fresh Milk (5L)",quantity:10,unitPrice:2500,totalPrice:25e3},{productName:"Yogurt (500ml)",quantity:5,unitPrice:1500,totalPrice:7500}],totalAmount:32500,remainingBalance:32500,date:new Date("2025-11-18"),status:"pending"},{id:"2",personId:"5",personName:"Emmanuel Niyonzima",personType:"employee",products:[{productName:"Fresh Milk (5L)",quantity:4,unitPrice:2500,totalPrice:1e4}],totalAmount:1e4,remainingBalance:1e4,date:new Date("2025-11-22"),status:"pending"}];payrollRecords=[{id:"1",personId:"1",personName:"Jean Baptiste Uwimana",personType:"employee",period:"2025-10",periodStart:new Date("2025-10-01"),periodEnd:new Date("2025-10-31"),grossAmount:45e4,deductions:[],totalDeductions:0,netAmount:45e4,status:"paid",paidAt:new Date("2025-10-30"),paymentMethod:"bank",createdAt:new Date("2025-10-28")},{id:"2",personId:"2",personName:"Marie Claire Mukamana",personType:"employee",period:"2025-10",periodStart:new Date("2025-10-01"),periodEnd:new Date("2025-10-31"),grossAmount:38e4,deductions:[],totalDeductions:0,netAmount:38e4,status:"paid",paidAt:new Date("2025-10-30"),paymentMethod:"bank",createdAt:new Date("2025-10-28")}];employeesSubject=new Ne(this.employees);advancesSubject=new Ne(this.advances);productDebtsSubject=new Ne(this.productDebts);payrollSubject=new Ne(this.payrollRecords);getEmployees(){return[...this.employees]}getEmployees$(){return this.employeesSubject.asObservable()}getEmployeeById(t){return this.employees.find(e=>e.id===t)}addEmployee(t){let e=$(w({},t),{id:(this.employees.length+1).toString(),createdAt:new Date});return this.employees.push(e),this.employeesSubject.next(this.employees),e}updateEmployee(t,e){let o=this.employees.findIndex(i=>i.id===t);return o!==-1?(this.employees[o]=w(w({},this.employees[o]),e),this.employeesSubject.next(this.employees),this.employees[o]):null}deleteEmployee(t){let e=this.employees.findIndex(o=>o.id===t);return e!==-1?(this.employees.splice(e,1),this.employeesSubject.next(this.employees),!0):!1}getAdvances(){return[...this.advances]}getAdvances$(){return this.advancesSubject.asObservable()}getAdvancesByPerson(t,e){return this.advances.filter(o=>o.personId===t&&o.personType===e)}getPendingAdvances(t,e){return this.advances.filter(o=>o.personId===t&&o.personType===e&&o.status!=="cleared")}addAdvance(t){let e=$(w({},t),{id:(this.advances.length+1).toString(),remainingBalance:t.amount,status:"pending",deductions:[]});return this.advances.push(e),this.advancesSubject.next(this.advances),e}deductFromAdvance(t,e,o){let i=this.advances.find(r=>r.id===t);return!i||e>i.remainingBalance?!1:(i.remainingBalance-=e,i.deductions.push({id:(i.deductions.length+1).toString(),advanceId:t,payrollId:o,amount:e,date:new Date}),i.status=i.remainingBalance===0?"cleared":"partial",this.advancesSubject.next(this.advances),!0)}getProductDebts(){return[...this.productDebts]}getProductDebts$(){return this.productDebtsSubject.asObservable()}getPendingProductDebts(t,e){return this.productDebts.filter(o=>o.personId===t&&o.personType===e&&o.status!=="cleared")}addProductDebt(t){let e=$(w({},t),{id:(this.productDebts.length+1).toString(),status:"pending"});return this.productDebts.push(e),this.productDebtsSubject.next(this.productDebts),e}deductFromProductDebt(t,e){let o=this.productDebts.find(i=>i.id===t);return!o||e>o.remainingBalance?!1:(o.remainingBalance-=e,o.status=o.remainingBalance===0?"cleared":"partial",this.productDebtsSubject.next(this.productDebts),!0)}getPayrollRecords(){return[...this.payrollRecords]}getPayrollRecords$(){return this.payrollSubject.asObservable()}getPayrollByPeriod(t){return this.payrollRecords.filter(e=>e.period===t)}generatePayroll(t,e,o,i,r,s){let p=(e==="employee"?this.employees.find(Z=>Z.id===t):null)?.name||"Unknown",C=[];this.getPendingAdvances(t,e).forEach(Z=>{let Q=Math.min(Z.remainingBalance,s*.3);Q>0&&C.push({type:"advance",description:`Advance repayment - ${Z.reason}`,amount:Q,referenceId:Z.id})}),this.getPendingProductDebts(t,e).forEach(Z=>{C.push({type:"product_debt",description:`Product debt - ${Z.products.map(Q=>Q.productName).join(", ")}`,amount:Z.remainingBalance,referenceId:Z.id})});let O=C.reduce((Z,Q)=>Z+Q.amount,0),P=s-O,F={id:(this.payrollRecords.length+1).toString(),personId:t,personName:p,personType:e,period:o,periodStart:i,periodEnd:r,grossAmount:s,deductions:C,totalDeductions:O,netAmount:P,status:"draft",createdAt:new Date};return this.payrollRecords.push(F),this.payrollSubject.next(this.payrollRecords),F}approvePayroll(t,e){let o=this.payrollRecords.find(i=>i.id===t);return!o||o.status!=="draft"?!1:(o.status="approved",o.approvedBy=e,o.approvedAt=new Date,this.payrollSubject.next(this.payrollRecords),!0)}processPayment(t,e){let o=this.payrollRecords.find(i=>i.id===t);return!o||o.status!=="approved"?!1:(o.deductions.forEach(i=>{i.type==="advance"&&i.referenceId?this.deductFromAdvance(i.referenceId,i.amount,t):i.type==="product_debt"&&i.referenceId&&this.deductFromProductDebt(i.referenceId,i.amount)}),o.status="paid",o.paidAt=new Date,o.paymentMethod=e,this.payrollSubject.next(this.payrollRecords),!0)}getSummary(){let t=this.employees.filter(r=>r.status==="active"),e=this.advances.filter(r=>r.status!=="cleared"),o=this.productDebts.filter(r=>r.status!=="cleared"),i=this.payrollRecords.filter(r=>r.status!=="paid");return{totalEmployees:t.length,totalSuppliers:0,pendingPayroll:i.length,totalAdvances:e.reduce((r,s)=>r+s.remainingBalance,0),totalProductDebts:o.reduce((r,s)=>r+s.remainingBalance,0),monthlyPayrollAmount:t.reduce((r,s)=>r+s.baseSalary,0)}}getDepartments(){return[...new Set(this.employees.map(t=>t.department))]}getRoles(){return[...new Set(this.employees.map(t=>t.role))]}static \u0275fac=function(e){return new(e||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function cN(n,t){n&1&&(ue(0),g(1,"app-skeleton-loader",3),pe())}function lN(n,t){if(n&1&&(a(0,"option",40),l(1),c()),n&2){let e=t.$implicit;m("value",e),d(),b(e)}}function dN(n,t){if(n&1){let e=k();a(0,"tr")(1,"td",44)(2,"div",45)(3,"div",46),l(4),c(),a(5,"div",47)(6,"span",48),l(7),c(),a(8,"span",49),l(9),c()()()(),a(10,"td"),l(11),c(),a(12,"td")(13,"span",50),l(14),c()(),a(15,"td",51),l(16),te(17,"number"),c(),a(18,"td"),l(19),te(20,"date"),c(),a(21,"td")(22,"span",52),l(23),c()(),a(24,"td",53)(25,"button",54),v("click",function(){let i=h(e).$implicit,r=f(3);return _(r.viewEmployee(i))}),g(26,"app-lucide-icon",55),c(),a(27,"button",56),v("click",function(){let i=h(e).$implicit,r=f(3);return _(r.editEmployee(i))}),g(28,"app-lucide-icon",57),c(),a(29,"button",58),v("click",function(){let i=h(e).$implicit,r=f(3);return _(r.confirmDelete(i))}),g(30,"app-lucide-icon",59),c()()()}if(n&2){let e=t.$implicit,o=f(3);d(4),b(o.getInitials(e.name)),d(3),b(e.name),d(2),b(e.phone),d(2),b(e.role),d(3),b(e.department),d(2),b(_e(17,10,e.baseSalary)),d(3),b(Gt(20,12,e.hireDate,"mediumDate")),d(3),Fe(e.status),d(),T(" ",e.status," ")}}function uN(n,t){if(n&1&&(a(0,"div",41)(1,"table",42)(2,"thead")(3,"tr")(4,"th"),l(5,"Employee"),c(),a(6,"th"),l(7,"Role"),c(),a(8,"th"),l(9,"Department"),c(),a(10,"th"),l(11,"Salary (RWF)"),c(),a(12,"th"),l(13,"Hire Date"),c(),a(14,"th"),l(15,"Status"),c(),a(16,"th"),l(17,"Actions"),c()()(),a(18,"tbody"),M(19,dN,31,15,"tr",43),c()()()),n&2){let e=f(2);d(19),m("ngForOf",e.filteredEmployees)}}function pN(n,t){n&1&&(a(0,"div",60),g(1,"app-lucide-icon",61),a(2,"h4"),l(3,"No employees found"),c(),a(4,"p"),l(5,"Add your first employee to get started"),c()())}function mN(n,t){if(n&1){let e=k();ue(0),a(1,"div",4)(2,"div",5)(3,"h1"),l(4,"Employees"),c(),a(5,"p",6),l(6,"Manage employee records and payroll information"),c()(),a(7,"div",7)(8,"button",8),v("click",function(){h(e);let i=f();return _(i.openAddModal())}),g(9,"app-lucide-icon",9),l(10," Add Employee "),c()()(),a(11,"div",10)(12,"div",11)(13,"div",12),g(14,"app-lucide-icon",13),c(),a(15,"div",14)(16,"span",15),l(17),c(),a(18,"span",16),l(19,"Total Employees"),c()()(),a(20,"div",11)(21,"div",17),g(22,"app-lucide-icon",18),c(),a(23,"div",14)(24,"span",15),l(25),c(),a(26,"span",16),l(27,"Active"),c()()(),a(28,"div",11)(29,"div",19),g(30,"app-lucide-icon",20),c(),a(31,"div",14)(32,"span",15),l(33),te(34,"number"),c(),a(35,"span",16),l(36,"Monthly Payroll (RWF)"),c()()(),a(37,"div",11)(38,"div",21),g(39,"app-lucide-icon",22),c(),a(40,"div",14)(41,"span",15),l(42),c(),a(43,"span",16),l(44,"Departments"),c()()()(),a(45,"div",23)(46,"div",24),g(47,"app-lucide-icon",25),a(48,"input",26),E("ngModelChange",function(i){h(e);let r=f();return I(r.searchTerm,i)||(r.searchTerm=i),_(i)}),v("input",function(){h(e);let i=f();return _(i.filterEmployees())}),c()(),a(49,"div",27)(50,"select",28),E("ngModelChange",function(i){h(e);let r=f();return I(r.selectedDepartment,i)||(r.selectedDepartment=i),_(i)}),v("change",function(){h(e);let i=f();return _(i.filterEmployees())}),a(51,"option",29),l(52,"All Departments"),c(),M(53,lN,2,2,"option",30),c()(),a(54,"div",27)(55,"select",28),E("ngModelChange",function(i){h(e);let r=f();return I(r.selectedStatus,i)||(r.selectedStatus=i),_(i)}),v("change",function(){h(e);let i=f();return _(i.filterEmployees())}),a(56,"option",29),l(57,"All Status"),c(),a(58,"option",31),l(59,"Active"),c(),a(60,"option",32),l(61,"Inactive"),c()()()(),a(62,"div",33)(63,"div",34)(64,"div",35)(65,"h3"),l(66,"Employee List"),c(),a(67,"span",36),l(68),c()()(),a(69,"div",37),M(70,uN,20,1,"div",38)(71,pN,6,0,"div",39),c()(),pe()}if(n&2){let e=f();d(17),b(e.employees.length),d(8),b(e.activeCount),d(8),b(_e(34,11,e.totalSalary)),d(9),b(e.departments.length),d(6),S("ngModel",e.searchTerm),d(2),S("ngModel",e.selectedDepartment),d(3),m("ngForOf",e.departments),d(2),S("ngModel",e.selectedStatus),d(13),T("",e.filteredEmployees.length," employees"),d(2),m("ngIf",e.filteredEmployees.length>0),d(),m("ngIf",e.filteredEmployees.length===0)}}function gN(n,t){if(n&1&&g(0,"option",40),n&2){let e=t.$implicit;m("value",e)}}function fN(n,t){if(n&1){let e=k();a(0,"div",62),v("click",function(){h(e);let i=f();return _(i.closeModal())}),a(1,"div",63),v("click",function(i){return h(e),_(i.stopPropagation())}),a(2,"div",64)(3,"h2"),l(4),c(),a(5,"button",65),v("click",function(){h(e);let i=f();return _(i.closeModal())}),g(6,"app-lucide-icon",66),c()(),a(7,"form",67),v("ngSubmit",function(){h(e);let i=f();return _(i.saveEmployee())}),a(8,"div",68)(9,"div",69)(10,"div",70)(11,"label"),l(12,"Full Name *"),c(),a(13,"input",71),E("ngModelChange",function(i){h(e);let r=f();return I(r.currentEmployee.name,i)||(r.currentEmployee.name=i),_(i)}),c()(),a(14,"div",70)(15,"label"),l(16,"Phone *"),c(),a(17,"input",72),E("ngModelChange",function(i){h(e);let r=f();return I(r.currentEmployee.phone,i)||(r.currentEmployee.phone=i),_(i)}),c()()(),a(18,"div",69)(19,"div",70)(20,"label"),l(21,"Email"),c(),a(22,"input",73),E("ngModelChange",function(i){h(e);let r=f();return I(r.currentEmployee.email,i)||(r.currentEmployee.email=i),_(i)}),c()(),a(23,"div",70)(24,"label"),l(25,"Role *"),c(),a(26,"input",74),E("ngModelChange",function(i){h(e);let r=f();return I(r.currentEmployee.role,i)||(r.currentEmployee.role=i),_(i)}),c()()(),a(27,"div",69)(28,"div",70)(29,"label"),l(30,"Department *"),c(),a(31,"input",75),E("ngModelChange",function(i){h(e);let r=f();return I(r.currentEmployee.department,i)||(r.currentEmployee.department=i),_(i)}),c(),a(32,"datalist",76),M(33,gN,1,1,"option",30),c()(),a(34,"div",70)(35,"label"),l(36,"Base Salary (RWF) *"),c(),a(37,"input",77),E("ngModelChange",function(i){h(e);let r=f();return I(r.currentEmployee.baseSalary,i)||(r.currentEmployee.baseSalary=i),_(i)}),c()()(),a(38,"div",69)(39,"div",70)(40,"label"),l(41,"Bank Name"),c(),a(42,"input",78),E("ngModelChange",function(i){h(e);let r=f();return I(r.currentEmployee.bankName,i)||(r.currentEmployee.bankName=i),_(i)}),c()(),a(43,"div",70)(44,"label"),l(45,"Bank Account"),c(),a(46,"input",79),E("ngModelChange",function(i){h(e);let r=f();return I(r.currentEmployee.bankAccount,i)||(r.currentEmployee.bankAccount=i),_(i)}),c()()(),a(47,"div",69)(48,"div",70)(49,"label"),l(50,"Hire Date *"),c(),a(51,"input",80),E("ngModelChange",function(i){h(e);let r=f();return I(r.hireDateStr,i)||(r.hireDateStr=i),_(i)}),c()(),a(52,"div",70)(53,"label"),l(54,"Status"),c(),a(55,"select",81),E("ngModelChange",function(i){h(e);let r=f();return I(r.currentEmployee.status,i)||(r.currentEmployee.status=i),_(i)}),a(56,"option",31),l(57,"Active"),c(),a(58,"option",32),l(59,"Inactive"),c()()()()(),a(60,"div",82)(61,"button",83),v("click",function(){h(e);let i=f();return _(i.closeModal())}),l(62,"Cancel"),c(),a(63,"button",84),l(64),c()()()()()}if(n&2){let e=f();d(4),b(e.isEditing?"Edit Employee":"Add Employee"),d(9),S("ngModel",e.currentEmployee.name),d(4),S("ngModel",e.currentEmployee.phone),d(5),S("ngModel",e.currentEmployee.email),d(4),S("ngModel",e.currentEmployee.role),d(5),S("ngModel",e.currentEmployee.department),d(2),m("ngForOf",e.departments),d(4),S("ngModel",e.currentEmployee.baseSalary),d(5),S("ngModel",e.currentEmployee.bankName),d(4),S("ngModel",e.currentEmployee.bankAccount),d(5),S("ngModel",e.hireDateStr),d(4),S("ngModel",e.currentEmployee.status),d(9),T("",e.isEditing?"Update":"Add"," Employee")}}function hN(n,t){if(n&1&&(a(0,"div",92)(1,"span",93),l(2,"Email"),c(),a(3,"span",94),l(4),c()()),n&2){let e=f(3);d(4),b(e.selectedEmployee.email)}}function _N(n,t){if(n&1&&(a(0,"div",92)(1,"span",93),l(2,"Bank"),c(),a(3,"span",94),l(4),c()()),n&2){let e=f(3);d(4),b(e.selectedEmployee.bankName)}}function CN(n,t){if(n&1&&(a(0,"div",92)(1,"span",93),l(2,"Account"),c(),a(3,"span",94),l(4),c()()),n&2){let e=f(3);d(4),b(e.selectedEmployee.bankAccount)}}function vN(n,t){if(n&1&&(a(0,"div",100)(1,"div",101)(2,"span",102),l(3,"Advance"),c(),a(4,"span",103),l(5),c()(),a(6,"span",104),l(7),te(8,"number"),c()()),n&2){let e=t.$implicit;d(5),b(e.reason),d(2),T("",_e(8,2,e.remainingBalance)," RWF")}}function yN(n,t){if(n&1&&(a(0,"div",100)(1,"div",101)(2,"span",105),l(3,"Product Debt"),c(),a(4,"span",103),l(5),c()(),a(6,"span",104),l(7),te(8,"number"),c()()),n&2){let e=t.$implicit;d(5),T("",e.products.length," items"),d(2),T("",_e(8,2,e.remainingBalance)," RWF")}}function bN(n,t){if(n&1&&(a(0,"div",98)(1,"h4"),l(2,"Pending Deductions"),c(),M(3,vN,9,4,"div",99)(4,yN,9,4,"div",99),c()),n&2){let e=f(3);d(3),m("ngForOf",e.employeeAdvances),d(),m("ngForOf",e.employeeDebts)}}function MN(n,t){if(n&1&&(a(0,"div",68)(1,"div",88)(2,"div",89),l(3),c(),a(4,"h3"),l(5),c(),a(6,"span",90),l(7),c(),a(8,"span",52),l(9),c()(),a(10,"div",91)(11,"div",92)(12,"span",93),l(13,"Phone"),c(),a(14,"span",94),l(15),c()(),M(16,hN,5,1,"div",95),a(17,"div",92)(18,"span",93),l(19,"Department"),c(),a(20,"span",94),l(21),c()(),a(22,"div",92)(23,"span",93),l(24,"Base Salary"),c(),a(25,"span",96),l(26),te(27,"number"),c()(),M(28,_N,5,1,"div",95)(29,CN,5,1,"div",95),a(30,"div",92)(31,"span",93),l(32,"Hire Date"),c(),a(33,"span",94),l(34),te(35,"date"),c()()(),M(36,bN,5,2,"div",97),c()),n&2){let e=f(2);d(3),b(e.getInitials(e.selectedEmployee.name)),d(2),b(e.selectedEmployee.name),d(2),b(e.selectedEmployee.role),d(),Fe(e.selectedEmployee.status),d(),b(e.selectedEmployee.status),d(6),b(e.selectedEmployee.phone),d(),m("ngIf",e.selectedEmployee.email),d(5),b(e.selectedEmployee.department),d(5),T("",_e(27,14,e.selectedEmployee.baseSalary)," RWF"),d(2),m("ngIf",e.selectedEmployee.bankName),d(),m("ngIf",e.selectedEmployee.bankAccount),d(5),b(Gt(35,16,e.selectedEmployee.hireDate,"longDate")),d(2),m("ngIf",e.employeeAdvances.length>0||e.employeeDebts.length>0)}}function xN(n,t){if(n&1){let e=k();a(0,"div",62),v("click",function(){h(e);let i=f();return _(i.closeViewModal())}),a(1,"div",85),v("click",function(i){return h(e),_(i.stopPropagation())}),a(2,"div",64)(3,"h2"),l(4,"Employee Details"),c(),a(5,"button",65),v("click",function(){h(e);let i=f();return _(i.closeViewModal())}),g(6,"app-lucide-icon",66),c()(),M(7,MN,37,19,"div",86),a(8,"div",82)(9,"button",87),v("click",function(){h(e);let i=f();return _(i.closeViewModal())}),l(10,"Close"),c(),a(11,"button",8),v("click",function(){h(e);let i=f();return i.editEmployee(i.selectedEmployee),_(i.closeViewModal())}),l(12,"Edit"),c()()()()}if(n&2){let e=f();d(7),m("ngIf",e.selectedEmployee)}}function PN(n,t){if(n&1){let e=k();a(0,"div",62),v("click",function(){h(e);let i=f();return _(i.closeDeleteModal())}),a(1,"div",106),v("click",function(i){return h(e),_(i.stopPropagation())}),a(2,"div",64)(3,"div",107),g(4,"app-lucide-icon",108),c(),a(5,"h2"),l(6,"Delete Employee"),c()(),a(7,"div",68)(8,"p"),l(9,"Are you sure you want to delete "),a(10,"strong"),l(11),c(),l(12,"?"),c(),a(13,"p",109),l(14,"This action cannot be undone."),c()(),a(15,"div",82)(16,"button",87),v("click",function(){h(e);let i=f();return _(i.closeDeleteModal())}),l(17,"Cancel"),c(),a(18,"button",110),v("click",function(){h(e);let i=f();return _(i.deleteEmployee())}),l(19,"Delete"),c()()()()}if(n&2){let e=f();d(11),b(e.employeeToDelete==null?null:e.employeeToDelete.name)}}var cp=class n{constructor(t){this.payrollService=t}employees=[];filteredEmployees=[];departments=[];loading=!1;searchTerm="";selectedDepartment="";selectedStatus="";showModal=!1;showViewModal=!1;showDeleteModal=!1;isEditing=!1;currentEmployee={};selectedEmployee=null;employeeToDelete=null;hireDateStr="";employeeAdvances=[];employeeDebts=[];ngOnInit(){this.loadData()}loadData(){this.employees=this.payrollService.getEmployees(),this.departments=this.payrollService.getDepartments(),this.filterEmployees()}get activeCount(){return this.employees.filter(t=>t.status==="active").length}get totalSalary(){return this.employees.filter(t=>t.status==="active").reduce((t,e)=>t+e.baseSalary,0)}filterEmployees(){this.filteredEmployees=this.employees.filter(t=>{let e=!this.searchTerm||t.name.toLowerCase().includes(this.searchTerm.toLowerCase())||t.phone.includes(this.searchTerm)||t.role.toLowerCase().includes(this.searchTerm.toLowerCase()),o=!this.selectedDepartment||t.department===this.selectedDepartment,i=!this.selectedStatus||t.status===this.selectedStatus;return e&&o&&i})}getInitials(t){return t.split(" ").map(e=>e[0]).join("").substring(0,2).toUpperCase()}openAddModal(){this.isEditing=!1,this.currentEmployee={status:"active"},this.hireDateStr=new Date().toISOString().split("T")[0],this.showModal=!0}editEmployee(t){this.isEditing=!0,this.currentEmployee=w({},t),this.hireDateStr=new Date(t.hireDate).toISOString().split("T")[0],this.showModal=!0}closeModal(){this.showModal=!1,this.currentEmployee={}}saveEmployee(){this.currentEmployee.hireDate=new Date(this.hireDateStr),this.isEditing&&this.currentEmployee.id?this.payrollService.updateEmployee(this.currentEmployee.id,this.currentEmployee):this.payrollService.addEmployee(this.currentEmployee),this.loadData(),this.closeModal()}viewEmployee(t){this.selectedEmployee=t,this.employeeAdvances=this.payrollService.getPendingAdvances(t.id,"employee"),this.employeeDebts=this.payrollService.getPendingProductDebts(t.id,"employee"),this.showViewModal=!0}closeViewModal(){this.showViewModal=!1,this.selectedEmployee=null}confirmDelete(t){this.employeeToDelete=t,this.showDeleteModal=!0}closeDeleteModal(){this.showDeleteModal=!1,this.employeeToDelete=null}deleteEmployee(){this.employeeToDelete&&(this.payrollService.deleteEmployee(this.employeeToDelete.id),this.loadData(),this.closeDeleteModal())}static \u0275fac=function(e){return new(e||n)(D(ni))};static \u0275cmp=N({type:n,selectors:[["app-employees"]],decls:6,vars:5,consts:[[1,"employees-container"],[4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],["type","stats"],[1,"page-header"],[1,"header-content"],[1,"page-description"],[1,"header-actions"],[1,"btn-primary",3,"click"],["name","plus","size","16px"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon","total"],["name","users","size","20px"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-icon","active"],["name","check-circle","size","20px"],[1,"stat-icon","payroll"],["name","dollar-sign","size","20px"],[1,"stat-icon","dept"],["name","layers","size","20px"],[1,"filter-section"],[1,"search-box"],["name","search","size","16px"],["type","text","placeholder","Search employees...",3,"ngModelChange","input","ngModel"],[1,"filter-group"],[3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["value","active"],["value","inactive"],[1,"card"],[1,"card-header"],[1,"card-title-section"],[1,"item-count"],[1,"card-body"],["class","table-responsive",4,"ngIf"],["class","empty-state",4,"ngIf"],[3,"value"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"employee-cell"],[1,"employee-info"],[1,"avatar"],[1,"details"],[1,"name"],[1,"phone"],[1,"dept-badge"],[1,"salary"],[1,"status-badge"],[1,"actions-cell"],["title","View",1,"action-btn","view",3,"click"],["name","eye","size","16px"],["title","Edit",1,"action-btn","edit",3,"click"],["name","edit-2","size","16px"],["title","Delete",1,"action-btn","delete",3,"click"],["name","trash-2","size","16px"],[1,"empty-state"],["name","users","size","48px"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","x","size","20px"],[3,"ngSubmit"],[1,"modal-body"],[1,"form-row"],[1,"form-group"],["type","text","name","name","required","",3,"ngModelChange","ngModel"],["type","text","name","phone","required","",3,"ngModelChange","ngModel"],["type","email","name","email",3,"ngModelChange","ngModel"],["type","text","name","role","required","",3,"ngModelChange","ngModel"],["type","text","name","department","required","","list","departments",3,"ngModelChange","ngModel"],["id","departments"],["type","number","name","baseSalary","required","",3,"ngModelChange","ngModel"],["type","text","name","bankName",3,"ngModelChange","ngModel"],["type","text","name","bankAccount",3,"ngModelChange","ngModel"],["type","date","name","hireDate","required","",3,"ngModelChange","ngModel"],["name","status",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary"],[1,"modal-container","view-modal",3,"click"],["class","modal-body",4,"ngIf"],[1,"btn-secondary",3,"click"],[1,"employee-profile"],[1,"profile-avatar"],[1,"profile-role"],[1,"details-grid"],[1,"detail-item"],[1,"label"],[1,"value"],["class","detail-item",4,"ngIf"],[1,"value","highlight"],["class","deductions-section",4,"ngIf"],[1,"deductions-section"],["class","deduction-item",4,"ngFor","ngForOf"],[1,"deduction-item"],[1,"deduction-info"],[1,"type","advance"],[1,"reason"],[1,"amount"],[1,"type","debt"],[1,"modal-container","delete-modal",3,"click"],[1,"warning-icon"],["name","alert-triangle","size","24px"],[1,"warning-text"],[1,"btn-danger",3,"click"]],template:function(e,o){e&1&&(a(0,"div",0),M(1,cN,2,0,"ng-container",1)(2,mN,72,13,"ng-container",1)(3,fN,65,13,"div",2)(4,xN,13,1,"div",2)(5,PN,20,1,"div",2),c()),e&2&&(d(),m("ngIf",o.loading),d(),m("ngIf",!o.loading),d(),m("ngIf",o.showModal),d(),m("ngIf",o.showViewModal),d(),m("ngIf",o.showDeleteModal))},dependencies:[R,ee,G,ie,De,Oe,we,ve,ct,Pe,se,Ie,Xe,he,$e,q,an,Bi,un],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;padding:20px}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:.25rem;width:100%;max-width:540px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border:none}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.btn-close-custom[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close-custom[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.btn-close-custom[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex:1}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:16px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;transition:all .2s;width:100%;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:40px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.75rem;margin-top:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:1.25rem;border-top:1px solid rgba(27,46,75,.1)}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b!important;border-color:#1b2e4b!important;color:#fff!important;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #1b2e4b33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3498db!important;border-color:#3498db!important;box-shadow:0 4px 12px #1b2e4b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;font-size:.875rem;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c!important;color:#fff!important;border:none!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #e74c3c4d}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b!important;box-shadow:0 4px 12px #e74c3c66}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:12px}.modal-container[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}}.employees-container[_ngcontent-%COMP%]{padding:12px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px;gap:20px}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column}}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1e293b;margin:0 0 4px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{color:#6c757d;font-size:14px;margin:0}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:20px}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:16px;border:1px solid #e9ecef;box-shadow:none;display:flex;align-items:center;gap:12px}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:8px;display:flex;align-items:center;justify-content:center}.stat-card[_ngcontent-%COMP%]   .stat-icon.total[_ngcontent-%COMP%]{background:#004aad1a;color:#004aad}.stat-card[_ngcontent-%COMP%]   .stat-icon.active[_ngcontent-%COMP%]{background:#1abc9c1a;color:#1abc9c}.stat-card[_ngcontent-%COMP%]   .stat-icon.payroll[_ngcontent-%COMP%]{background:#3498db1a;color:#3498db}.stat-card[_ngcontent-%COMP%]   .stat-icon.dept[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-size:20px;font-weight:600;color:#1e293b}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:13px;color:#6c757d}.filter-section[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:16px;flex-wrap:wrap}.filter-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#fff;border:1px solid #dee2e6;border-radius:4px;padding:0 12px;flex:1;min-width:200px}.filter-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;padding:.5rem 0;font-size:.875rem;width:100%}.filter-section[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]   app-lucide-icon[_ngcontent-%COMP%]{color:#6c757d}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;color:#1e293b;background:#fff;min-width:150px}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#004aad80}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:none;border:none;overflow:hidden}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid rgba(0,74,173,.1);background:#fff}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .item-count[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d;padding:4px 10px;border-radius:12px;font-size:12px;font-weight:500}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#004aad08;padding:12px 16px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#6c757d;border-bottom:1px solid rgba(0,74,173,.1);text-align:left;white-space:nowrap}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #f8f9fa;font-size:.875rem;color:#1e293b;vertical-align:middle}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#004aad05}.employee-cell[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.employee-cell[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#004aad,#006bfa);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:.875rem}.employee-cell[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:block;font-weight:500;color:#1e293b}.employee-cell[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .phone[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d}.dept-badge[_ngcontent-%COMP%]{background:#004aad14;color:#004aad;padding:4px 8px;border-radius:4px;font-size:.75rem;font-weight:500}.salary[_ngcontent-%COMP%]{font-weight:600;color:#004aad}.status-badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:capitalize}.status-badge.active[_ngcontent-%COMP%]{background:#1abc9c26;color:#148f77}.status-badge.inactive[_ngcontent-%COMP%]{background:#e74c3c26;color:#e74c3c}.actions-cell[_ngcontent-%COMP%]{display:flex;gap:4px}.action-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.action-btn.view[_ngcontent-%COMP%]{background:#004aad14;color:#004aad}.action-btn.view[_ngcontent-%COMP%]:hover{background:#004aad26}.action-btn.edit[_ngcontent-%COMP%]{background:#3498db14;color:#3498db}.action-btn.edit[_ngcontent-%COMP%]:hover{background:#3498db26}.action-btn.delete[_ngcontent-%COMP%]{background:#e74c3c14;color:#e74c3c}.action-btn.delete[_ngcontent-%COMP%]:hover{background:#e74c3c26}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px 24px;color:#6c757d}.empty-state[_ngcontent-%COMP%]   app-lucide-icon[_ngcontent-%COMP%]{margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0 0 8px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem}.view-modal[_ngcontent-%COMP%]{max-width:500px}.view-modal[_ngcontent-%COMP%]   .employee-profile[_ngcontent-%COMP%]{text-align:center;padding-bottom:20px;border-bottom:1px solid rgba(0,74,173,.1);margin-bottom:20px}.view-modal[_ngcontent-%COMP%]   .employee-profile[_ngcontent-%COMP%]   .profile-avatar[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:50%;background:linear-gradient(135deg,#004aad,#006bfa);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:1.5rem;margin:0 auto 12px}.view-modal[_ngcontent-%COMP%]   .employee-profile[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:1.25rem;color:#1e293b}.view-modal[_ngcontent-%COMP%]   .employee-profile[_ngcontent-%COMP%]   .profile-role[_ngcontent-%COMP%]{display:block;color:#6c757d;font-size:.875rem;margin-bottom:8px}.view-modal[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}.view-modal[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#6c757d;text-transform:uppercase;letter-spacing:.5px;margin-bottom:4px}.view-modal[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#1e293b}.view-modal[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value.highlight[_ngcontent-%COMP%]{color:#004aad;font-weight:600}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]{margin-top:20px;padding-top:20px;border-top:1px solid rgba(0,74,173,.1)}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1e293b;margin:0 0 12px}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:#f8f9fa;border-radius:4px;margin-bottom:8px}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .deduction-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .deduction-info[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{padding:2px 8px;border-radius:4px;font-size:.6875rem;font-weight:600;text-transform:uppercase}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .deduction-info[_ngcontent-%COMP%]   .type.advance[_ngcontent-%COMP%]{background:#3498db26;color:#1d6fa5}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .deduction-info[_ngcontent-%COMP%]   .type.debt[_ngcontent-%COMP%]{background:#f1c40f26;color:#796307}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .deduction-info[_ngcontent-%COMP%]   .reason[_ngcontent-%COMP%]{font-size:.8125rem;color:#1e293b}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:600;color:#e74c3c;font-size:.875rem}.delete-modal[_ngcontent-%COMP%]{max-width:400px;text-align:center}.delete-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{flex-direction:column;border-bottom:none;padding-bottom:0}.delete-modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .warning-icon[_ngcontent-%COMP%]{width:56px;height:56px;background:#e74c3c26;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#e74c3c;margin:0 auto 12px}.delete-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e293b}.delete-modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .warning-text[_ngcontent-%COMP%]{color:#6c757d;font-size:.875rem}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#495057;border:1px solid #dee2e6;padding:.625rem 1.25rem;border-radius:4px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#004aad4d}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c;color:#fff;border:none;padding:.625rem 1.25rem;border-radius:4px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b}"]})};function ON(n,t){if(n&1&&(a(0,"span",54),l(1),te(2,"number"),c()),n&2){let e=f().$implicit;d(),T(" -",_e(2,1,e.totalDeductions)," ")}}function wN(n,t){n&1&&(a(0,"span"),l(1,"-"),c())}function SN(n,t){if(n&1){let e=k();a(0,"button",55),v("click",function(){h(e);let i=f().$implicit,r=f(2);return _(r.approveRecord(i))}),g(1,"app-lucide-icon",56),c()}}function EN(n,t){if(n&1){let e=k();a(0,"button",57),v("click",function(){h(e);let i=f().$implicit,r=f(2);return _(r.openPayModal(i))}),g(1,"app-lucide-icon",58),c()}}function IN(n,t){if(n&1){let e=k();a(0,"tr")(1,"td",41)(2,"span",42),l(3),c()(),a(4,"td")(5,"span",43),l(6),c()(),a(7,"td"),l(8),c(),a(9,"td"),l(10),te(11,"number"),c(),a(12,"td",44),M(13,ON,3,3,"span",45)(14,wN,2,0,"span",46),c(),a(15,"td",47),l(16),te(17,"number"),c(),a(18,"td")(19,"span",48),l(20),c()(),a(21,"td",49)(22,"button",50),v("click",function(){let i=h(e).$implicit,r=f(2);return _(r.viewRecord(i))}),g(23,"app-lucide-icon",51),c(),M(24,SN,2,0,"button",52)(25,EN,2,0,"button",53),c()()}if(n&2){let e=t.$implicit;d(3),b(e.personName),d(2),Fe(e.personType),d(),T(" ",e.personType," "),d(2),b(e.period),d(2),b(_e(11,14,e.grossAmount)),d(3),m("ngIf",e.totalDeductions>0),d(),m("ngIf",e.totalDeductions===0),d(2),b(_e(17,16,e.netAmount)),d(3),Fe(e.status),d(),T(" ",e.status," "),d(4),m("ngIf",e.status==="draft"),d(),m("ngIf",e.status==="approved")}}function DN(n,t){if(n&1&&(a(0,"div",38)(1,"table",39)(2,"thead")(3,"tr")(4,"th"),l(5,"Person"),c(),a(6,"th"),l(7,"Type"),c(),a(8,"th"),l(9,"Period"),c(),a(10,"th"),l(11,"Gross"),c(),a(12,"th"),l(13,"Deductions"),c(),a(14,"th"),l(15,"Net Amount"),c(),a(16,"th"),l(17,"Status"),c(),a(18,"th"),l(19,"Actions"),c()()(),a(20,"tbody"),M(21,IN,26,18,"tr",40),c()()()),n&2){let e=f();d(21),m("ngForOf",e.filteredRecords)}}function kN(n,t){n&1&&(a(0,"div",59),g(1,"app-lucide-icon",60),a(2,"h4"),l(3,"No payroll records"),c(),a(4,"p"),l(5,"Generate payroll for this period to get started"),c()())}function TN(n,t){if(n&1){let e=k();a(0,"label",79)(1,"input",80),E("ngModelChange",function(i){let r=h(e).$implicit;return I(r.selected,i)||(r.selected=i),_(i)}),c(),a(2,"span",42),l(3),c(),a(4,"span",81),l(5),te(6,"number"),c()()}if(n&2){let e=t.$implicit;d(),S("ngModel",e.selected),d(2),b(e.name),d(2),T("",_e(6,3,e.baseSalary)," RWF")}}function AN(n,t){if(n&1){let e=k();a(0,"div",75)(1,"label"),l(2,"Select Employees"),c(),a(3,"div",76),M(4,TN,7,5,"label",77),c(),a(5,"button",78),v("click",function(){h(e);let i=f(2);return _(i.selectAllEmployees())}),l(6,"Select All"),c()()}if(n&2){let e=f(2);d(4),m("ngForOf",e.employees)}}function NN(n,t){if(n&1&&(a(0,"div",82)(1,"div",83)(2,"span"),l(3,"Selected:"),c(),a(4,"span"),l(5),c()(),a(6,"div",83)(7,"span"),l(8,"Total Gross:"),c(),a(9,"span"),l(10),te(11,"number"),c()()()),n&2){let e=f(2);d(5),T("",e.selectedEmployeesCount," employees"),d(5),T("",_e(11,2,e.selectedTotalGross)," RWF")}}function RN(n,t){if(n&1){let e=k();a(0,"div",61),v("click",function(){h(e);let i=f();return _(i.closeGenerateModal())}),a(1,"div",62),v("click",function(i){return h(e),_(i.stopPropagation())}),a(2,"div",63)(3,"h2"),l(4,"Generate Payroll"),c(),a(5,"button",64),v("click",function(){h(e);let i=f();return _(i.closeGenerateModal())}),g(6,"app-lucide-icon",65),c()(),a(7,"div",66)(8,"div",67)(9,"label"),l(10,"Payroll Type"),c(),a(11,"select",68),E("ngModelChange",function(i){h(e);let r=f();return I(r.generateType,i)||(r.generateType=i),_(i)}),a(12,"option",25),l(13,"Employee Salaries (Monthly)"),c(),a(14,"option",26),l(15,"Supplier Payments (15-day)"),c()()(),a(16,"div",67)(17,"label"),l(18,"Period"),c(),a(19,"input",69),E("ngModelChange",function(i){h(e);let r=f();return I(r.generatePeriod,i)||(r.generatePeriod=i),_(i)}),c()(),M(20,AN,7,1,"div",70)(21,NN,12,4,"div",71),c(),a(22,"div",72)(23,"button",73),v("click",function(){h(e);let i=f();return _(i.closeGenerateModal())}),l(24,"Cancel"),c(),a(25,"button",74),v("click",function(){h(e);let i=f();return _(i.generatePayroll())}),l(26," Generate Payroll "),c()()()()}if(n&2){let e=f();d(11),S("ngModel",e.generateType),d(8),S("ngModel",e.generatePeriod),d(),m("ngIf",e.generateType==="employee"),d(),m("ngIf",e.selectedEmployeesCount>0),d(4),m("disabled",e.selectedEmployeesCount===0)}}function FN(n,t){if(n&1&&(a(0,"div",88)(1,"span",89),l(2,"Paid On"),c(),a(3,"span",90),l(4),te(5,"date"),c()()),n&2){let e=f(3);d(4),b(Gt(5,1,e.selectedRecord.paidAt,"mediumDate"))}}function LN(n,t){if(n&1&&(a(0,"div",98)(1,"div",99)(2,"span",100),l(3),te(4,"titlecase"),c(),a(5,"span",101),l(6),c()(),a(7,"span",102),l(8),te(9,"number"),c()()),n&2){let e=t.$implicit;d(2),Fe(e.type),d(),b(_e(4,5,e.type)),d(3),b(e.description),d(2),T("-",_e(9,7,e.amount)," RWF")}}function VN(n,t){if(n&1&&(a(0,"div",95)(1,"h4"),l(2,"Deductions"),c(),M(3,LN,10,9,"div",96),a(4,"div",97)(5,"span"),l(6,"Total Deductions"),c(),a(7,"span"),l(8),te(9,"number"),c()()()),n&2){let e=f(3);d(3),m("ngForOf",e.selectedRecord.deductions),d(5),T("-",_e(9,2,e.selectedRecord.totalDeductions)," RWF")}}function jN(n,t){if(n&1&&(a(0,"div",66)(1,"div",86)(2,"h3"),l(3),c(),a(4,"span",48),l(5),c()(),a(6,"div",87)(7,"div",88)(8,"span",89),l(9,"Period"),c(),a(10,"span",90),l(11),c()(),a(12,"div",88)(13,"span",89),l(14,"Type"),c(),a(15,"span",90),l(16),te(17,"titlecase"),c()(),a(18,"div",88)(19,"span",89),l(20,"Gross Amount"),c(),a(21,"span",90),l(22),te(23,"number"),c()(),M(24,FN,6,4,"div",91),c(),M(25,VN,10,4,"div",92),a(26,"div",93)(27,"span",89),l(28,"Net Payable"),c(),a(29,"span",94),l(30),te(31,"number"),c()()()),n&2){let e=f(2);d(3),b(e.selectedRecord.personName),d(),Fe(e.selectedRecord.status),d(),b(e.selectedRecord.status),d(6),b(e.selectedRecord.period),d(5),b(_e(17,10,e.selectedRecord.personType)),d(6),T("",_e(23,12,e.selectedRecord.grossAmount)," RWF"),d(2),m("ngIf",e.selectedRecord.paidAt),d(),m("ngIf",e.selectedRecord.deductions.length>0),d(5),T("",_e(31,14,e.selectedRecord.netAmount)," RWF")}}function zN(n,t){if(n&1){let e=k();a(0,"div",61),v("click",function(){h(e);let i=f();return _(i.closeViewModal())}),a(1,"div",84),v("click",function(i){return h(e),_(i.stopPropagation())}),a(2,"div",63)(3,"h2"),l(4,"Payroll Details"),c(),a(5,"button",64),v("click",function(){h(e);let i=f();return _(i.closeViewModal())}),g(6,"app-lucide-icon",65),c()(),M(7,jN,32,16,"div",85),a(8,"div",72)(9,"button",73),v("click",function(){h(e);let i=f();return _(i.closeViewModal())}),l(10,"Close"),c()()()()}if(n&2){let e=f();d(7),m("ngIf",e.selectedRecord)}}function BN(n,t){if(n&1){let e=k();a(0,"div",66)(1,"div",104)(2,"p"),l(3,"Pay "),a(4,"strong"),l(5),c()(),a(6,"div",105),l(7),te(8,"number"),c()(),a(9,"div",67)(10,"label"),l(11,"Payment Method"),c(),a(12,"select",68),E("ngModelChange",function(i){h(e);let r=f(2);return I(r.paymentMethod,i)||(r.paymentMethod=i),_(i)}),a(13,"option",106),l(14,"Bank Transfer"),c(),a(15,"option",107),l(16,"Mobile Money"),c(),a(17,"option",108),l(18,"Cash"),c()()()()}if(n&2){let e=f(2);d(5),b(e.recordToPay.personName),d(2),T("",_e(8,3,e.recordToPay.netAmount)," RWF"),d(5),S("ngModel",e.paymentMethod)}}function UN(n,t){if(n&1){let e=k();a(0,"div",61),v("click",function(){h(e);let i=f();return _(i.closePayModal())}),a(1,"div",103),v("click",function(i){return h(e),_(i.stopPropagation())}),a(2,"div",63)(3,"h2"),l(4,"Process Payment"),c(),a(5,"button",64),v("click",function(){h(e);let i=f();return _(i.closePayModal())}),g(6,"app-lucide-icon",65),c()(),M(7,BN,19,5,"div",85),a(8,"div",72)(9,"button",73),v("click",function(){h(e);let i=f();return _(i.closePayModal())}),l(10,"Cancel"),c(),a(11,"button",5),v("click",function(){h(e);let i=f();return _(i.processPayment())}),g(12,"app-lucide-icon",56),l(13," Confirm Payment "),c()()()()}if(n&2){let e=f();d(7),m("ngIf",e.recordToPay)}}var lp=class n{constructor(t){this.payrollService=t}payrollRecords=[];filteredRecords=[];employees=[];selectedPeriod="";selectedType="";selectedStatus="";showGenerateModal=!1;showViewModal=!1;showPayModal=!1;generateType="employee";generatePeriod="";selectedRecord=null;recordToPay=null;paymentMethod="bank";ngOnInit(){let t=new Date;this.selectedPeriod=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}`,this.generatePeriod=this.selectedPeriod,this.loadData()}loadData(){this.payrollRecords=this.payrollService.getPayrollRecords(),this.employees=this.payrollService.getEmployees().map(t=>$(w({},t),{selected:!1})),this.filterRecords()}get pendingCount(){return this.payrollRecords.filter(t=>t.status==="draft").length}get approvedCount(){return this.payrollRecords.filter(t=>t.status==="approved").length}get paidCount(){return this.payrollRecords.filter(t=>t.status==="paid"&&t.period===this.selectedPeriod).length}get totalPending(){return this.payrollRecords.filter(t=>t.status!=="paid").reduce((t,e)=>t+e.netAmount,0)}get selectedEmployeesCount(){return this.employees.filter(t=>t.selected).length}get selectedTotalGross(){return this.employees.filter(t=>t.selected).reduce((t,e)=>t+e.baseSalary,0)}filterRecords(){this.filteredRecords=this.payrollRecords.filter(t=>{let e=!this.selectedPeriod||t.period===this.selectedPeriod,o=!this.selectedType||t.personType===this.selectedType,i=!this.selectedStatus||t.status===this.selectedStatus;return e&&o&&i})}openGenerateModal(){this.showGenerateModal=!0}closeGenerateModal(){this.showGenerateModal=!1,this.employees.forEach(t=>t.selected=!1)}selectAllEmployees(){let t=this.employees.every(e=>e.selected);this.employees.forEach(e=>e.selected=!t)}generatePayroll(){let t=this.employees.filter(s=>s.selected),[e,o]=this.generatePeriod.split("-").map(Number),i=new Date(e,o-1,1),r=new Date(e,o,0);t.forEach(s=>{this.payrollService.generatePayroll(s.id,"employee",this.generatePeriod,i,r,s.baseSalary)}),this.loadData(),this.closeGenerateModal()}viewRecord(t){this.selectedRecord=t,this.showViewModal=!0}closeViewModal(){this.showViewModal=!1,this.selectedRecord=null}approveRecord(t){this.payrollService.approvePayroll(t.id,"Current User"),this.loadData()}openPayModal(t){this.recordToPay=t,this.showPayModal=!0}closePayModal(){this.showPayModal=!1,this.recordToPay=null}processPayment(){this.recordToPay&&(this.payrollService.processPayment(this.recordToPay.id,this.paymentMethod),this.loadData(),this.closePayModal())}static \u0275fac=function(e){return new(e||n)(D(ni))};static \u0275cmp=N({type:n,selectors:[["app-payroll-processing"]],decls:85,vars:15,consts:[[1,"payroll-container"],[1,"page-header"],[1,"header-content"],[1,"page-description"],[1,"header-actions"],[1,"btn-primary",3,"click"],["name","plus","size","16px"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon","pending"],["name","clock","size","20px"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-icon","approved"],["name","check","size","20px"],[1,"stat-icon","paid"],["name","check-circle","size","20px"],[1,"stat-icon","amount"],["name","dollar-sign","size","20px"],[1,"filter-section"],[1,"filter-group"],["type","month",3,"ngModelChange","change","ngModel"],[3,"ngModelChange","change","ngModel"],["value",""],["value","employee"],["value","supplier"],["value","draft"],["value","approved"],["value","paid"],[1,"card"],[1,"card-header"],[1,"card-title-section"],[1,"item-count"],[1,"card-body"],["class","table-responsive",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"person-cell"],[1,"name"],[1,"type-badge"],[1,"deductions"],["class","has-deductions",4,"ngIf"],[4,"ngIf"],[1,"net-amount"],[1,"status-badge"],[1,"actions-cell"],["title","View Details",1,"action-btn","view",3,"click"],["name","eye","size","16px"],["class","action-btn approve","title","Approve",3,"click",4,"ngIf"],["class","action-btn pay","title","Process Payment",3,"click",4,"ngIf"],[1,"has-deductions"],["title","Approve",1,"action-btn","approve",3,"click"],["name","check","size","16px"],["title","Process Payment",1,"action-btn","pay",3,"click"],["name","dollar-sign","size","16px"],[1,"empty-state"],["name","file-text","size","48px"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","x","size","20px"],[1,"modal-body"],[1,"form-group"],[3,"ngModelChange","ngModel"],["type","month",3,"ngModelChange","ngModel"],["class","employee-selection",4,"ngIf"],["class","summary-box",4,"ngIf"],[1,"modal-footer"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click","disabled"],[1,"employee-selection"],[1,"checkbox-list"],["class","checkbox-item",4,"ngFor","ngForOf"],[1,"btn-link",3,"click"],[1,"checkbox-item"],["type","checkbox",3,"ngModelChange","ngModel"],[1,"salary"],[1,"summary-box"],[1,"summary-row"],[1,"modal-container","view-modal",3,"click"],["class","modal-body",4,"ngIf"],[1,"record-header"],[1,"details-grid"],[1,"detail-item"],[1,"label"],[1,"value"],["class","detail-item",4,"ngIf"],["class","deductions-section",4,"ngIf"],[1,"net-section"],[1,"net-value"],[1,"deductions-section"],["class","deduction-item",4,"ngFor","ngForOf"],[1,"deduction-total"],[1,"deduction-item"],[1,"deduction-info"],[1,"type"],[1,"desc"],[1,"amount"],[1,"modal-container","pay-modal",3,"click"],[1,"pay-summary"],[1,"pay-amount"],["value","bank"],["value","mobile"],["value","cash"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),l(4,"Payroll Processing"),c(),a(5,"p",3),l(6,"Generate and process employee & supplier payments"),c()(),a(7,"div",4)(8,"button",5),v("click",function(){return o.openGenerateModal()}),g(9,"app-lucide-icon",6),l(10," Generate Payroll "),c()()(),a(11,"div",7)(12,"div",8)(13,"div",9),g(14,"app-lucide-icon",10),c(),a(15,"div",11)(16,"span",12),l(17),c(),a(18,"span",13),l(19,"Pending Approval"),c()()(),a(20,"div",8)(21,"div",14),g(22,"app-lucide-icon",15),c(),a(23,"div",11)(24,"span",12),l(25),c(),a(26,"span",13),l(27,"Ready to Pay"),c()()(),a(28,"div",8)(29,"div",16),g(30,"app-lucide-icon",17),c(),a(31,"div",11)(32,"span",12),l(33),c(),a(34,"span",13),l(35,"Paid This Month"),c()()(),a(36,"div",8)(37,"div",18),g(38,"app-lucide-icon",19),c(),a(39,"div",11)(40,"span",12),l(41),te(42,"number"),c(),a(43,"span",13),l(44,"Pending Amount (RWF)"),c()()()(),a(45,"div",20)(46,"div",21)(47,"label"),l(48,"Period"),c(),a(49,"input",22),E("ngModelChange",function(r){return I(o.selectedPeriod,r)||(o.selectedPeriod=r),r}),v("change",function(){return o.filterRecords()}),c()(),a(50,"div",21)(51,"label"),l(52,"Type"),c(),a(53,"select",23),E("ngModelChange",function(r){return I(o.selectedType,r)||(o.selectedType=r),r}),v("change",function(){return o.filterRecords()}),a(54,"option",24),l(55,"All"),c(),a(56,"option",25),l(57,"Employees"),c(),a(58,"option",26),l(59,"Suppliers"),c()()(),a(60,"div",21)(61,"label"),l(62,"Status"),c(),a(63,"select",23),E("ngModelChange",function(r){return I(o.selectedStatus,r)||(o.selectedStatus=r),r}),v("change",function(){return o.filterRecords()}),a(64,"option",24),l(65,"All Status"),c(),a(66,"option",27),l(67,"Draft"),c(),a(68,"option",28),l(69,"Approved"),c(),a(70,"option",29),l(71,"Paid"),c()()()(),a(72,"div",30)(73,"div",31)(74,"div",32)(75,"h3"),l(76,"Payroll Records"),c(),a(77,"span",33),l(78),c()()(),a(79,"div",34),M(80,DN,22,1,"div",35)(81,kN,6,0,"div",36),c()()(),M(82,RN,27,5,"div",37)(83,zN,11,1,"div",37)(84,UN,14,1,"div",37)),e&2&&(d(17),b(o.pendingCount),d(8),b(o.approvedCount),d(8),b(o.paidCount),d(8),b(_e(42,13,o.totalPending)),d(8),S("ngModel",o.selectedPeriod),d(4),S("ngModel",o.selectedType),d(10),S("ngModel",o.selectedStatus),d(15),T("",o.filteredRecords.length," records"),d(2),m("ngIf",o.filteredRecords.length>0),d(),m("ngIf",o.filteredRecords.length===0),d(),m("ngIf",o.showGenerateModal),d(),m("ngIf",o.showViewModal),d(),m("ngIf",o.showPayModal))},dependencies:[R,ee,G,ie,Oe,we,ve,Yh,Pe,se,he,q,Bi,zi,un],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;padding:20px}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:.25rem;width:100%;max-width:540px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border:none}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.btn-close-custom[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close-custom[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.btn-close-custom[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex:1}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:16px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;transition:all .2s;width:100%;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:40px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.75rem;margin-top:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:1.25rem;border-top:1px solid rgba(27,46,75,.1)}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b!important;border-color:#1b2e4b!important;color:#fff!important;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #1b2e4b33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3498db!important;border-color:#3498db!important;box-shadow:0 4px 12px #1b2e4b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;font-size:.875rem;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c!important;color:#fff!important;border:none!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #e74c3c4d}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b!important;box-shadow:0 4px 12px #e74c3c66}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:12px}.modal-container[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}}.payroll-container[_ngcontent-%COMP%]{padding:12px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px;gap:20px}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column}}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1e293b;margin:0 0 4px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{color:#6c757d;font-size:14px;margin:0}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:16px;margin-bottom:20px}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:16px;border:1px solid #e9ecef;box-shadow:none;display:flex;align-items:center;gap:12px}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:8px;display:flex;align-items:center;justify-content:center}.stat-card[_ngcontent-%COMP%]   .stat-icon.pending[_ngcontent-%COMP%]{background:#f1c40f26;color:#aa8a0a}.stat-card[_ngcontent-%COMP%]   .stat-icon.approved[_ngcontent-%COMP%]{background:#3498db1a;color:#3498db}.stat-card[_ngcontent-%COMP%]   .stat-icon.paid[_ngcontent-%COMP%]{background:#1abc9c1a;color:#1abc9c}.stat-card[_ngcontent-%COMP%]   .stat-icon.amount[_ngcontent-%COMP%]{background:#004aad1a;color:#004aad}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-size:20px;font-weight:600;color:#1e293b}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:13px;color:#6c757d}.filter-section[_ngcontent-%COMP%]{display:flex;gap:16px;margin-bottom:16px;flex-wrap:wrap;align-items:flex-end}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#6c757d;text-transform:uppercase}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem;color:#1e293b;background:#fff}.filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .filter-section[_ngcontent-%COMP%]   .filter-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#004aad80}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:none;border:none;overflow:hidden}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid rgba(0,74,173,.1);background:#fff}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .card-title-section[_ngcontent-%COMP%]   .item-count[_ngcontent-%COMP%]{background:#e9ecef;color:#6c757d;padding:4px 10px;border-radius:12px;font-size:12px;font-weight:500}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#004aad08;padding:12px 16px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#6c757d;border-bottom:1px solid rgba(0,74,173,.1);text-align:left;white-space:nowrap}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #f8f9fa;font-size:.875rem;color:#1e293b;vertical-align:middle}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#004aad05}.person-cell[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500}.type-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:.6875rem;font-weight:600;text-transform:uppercase}.type-badge.employee[_ngcontent-%COMP%]{background:#3498db1a;color:#3498db}.type-badge.supplier[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6}.deductions[_ngcontent-%COMP%]   .has-deductions[_ngcontent-%COMP%]{color:#e74c3c;font-weight:500}.net-amount[_ngcontent-%COMP%]{font-weight:600;color:#004aad}.status-badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:capitalize}.status-badge.draft[_ngcontent-%COMP%]{background:#f1c40f26;color:#796307}.status-badge.approved[_ngcontent-%COMP%]{background:#3498db26;color:#1d6fa5}.status-badge.paid[_ngcontent-%COMP%]{background:#1abc9c26;color:#148f77}.actions-cell[_ngcontent-%COMP%]{display:flex;gap:4px}.action-btn[_ngcontent-%COMP%]{width:32px;height:32px;border:none;border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.action-btn.view[_ngcontent-%COMP%]{background:#004aad14;color:#004aad}.action-btn.view[_ngcontent-%COMP%]:hover{background:#004aad26}.action-btn.approve[_ngcontent-%COMP%]{background:#1abc9c14;color:#1abc9c}.action-btn.approve[_ngcontent-%COMP%]:hover{background:#1abc9c26}.action-btn.pay[_ngcontent-%COMP%]{background:#3498db14;color:#3498db}.action-btn.pay[_ngcontent-%COMP%]:hover{background:#3498db26}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px 24px;color:#6c757d}.empty-state[_ngcontent-%COMP%]   app-lucide-icon[_ngcontent-%COMP%]{margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0 0 8px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem}.employee-selection[_ngcontent-%COMP%]{margin-top:16px}.employee-selection[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#1e293b;margin-bottom:8px}.employee-selection[_ngcontent-%COMP%]   .checkbox-list[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;border:1px solid #dee2e6;border-radius:4px;padding:8px}.employee-selection[_ngcontent-%COMP%]   .checkbox-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:8px;cursor:pointer;border-radius:4px}.employee-selection[_ngcontent-%COMP%]   .checkbox-item[_ngcontent-%COMP%]:hover{background:#f8f9fa}.employee-selection[_ngcontent-%COMP%]   .checkbox-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:16px;height:16px;accent-color:#004AAD}.employee-selection[_ngcontent-%COMP%]   .checkbox-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{flex:1;font-size:.875rem}.employee-selection[_ngcontent-%COMP%]   .checkbox-item[_ngcontent-%COMP%]   .salary[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d}.btn-link[_ngcontent-%COMP%]{background:none;border:none;color:#004aad;font-size:.8125rem;cursor:pointer;padding:8px 0}.btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.summary-box[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:4px;padding:12px 16px;margin-top:16px}.summary-box[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:4px 0;font-size:.875rem}.summary-box[_ngcontent-%COMP%]   .summary-row[_ngcontent-%COMP%]:last-child{font-weight:600;color:#004aad}.view-modal[_ngcontent-%COMP%]{max-width:500px}.view-modal[_ngcontent-%COMP%]   .record-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px;padding-bottom:16px;border-bottom:1px solid rgba(0,74,173,.1)}.view-modal[_ngcontent-%COMP%]   .record-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;color:#1e293b}.view-modal[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-bottom:20px}.view-modal[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#6c757d;text-transform:uppercase;margin-bottom:4px}.view-modal[_ngcontent-%COMP%]   .details-grid[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:#1e293b}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:4px;padding:16px;margin-bottom:16px}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:.8125rem;font-weight:600;color:#1e293b;margin:0 0 12px;text-transform:uppercase}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid rgba(0,74,173,.1)}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .deduction-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .deduction-info[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%]{padding:2px 6px;border-radius:4px;font-size:.625rem;font-weight:600;text-transform:uppercase}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .deduction-info[_ngcontent-%COMP%]   .type.advance[_ngcontent-%COMP%]{background:#3498db26;color:#1d6fa5}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .deduction-info[_ngcontent-%COMP%]   .type.product_debt[_ngcontent-%COMP%]{background:#f1c40f26;color:#796307}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .deduction-info[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{font-size:.8125rem;color:#1e293b}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   .deduction-item[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-weight:500;color:#e74c3c;font-size:.875rem}.view-modal[_ngcontent-%COMP%]   .deductions-section[_ngcontent-%COMP%]   .deduction-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-top:12px;font-weight:600;font-size:.875rem;color:#e74c3c}.view-modal[_ngcontent-%COMP%]   .net-section[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;background:#004aad0d;border-radius:4px}.view-modal[_ngcontent-%COMP%]   .net-section[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:#1e293b}.view-modal[_ngcontent-%COMP%]   .net-section[_ngcontent-%COMP%]   .net-value[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#004aad}.pay-modal[_ngcontent-%COMP%]{max-width:400px}.pay-modal[_ngcontent-%COMP%]   .pay-summary[_ngcontent-%COMP%]{text-align:center;padding:20px 0}.pay-modal[_ngcontent-%COMP%]   .pay-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;color:#1e293b}.pay-modal[_ngcontent-%COMP%]   .pay-summary[_ngcontent-%COMP%]   .pay-amount[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#004aad}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#495057;border:1px solid #dee2e6;padding:.625rem 1.25rem;border-radius:4px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8f9fa}"]})};function HN(n,t){if(n&1&&(a(0,"tr")(1,"td",31)(2,"span",32),l(3),c()(),a(4,"td")(5,"span",33),l(6),c()(),a(7,"td"),l(8),te(9,"number"),c(),a(10,"td",34),l(11),te(12,"number"),c(),a(13,"td",35),l(14),c(),a(15,"td"),l(16),te(17,"date"),c(),a(18,"td")(19,"span",36),l(20),c()()()),n&2){let e=t.$implicit;d(3),b(e.personName),d(2),Fe(e.personType),d(),T(" ",e.personType," "),d(2),b(_e(9,11,e.amount)),d(3),b(_e(12,13,e.remainingBalance)),d(3),b(e.reason),d(2),b(Gt(17,15,e.date,"mediumDate")),d(3),Fe(e.status),d(),T(" ",e.status," ")}}function $N(n,t){if(n&1&&(a(0,"div",28)(1,"table",29)(2,"thead")(3,"tr")(4,"th"),l(5,"Person"),c(),a(6,"th"),l(7,"Type"),c(),a(8,"th"),l(9,"Original Amount"),c(),a(10,"th"),l(11,"Remaining"),c(),a(12,"th"),l(13,"Reason"),c(),a(14,"th"),l(15,"Date"),c(),a(16,"th"),l(17,"Status"),c()()(),a(18,"tbody"),M(19,HN,21,18,"tr",30),c()()()),n&2){let e=f(2);d(19),m("ngForOf",e.pendingAdvances)}}function WN(n,t){n&1&&(a(0,"div",37),g(1,"app-lucide-icon",38),a(2,"h4"),l(3,"No pending advances"),c(),a(4,"p"),l(5,"All advances have been cleared"),c()())}function qN(n,t){if(n&1&&(a(0,"div",24)(1,"div",25),M(2,$N,20,1,"div",26)(3,WN,6,0,"div",27),c()()),n&2){let e=f();d(2),m("ngIf",e.pendingAdvances.length>0),d(),m("ngIf",e.pendingAdvances.length===0)}}function GN(n,t){if(n&1&&(a(0,"tr")(1,"td",31)(2,"span",32),l(3),c()(),a(4,"td")(5,"span",33),l(6),c()(),a(7,"td",39)(8,"span",40),l(9),c(),a(10,"span",41),l(11),c()(),a(12,"td"),l(13),te(14,"number"),c(),a(15,"td",34),l(16),te(17,"number"),c(),a(18,"td"),l(19),te(20,"date"),c(),a(21,"td")(22,"span",36),l(23),c()()()),n&2){let e=t.$implicit,o=f(3);d(3),b(e.personName),d(2),Fe(e.personType),d(),T(" ",e.personType," "),d(3),T("",e.products.length," items"),d(2),T(" ",o.getProductNames(e)," "),d(2),b(_e(14,12,e.totalAmount)),d(3),b(_e(17,14,e.remainingBalance)),d(3),b(Gt(20,16,e.date,"mediumDate")),d(3),Fe(e.status),d(),T(" ",e.status," ")}}function YN(n,t){if(n&1&&(a(0,"div",28)(1,"table",29)(2,"thead")(3,"tr")(4,"th"),l(5,"Person"),c(),a(6,"th"),l(7,"Type"),c(),a(8,"th"),l(9,"Products"),c(),a(10,"th"),l(11,"Total Amount"),c(),a(12,"th"),l(13,"Remaining"),c(),a(14,"th"),l(15,"Date"),c(),a(16,"th"),l(17,"Status"),c()()(),a(18,"tbody"),M(19,GN,24,19,"tr",30),c()()()),n&2){let e=f(2);d(19),m("ngForOf",e.pendingDebts)}}function ZN(n,t){n&1&&(a(0,"div",37),g(1,"app-lucide-icon",38),a(2,"h4"),l(3,"No pending product debts"),c(),a(4,"p"),l(5,"All product debts have been cleared"),c()())}function KN(n,t){if(n&1&&(a(0,"div",24)(1,"div",25),M(2,YN,20,1,"div",26)(3,ZN,6,0,"div",27),c()()),n&2){let e=f();d(2),m("ngIf",e.pendingDebts.length>0),d(),m("ngIf",e.pendingDebts.length===0)}}function QN(n,t){if(n&1&&(a(0,"option",62),l(1),c()),n&2){let e=t.$implicit;m("value",e.id),d(),b(e.name)}}function JN(n,t){if(n&1){let e=k();a(0,"div",42),v("click",function(){h(e);let i=f();return _(i.closeAdvanceModal())}),a(1,"div",43),v("click",function(i){return h(e),_(i.stopPropagation())}),a(2,"div",44)(3,"h2"),l(4,"Record Advance"),c(),a(5,"button",45),v("click",function(){h(e);let i=f();return _(i.closeAdvanceModal())}),g(6,"app-lucide-icon",46),c()(),a(7,"form",47),v("ngSubmit",function(){h(e);let i=f();return _(i.saveAdvance())}),a(8,"div",48)(9,"div",49)(10,"label"),l(11,"Person Type *"),c(),a(12,"select",50),E("ngModelChange",function(i){h(e);let r=f();return I(r.newAdvance.personType,i)||(r.newAdvance.personType=i),_(i)}),v("change",function(){h(e);let i=f();return _(i.onPersonTypeChange())}),a(13,"option",51),l(14,"Employee"),c(),a(15,"option",52),l(16,"Supplier"),c()()(),a(17,"div",49)(18,"label"),l(19),te(20,"titlecase"),c(),a(21,"select",53),E("ngModelChange",function(i){h(e);let r=f();return I(r.newAdvance.personId,i)||(r.newAdvance.personId=i),_(i)}),v("change",function(){h(e);let i=f();return _(i.onPersonSelect())}),a(22,"option",54),l(23,"Select..."),c(),M(24,QN,2,2,"option",55),c()(),a(25,"div",49)(26,"label"),l(27,"Amount (RWF) *"),c(),a(28,"input",56),E("ngModelChange",function(i){h(e);let r=f();return I(r.newAdvance.amount,i)||(r.newAdvance.amount=i),_(i)}),c()(),a(29,"div",49)(30,"label"),l(31,"Reason *"),c(),a(32,"textarea",57),E("ngModelChange",function(i){h(e);let r=f();return I(r.newAdvance.reason,i)||(r.newAdvance.reason=i),_(i)}),c()(),a(33,"div",49)(34,"label"),l(35,"Date"),c(),a(36,"input",58),E("ngModelChange",function(i){h(e);let r=f();return I(r.advanceDateStr,i)||(r.advanceDateStr=i),_(i)}),c()()(),a(37,"div",59)(38,"button",60),v("click",function(){h(e);let i=f();return _(i.closeAdvanceModal())}),l(39,"Cancel"),c(),a(40,"button",61),l(41," Record Advance "),c()()()()()}if(n&2){let e=f();d(12),S("ngModel",e.newAdvance.personType),d(7),T("Select ",_e(20,8,e.newAdvance.personType)," *"),d(2),S("ngModel",e.newAdvance.personId),d(3),m("ngForOf",e.employees),d(4),S("ngModel",e.newAdvance.amount),d(4),S("ngModel",e.newAdvance.reason),d(4),S("ngModel",e.advanceDateStr),d(4),m("disabled",!e.newAdvance.personId||!e.newAdvance.amount)}}function XN(n,t){if(n&1&&(a(0,"option",62),l(1),c()),n&2){let e=t.$implicit;m("value",e.id),d(),b(e.name)}}function eR(n,t){if(n&1){let e=k();a(0,"button",77),v("click",function(){h(e);let i=f().index,r=f(2);return _(r.removeProduct(i))}),g(1,"app-lucide-icon",78),c()}}function tR(n,t){if(n&1){let e=k();a(0,"div",71)(1,"input",72),E("ngModelChange",function(i){let r=h(e).$implicit;return I(r.productName,i)||(r.productName=i),_(i)}),c(),a(2,"input",73),E("ngModelChange",function(i){let r=h(e).$implicit;return I(r.quantity,i)||(r.quantity=i),_(i)}),c(),a(3,"input",74),E("ngModelChange",function(i){let r=h(e).$implicit;return I(r.unitPrice,i)||(r.unitPrice=i),_(i)}),c(),a(4,"span",75),l(5),te(6,"number"),c(),M(7,eR,2,0,"button",76),c()}if(n&2){let e=t.$implicit,o=t.index,i=f(2);d(),S("ngModel",e.productName),m("name","productName"+o),d(),S("ngModel",e.quantity),m("name","quantity"+o),d(),S("ngModel",e.unitPrice),m("name","unitPrice"+o),d(2),b(_e(6,8,(e.quantity||0)*(e.unitPrice||0))),d(2),m("ngIf",i.debtProducts.length>1)}}function nR(n,t){if(n&1){let e=k();a(0,"div",42),v("click",function(){h(e);let i=f();return _(i.closeDebtModal())}),a(1,"div",63),v("click",function(i){return h(e),_(i.stopPropagation())}),a(2,"div",44)(3,"h2"),l(4,"Record Product Debt"),c(),a(5,"button",45),v("click",function(){h(e);let i=f();return _(i.closeDebtModal())}),g(6,"app-lucide-icon",46),c()(),a(7,"form",47),v("ngSubmit",function(){h(e);let i=f();return _(i.saveProductDebt())}),a(8,"div",48)(9,"div",64)(10,"div",49)(11,"label"),l(12,"Person Type *"),c(),a(13,"select",50),E("ngModelChange",function(i){h(e);let r=f();return I(r.newDebt.personType,i)||(r.newDebt.personType=i),_(i)}),v("change",function(){h(e);let i=f();return _(i.onDebtPersonTypeChange())}),a(14,"option",51),l(15,"Employee"),c(),a(16,"option",52),l(17,"Supplier"),c()()(),a(18,"div",49)(19,"label"),l(20),te(21,"titlecase"),c(),a(22,"select",53),E("ngModelChange",function(i){h(e);let r=f();return I(r.newDebt.personId,i)||(r.newDebt.personId=i),_(i)}),v("change",function(){h(e);let i=f();return _(i.onDebtPersonSelect())}),a(23,"option",54),l(24,"Select..."),c(),M(25,XN,2,2,"option",55),c()()(),a(26,"div",65)(27,"label"),l(28,"Products"),c(),M(29,tR,8,10,"div",66),a(30,"button",67),v("click",function(){h(e);let i=f();return _(i.addProduct())}),g(31,"app-lucide-icon",68),l(32," Add Product "),c()(),a(33,"div",69)(34,"span"),l(35,"Total:"),c(),a(36,"span",70),l(37),te(38,"number"),c()()(),a(39,"div",59)(40,"button",60),v("click",function(){h(e);let i=f();return _(i.closeDebtModal())}),l(41,"Cancel"),c(),a(42,"button",61),l(43," Record Debt "),c()()()()()}if(n&2){let e=f();d(13),S("ngModel",e.newDebt.personType),d(7),T("Select ",_e(21,7,e.newDebt.personType)," *"),d(2),S("ngModel",e.newDebt.personId),d(3),m("ngForOf",e.employees),d(4),m("ngForOf",e.debtProducts),d(8),T("",_e(38,9,e.calculateDebtTotal())," RWF"),d(5),m("disabled",!e.newDebt.personId||e.calculateDebtTotal()===0)}}var dp=class n{constructor(t){this.payrollService=t}advances=[];productDebts=[];employees=[];activeTab="advances";showAdvanceModal=!1;showDebtModal=!1;newAdvance={personType:"employee"};advanceDateStr="";newDebt={personType:"employee"};debtProducts=[{productName:"",quantity:1,unitPrice:0}];ngOnInit(){this.loadData(),this.advanceDateStr=new Date().toISOString().split("T")[0]}loadData(){this.advances=this.payrollService.getAdvances(),this.productDebts=this.payrollService.getProductDebts(),this.employees=this.payrollService.getEmployees()}get pendingAdvances(){return this.advances.filter(t=>t.status!=="cleared")}get pendingDebts(){return this.productDebts.filter(t=>t.status!=="cleared")}get totalAdvances(){return this.pendingAdvances.reduce((t,e)=>t+e.remainingBalance,0)}get totalDebts(){return this.pendingDebts.reduce((t,e)=>t+e.remainingBalance,0)}getProductNames(t){return t.products.map(e=>e.productName).join(", ")}openAdvanceModal(){this.newAdvance={personType:"employee"},this.advanceDateStr=new Date().toISOString().split("T")[0],this.showAdvanceModal=!0}closeAdvanceModal(){this.showAdvanceModal=!1}onPersonTypeChange(){this.newAdvance.personId="",this.newAdvance.personName=""}onPersonSelect(){let t=this.employees.find(e=>e.id===this.newAdvance.personId);t&&(this.newAdvance.personName=t.name)}saveAdvance(){this.payrollService.addAdvance({personId:this.newAdvance.personId,personName:this.newAdvance.personName,personType:this.newAdvance.personType,amount:this.newAdvance.amount,remainingBalance:this.newAdvance.amount,reason:this.newAdvance.reason,date:new Date(this.advanceDateStr)}),this.loadData(),this.closeAdvanceModal()}openProductDebtModal(){this.newDebt={personType:"employee"},this.debtProducts=[{productName:"",quantity:1,unitPrice:0}],this.showDebtModal=!0}closeDebtModal(){this.showDebtModal=!1}onDebtPersonTypeChange(){this.newDebt.personId="",this.newDebt.personName=""}onDebtPersonSelect(){let t=this.employees.find(e=>e.id===this.newDebt.personId);t&&(this.newDebt.personName=t.name)}addProduct(){this.debtProducts.push({productName:"",quantity:1,unitPrice:0})}removeProduct(t){this.debtProducts.splice(t,1)}calculateDebtTotal(){return this.debtProducts.reduce((t,e)=>t+(e.quantity||0)*(e.unitPrice||0),0)}saveProductDebt(){let t=this.debtProducts.filter(o=>o.productName&&o.quantity>0).map(o=>({productName:o.productName,quantity:o.quantity,unitPrice:o.unitPrice,totalPrice:o.quantity*o.unitPrice})),e=t.reduce((o,i)=>o+i.totalPrice,0);this.payrollService.addProductDebt({personId:this.newDebt.personId,personName:this.newDebt.personName,personType:this.newDebt.personType,products:t,totalAmount:e,remainingBalance:e,date:new Date}),this.loadData(),this.closeDebtModal()}static \u0275fac=function(e){return new(e||n)(D(ni))};static \u0275cmp=N({type:n,selectors:[["app-advances"]],decls:51,vars:19,consts:[[1,"advances-container"],[1,"page-header"],[1,"header-content"],[1,"page-description"],[1,"header-actions"],[1,"btn-outline",3,"click"],["name","package","size","16px"],[1,"btn-primary",3,"click"],["name","plus","size","16px"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon","advances"],["name","dollar-sign","size","20px"],[1,"stat-content"],[1,"stat-value"],[1,"stat-label"],[1,"stat-icon","debts"],["name","package","size","20px"],[1,"stat-icon","total"],["name","alert-circle","size","20px"],[1,"tabs"],[1,"tab",3,"click"],["class","card",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"card"],[1,"card-body"],["class","table-responsive",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],[1,"person-cell"],[1,"name"],[1,"type-badge"],[1,"remaining"],[1,"reason"],[1,"status-badge"],[1,"empty-state"],["name","check-circle","size","48px"],[1,"products-cell"],[1,"product-count"],[1,"product-list"],[1,"modal-overlay",3,"click"],[1,"modal-container",3,"click"],[1,"modal-header"],[1,"close-btn",3,"click"],["name","x","size","20px"],[3,"ngSubmit"],[1,"modal-body"],[1,"form-group"],["name","personType",3,"ngModelChange","change","ngModel"],["value","employee"],["value","supplier"],["name","personId",3,"ngModelChange","change","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","number","name","amount","required","","min","1",3,"ngModelChange","ngModel"],["name","reason","rows","3","required","",3,"ngModelChange","ngModel"],["type","date","name","date",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","button",1,"btn-secondary",3,"click"],["type","submit",1,"btn-primary",3,"disabled"],[3,"value"],[1,"modal-container","debt-modal",3,"click"],[1,"form-row"],[1,"products-section"],["class","product-row",4,"ngFor","ngForOf"],["type","button",1,"btn-link",3,"click"],["name","plus","size","14px"],[1,"debt-total"],[1,"amount"],[1,"product-row"],["type","text","placeholder","Product name",3,"ngModelChange","ngModel","name"],["type","number","placeholder","Qty","min","1",3,"ngModelChange","ngModel","name"],["type","number","placeholder","Unit price",3,"ngModelChange","ngModel","name"],[1,"product-total"],["type","button","class","remove-btn",3,"click",4,"ngIf"],["type","button",1,"remove-btn",3,"click"],["name","x","size","14px"]],template:function(e,o){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),l(4,"Advances & Debts"),c(),a(5,"p",3),l(6,"Manage employee advances and product debts"),c()(),a(7,"div",4)(8,"button",5),v("click",function(){return o.openProductDebtModal()}),g(9,"app-lucide-icon",6),l(10," Record Product Debt "),c(),a(11,"button",7),v("click",function(){return o.openAdvanceModal()}),g(12,"app-lucide-icon",8),l(13," Record Advance "),c()()(),a(14,"div",9)(15,"div",10)(16,"div",11),g(17,"app-lucide-icon",12),c(),a(18,"div",13)(19,"span",14),l(20),te(21,"number"),c(),a(22,"span",15),l(23,"Pending Advances (RWF)"),c()()(),a(24,"div",10)(25,"div",16),g(26,"app-lucide-icon",17),c(),a(27,"div",13)(28,"span",14),l(29),te(30,"number"),c(),a(31,"span",15),l(32,"Product Debts (RWF)"),c()()(),a(33,"div",10)(34,"div",18),g(35,"app-lucide-icon",19),c(),a(36,"div",13)(37,"span",14),l(38),te(39,"number"),c(),a(40,"span",15),l(41,"Total Outstanding (RWF)"),c()()()(),a(42,"div",20)(43,"button",21),v("click",function(){return o.activeTab="advances"}),l(44),c(),a(45,"button",21),v("click",function(){return o.activeTab="debts"}),l(46),c()(),M(47,qN,4,2,"div",22)(48,KN,4,2,"div",22),c(),M(49,JN,42,10,"div",23)(50,nR,44,11,"div",23)),e&2&&(d(20),b(_e(21,13,o.totalAdvances)),d(9),b(_e(30,15,o.totalDebts)),d(9),b(_e(39,17,o.totalAdvances+o.totalDebts)),d(5),H("active",o.activeTab==="advances"),d(),T(" Advances (",o.pendingAdvances.length,") "),d(),H("active",o.activeTab==="debts"),d(),T(" Product Debts (",o.pendingDebts.length,") "),d(),m("ngIf",o.activeTab==="advances"),d(),m("ngIf",o.activeTab==="debts"),d(),m("ngIf",o.showAdvanceModal),d(),m("ngIf",o.showDebtModal))},dependencies:[R,ee,G,ie,De,Oe,we,ve,ct,Pe,se,Ie,Xe,_t,he,$e,q,Bi,zi,un],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050;padding:20px}.modal-container[_ngcontent-%COMP%]{background:#fff;border-radius:.25rem;width:100%;max-width:540px;max-height:90vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 10px 20px #00000030,0 6px 6px #0000003b;border:none}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;border-bottom:1px solid rgba(27,46,75,.1);background-color:#fff}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.modal-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.btn-close-custom[_ngcontent-%COMP%]{background:#fff;border:2px solid #e5e7eb;color:#475569;width:36px;height:36px;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-close-custom[_ngcontent-%COMP%]:hover{background:#dc3545;border-color:#dc3545;color:#fff;transform:scale(1.05)}.btn-close-custom[_ngcontent-%COMP%]:focus-visible{outline:none;box-shadow:0 0 0 3px #dc354559}.modal-body[_ngcontent-%COMP%]{padding:1.25rem;overflow-y:auto;flex:1}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:16px}.form-group.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.form-group[_ngcontent-%COMP%]:last-child{margin-bottom:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#374151}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem .875rem;border:1px solid #dee2e6;border-radius:.25rem;font-size:.875rem;color:#1e293b;transition:all .2s;width:100%;background-color:#fff}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#1b2e4b80;box-shadow:0 0 0 .2rem #1b2e4b26}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]::placeholder, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:disabled, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{position:absolute;left:12px;color:#9ca3af;z-index:1}.form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:40px}.form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e74c3c;font-size:.75rem;margin-top:4px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:12px;padding:1.25rem;border-top:1px solid rgba(27,46,75,.1)}.btn-primary[_ngcontent-%COMP%]{background-color:#1b2e4b!important;border-color:#1b2e4b!important;color:#fff!important;border:none;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #1b2e4b33}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3498db!important;border-color:#3498db!important;box-shadow:0 4px 12px #1b2e4b4d}.btn-primary[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%], .btn-outline[_ngcontent-%COMP%]{background:#fff!important;color:#495057!important;border:1px solid #dee2e6!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;font-size:.875rem;transition:all .2s;display:inline-flex;align-items:center;gap:6px}.btn-secondary[_ngcontent-%COMP%]:hover, .btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa!important;border-color:#1b2e4b4d!important;color:#1b2e4b!important}.btn-danger[_ngcontent-%COMP%]{background:#e74c3c!important;color:#fff!important;border:none!important;padding:.5rem 1rem;border-radius:.25rem;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;gap:6px;font-size:.875rem;transition:all .2s;box-shadow:0 2px 6px #e74c3c4d}.btn-danger[_ngcontent-%COMP%]:hover{background:#df2e1b!important;box-shadow:0 4px 12px #e74c3c66}@media (max-width: 768px){.modal-overlay[_ngcontent-%COMP%]{padding:12px}.modal-container[_ngcontent-%COMP%]{max-height:95vh}.modal-header[_ngcontent-%COMP%]{padding:1rem}.modal-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}.modal-body[_ngcontent-%COMP%]{padding:1rem}.modal-footer[_ngcontent-%COMP%]{padding:1rem;flex-direction:column}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{width:100%;justify-content:center}}.advances-container[_ngcontent-%COMP%]{padding:12px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:24px;gap:20px}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{flex-direction:column}}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px;font-weight:600;color:#1e293b;margin:0 0 4px}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{color:#6c757d;font-size:14px;margin:0}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.btn-outline[_ngcontent-%COMP%]{background:#fff;color:#495057;border:1px solid #dee2e6;padding:.625rem 1.25rem;border-radius:4px;font-weight:600;cursor:pointer;display:inline-flex;align-items:center;gap:8px;font-size:.875rem;transition:all .2s ease}.btn-outline[_ngcontent-%COMP%]:hover{background:#f8f9fa;border-color:#004aad4d}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-bottom:20px}.stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:16px;border:1px solid #e9ecef;box-shadow:none;display:flex;align-items:center;gap:12px}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:8px;display:flex;align-items:center;justify-content:center}.stat-card[_ngcontent-%COMP%]   .stat-icon.advances[_ngcontent-%COMP%]{background:#3498db1a;color:#3498db}.stat-card[_ngcontent-%COMP%]   .stat-icon.debts[_ngcontent-%COMP%]{background:#f1c40f26;color:#aa8a0a}.stat-card[_ngcontent-%COMP%]   .stat-icon.total[_ngcontent-%COMP%]{background:#e74c3c1a;color:#e74c3c}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{display:block;font-size:20px;font-weight:600;color:#1e293b}.stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:13px;color:#6c757d}.tabs[_ngcontent-%COMP%]{display:flex;gap:4px;margin-bottom:16px;background:#fff;padding:4px;border-radius:4px;border:1px solid #dee2e6;width:fit-content}.tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;background:transparent;border-radius:4px;font-size:.875rem;font-weight:500;color:#6c757d;cursor:pointer;transition:all .2s ease}.tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{color:#004aad}.tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background:#004aad;color:#fff}.card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:none;border:none;overflow:hidden}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:0}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#004aad08;padding:12px 16px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:#6c757d;border-bottom:1px solid rgba(0,74,173,.1);text-align:left;white-space:nowrap}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #f8f9fa;font-size:.875rem;color:#1e293b;vertical-align:middle}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#004aad05}.person-cell[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500}.type-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:4px;font-size:.6875rem;font-weight:600;text-transform:uppercase}.type-badge.employee[_ngcontent-%COMP%]{background:#3498db1a;color:#3498db}.type-badge.supplier[_ngcontent-%COMP%]{background:#8b5cf61a;color:#8b5cf6}.remaining[_ngcontent-%COMP%]{font-weight:600;color:#e74c3c}.reason[_ngcontent-%COMP%]{max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.products-cell[_ngcontent-%COMP%]   .product-count[_ngcontent-%COMP%]{display:block;font-weight:500}.products-cell[_ngcontent-%COMP%]   .product-list[_ngcontent-%COMP%]{font-size:.75rem;color:#6c757d;display:block;max-width:200px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.status-badge[_ngcontent-%COMP%]{padding:4px 10px;border-radius:12px;font-size:.75rem;font-weight:600;text-transform:capitalize}.status-badge.pending[_ngcontent-%COMP%]{background:#f1c40f26;color:#796307}.status-badge.partial[_ngcontent-%COMP%]{background:#3498db26;color:#1d6fa5}.status-badge.cleared[_ngcontent-%COMP%]{background:#1abc9c26;color:#148f77}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px 24px;color:#6c757d}.empty-state[_ngcontent-%COMP%]   app-lucide-icon[_ngcontent-%COMP%]{margin-bottom:16px;opacity:.5;color:#1abc9c}.empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:#1e293b;margin:0 0 8px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem}.debt-modal[_ngcontent-%COMP%]{max-width:600px}.debt-modal[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]{margin-top:16px}.debt-modal[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:600;color:#1e293b;margin-bottom:8px}.debt-modal[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]{display:flex;gap:8px;margin-bottom:8px;align-items:center}.debt-modal[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .debt-modal[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #dee2e6;border-radius:4px;font-size:.875rem}.debt-modal[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:first-child, .debt-modal[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:first-child{flex:2}.debt-modal[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:nth-child(2), .debt-modal[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:nth-child(3), .debt-modal[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:nth-child(2), .debt-modal[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:nth-child(3){width:80px}.debt-modal[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .debt-modal[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#004aad80}.debt-modal[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]   .product-total[_ngcontent-%COMP%]{width:100px;text-align:right;font-weight:500;color:#004aad;font-size:.875rem}.debt-modal[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{width:28px;height:28px;border:none;background:#e74c3c1a;color:#e74c3c;border-radius:4px;cursor:pointer;display:flex;align-items:center;justify-content:center}.debt-modal[_ngcontent-%COMP%]   .products-section[_ngcontent-%COMP%]   .product-row[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:hover{background:#e74c3c33}.debt-modal[_ngcontent-%COMP%]   .debt-total[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#004aad0d;border-radius:4px;margin-top:16px;font-weight:600}.debt-modal[_ngcontent-%COMP%]   .debt-total[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1.125rem;color:#004aad}.btn-link[_ngcontent-%COMP%]{background:none;border:none;color:#004aad;font-size:.8125rem;cursor:pointer;padding:8px 0;display:inline-flex;align-items:center;gap:4px}.btn-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.btn-secondary[_ngcontent-%COMP%]{background:#fff;color:#495057;border:1px solid #dee2e6;padding:.625rem 1.25rem;border-radius:4px;font-weight:600;cursor:pointer;transition:all .2s ease}.btn-secondary[_ngcontent-%COMP%]:hover{background:#f8f9fa}.form-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};var nM=[{path:"login",component:mu},{path:"register",component:gu},{path:"forgot-password",component:fu},{path:"test-api",component:hu},{path:"lock",component:Qu},{path:"",component:vu,canActivate:[Ju],children:[{path:"dashboard",component:bu},{path:"feed",component:Mu},{path:"chats",component:wu},{path:"ikofi",component:Su},{path:"customers/list",component:ku},{path:"customers/add",component:Tu},{path:"customers/sold-milk",component:Au},{path:"suppliers/list",component:Ru},{path:"collections",component:Vu},{path:"sales",component:Bu},{path:"entities",component:Uu},{path:"users",component:$u},{path:"roles",component:qu},{path:"logs",component:Yu},{path:"audit",component:Ku},{path:"inventory",component:ap},{path:"inventory/movements",component:sp},{path:"payroll/employees",component:cp},{path:"payroll/processing",component:lp},{path:"payroll/advances",component:dp},{path:"",redirectTo:"dashboard",pathMatch:"full"}]}];var oM={providers:[kf({eventCoalescing:!0}),Hh(nM),xd(),{provide:Md,useClass:Jd,multi:!0}]};var up=class n{constructor(t,e,o){this.router=t;this.inactivityService=e;this.authService=o}title="SACCO ESB";ngOnInit(){this.router.events.pipe(vt(t=>t instanceof Kt)).subscribe(()=>{this.authService.isLoggedIn()&&!this.router.url.includes("/login")&&!this.router.url.includes("/lock")?this.inactivityService.init():this.inactivityService.stop()})}ngOnDestroy(){this.inactivityService.stop()}static \u0275fac=function(e){return new(e||n)(D(Ae),D(ei),D(Le))};static \u0275cmp=N({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,o){e&1&&g(0,"router-outlet")},dependencies:[R,Zi],encapsulation:2})};lh(up,oM).catch(n=>console.error(n));
